(function(z){
var fn=function(a){a=a.tabIndex;return z.pa(a)&&0<=a&&32768>a};var gn=function(a){a=a.getAttributeNode("tabindex");return null!=a&&a.specified};var hn=function(a){return/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))};
z.jn=function(a,b){var c=b.getBoundingClientRect();return c.bottom<a.lP||c.top>a.size.height?!1:!0};var kn=function(a,b){return z.ob(a.WE||[],function(a){return b===a||z.nf(a,b)})};var ln=function(a){if(a.Ak)throw Error("Can not change this state of the popup while showing.");};var mn=function(a){return a.bk.length?a.bk.pop():a.zo()};var nn=function(a){try{return a&&a.activeElement}catch(b){}return null};var on=function(a){return gn(a)&&fn(a)};
var pn=function(a){a=String(a);if(hn(a))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};z.qn=function(a,b){return z.aa[a]=b};var rn=function(a){z.Yj?z.S.enable(a.input,"placeholder-hilight",!1):z.S.enable(a.label,"placeholder-label-hilight",!1)};z.sn=function(a,b){return a.Ee.get(b)};z.tn=function(a){var b=z.U;b.GJ?(b.GJ.innerHTML=a,z.P(b.h,!0)):z.T.message(a)};var un=function(a,b){b&&b.length&&z.A(b,function(a){this.dispatchEvent(new z.jj(a[0],a[1]))},a)};
z.vn=function(a,b){var c=z.Km;c.ea.g(c,"update",function f(){window.document.body.contains(a)&&a.getBoundingClientRect().bottom<this.size.height&&(b.call(void 0),this.ea.pa(this,"update",f))});c.update()};var wn=function(a,b){a.jp=b;a.bd&&z.P(a.bd,a.jp)};z.xn=function(a,b){z.H.call(this);this.ea=new z.xd(this);this.Zh(a||null);b&&(this.hb=b)};var yn=function(a,b){return a.fd&&b?z.kb(a.fd,b):-1};z.zn=function(a,b){a.Th(b.parentNode,b)};
var An=function(a,b){a.Wa&&a.Wa.vf&&(z.Kb(a.Wa.vf,a.vb),z.Lb(a.Wa.vf,b,a));a.vb=b};var Bn=function(a){return new z.Gg(a.top,a.left+a.width,a.top+a.height,a.left)};var Cn=function(a){return"CSS1Compat"==a.Ra.compatMode};z.Dn=function(a){if(a.da)return pn(a.da.responseText)};var En=function(a){z.Sd(a);for(var b={},c=0;c<a.kb.length;c++){var d=a.kb[c];b[d]=a.Qb[d]}return b};var Fn=function(a){return a};
var Gn=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^(0,z.I)()).toString(36)};var Hn=function(a){a=a?z.Ke(a):window.document;return!z.C||9<=z.jh||Cn(z.Ie(a))?a.documentElement:a.body};z.In=function(a){var b=z.Ke(a),c=new z.Ge(0,0),d=Hn(b);if(a==d)return c;a=z.Sg(a);b=z.xf(z.Ie(b));c.x=a.left+b.x;c.y=a.top+b.y;return c};var Jn=function(a,b){for(var c=b;c=c.previousSibling;)if(c==a)return-1;return 1};
z.Kn=function(a,b){for(var c in a)if(a[c]==b)return!0;return!1};z.Ln=function(a){var b=0,c;for(c in a)b++;return b};z.Mn=function(a,b,c){return Array.prototype.every.call(a,b,c)};var Nn=function(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"\x26";case "lt":return"\x3c";case "gt":return"\x3e";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!(0,window.isNaN)(d))return String.fromCharCode(d)}return a}})};
var On=function(a){var b={"\x26amp;":"\x26","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"'},c;c=z.u.document.createElement("div");return a.replace(Pn,function(a,f){var g=b[a];if(g)return g;if("#"==f.charAt(0)){var h=Number("0"+f.substr(1));(0,window.isNaN)(h)||(g=String.fromCharCode(h))}g||(c.innerHTML=a+" ",g=c.firstChild.nodeValue.slice(0,-1));return b[a]=g})};z.Qn=function(a){return new z.He(a.offsetWidth,a.offsetHeight)};
var Rn=function(a){if(z.C&&!(8<=z.jh))return a.offsetParent;var b=z.Ke(a),c=z.Og(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(11==a.nodeType&&a.host&&(a=a.host),c=z.Og(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null};
z.Sn=function(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||(z.D||z.Gc)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}};var Tn=function(a,b,c,d){if(null!=a)for(a=a.firstChild;a;){if(b(a)&&(c.push(a),d)||Tn(a,b,c,d))return!0;a=a.nextSibling}return!1};
var Un=function(a,b){var c=a.parentNode;if(c==b)return-1;for(var d=b;d.parentNode!=c;)d=d.parentNode;return Jn(d,a)};var Vn=function(a,b){return new z.Ge(a.x-b.x,a.y-b.y)};var Wn=function(a){this.uv=a};
var Xn=function(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(z.ma(b)){a.serializeArray(b,c);return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");var d="",f;for(f in b)if(Object.prototype.hasOwnProperty.call(b,f)){var g=b[f];"function"!=typeof g&&(c.push(d),Yn(f,c),c.push(":"),Xn(a,a.uv?a.uv.call(b,f,g):g,c),d=",")}c.push("}");return}}switch(typeof b){case "string":Yn(b,c);break;case "number":c.push((0,window.isFinite)(b)&&!(0,window.isNaN)(b)?
String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}};var Yn=function(a,b){b.push('"',a.replace(z.Tl,function(a){var b=Zn[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),Zn[a]=b);return b}),'"')};var $n=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+z.ta(a):b.substr(0,1)+a};
var ao=function(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(z.na(a)||z.oa(a))return z.Mn(a,b,void 0);for(var c=z.Id(a),d=z.Hd(a),f=d.length,g=0;g<f;g++)if(!b.call(void 0,d[g],c&&c[g],a))return!1;return!0};var bo=function(a){return a.lb&&"function"==typeof a.lb?a.lb():z.na(a)||z.oa(a)?a.length:z.Ln(a)};var co=function(a){return z.Wa(a,"\x26")?"document"in z.u?On(a):Nn(a):a};
var eo=function(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");};
z.fo=function(a,b,c){c=c?null:a.getElementsByTagName("*");if(z.tm){if(b=b?"none":"",a.style&&(a.style[z.tm]=b),c){a=0;for(var d;d=c[a];a++)d.style&&(d.style[z.tm]=b)}}else if(z.C||z.Lg)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)};var go=function(a){var b=z.In(a);a=z.Yg(a);return new z.Hg(b.x,b.y,a.width,a.height)};var ho=function(a,b,c){var d=z.In(a);b instanceof z.Ge&&(c=b.y,b=b.x);z.Qg(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))};
var io=function(a,b){var c=b||z.Se(window.document),d;d=c||z.Se(window.document);var f=z.In(a),g=z.In(d),h=z.ih(d);if(d==z.Se(window.document)){var k=f.x-d.scrollLeft,f=f.y-d.scrollTop;!z.C||10<=z.jh||(k+=h.left,f+=h.top)}else k=f.x-g.x-h.left,f=f.y-g.y-h.top;var h=d.clientHeight-a.offsetHeight,g=d.scrollLeft,l=d.scrollTop,g=g+Math.min(k,Math.max(k-(d.clientWidth-a.offsetWidth),0)),l=l+Math.min(f,Math.max(f-h,0));d=new z.Ge(g,l);c.scrollLeft=d.x;c.scrollTop=d.y};
var jo=function(a){for(var b=new z.Gg(0,window.Infinity,window.Infinity,0),c=z.Ie(a),d=c.xa().body,f=c.xa().documentElement,g=z.Se(c.Ra);a=Rn(a);)if(!(z.C&&0==a.clientWidth||z.D&&0==a.clientHeight&&a==d)&&a!=d&&a!=f&&"visible"!=z.Og(a,"overflow")){var h=z.In(a),k=new z.Ge(a.clientLeft,a.clientTop);h.x+=k.x;h.y+=k.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=g.scrollLeft;g=g.scrollTop;b.left=Math.max(b.left,
d);b.top=Math.max(b.top,g);c=z.Qe(c.eb());b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,g+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null};var ko=function(a){var b=a.body;a=a.documentElement;return new z.Ge(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)};var lo=function(a,b){var c=a.style[z.cb(b)];return"undefined"!==typeof c?c:a.style[z.Jg(a,b)]||""};
var mo=function(a,b){var c=b.x<a.left?b.x-a.left:b.x>a.right?b.x-a.right:0,d=b.y<a.top?b.y-a.top:b.y>a.bottom?b.y-a.bottom:0;return Math.sqrt(c*c+d*d)};
var no=function(a,b,c,d,f){if(!(z.C||z.Gc||z.D&&z.E("525")))return!0;if(z.Uc&&f)return z.Sn(a);if(f&&!d)return!1;z.pa(b)&&(b=z.Eg(b));if(!c&&(17==b||18==b||z.Uc&&91==b))return!1;if((z.D||z.Gc)&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(z.C&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!(z.D||z.Gc)}return z.Sn(a)};
var oo=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||112<=a.keyCode&&123>=a.keyCode)return!1;switch(a.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!z.B;default:return 166>a.keyCode||183<a.keyCode}};z.po=function(a,b,c){c?z.Ag(a,b):z.Cg(a,b)};var qo=function(a,b){a.className=b};
var ro=function(a){return z.xg(a,"label")};var so=function(a,b){var c="";b&&(c=b.id);z.vg(a,"activedescendant",c)};z.to=function(a,b){return z.vf(a,null,b,void 0)};z.uo=function(a){var b=[];z.sf(a,b,!1);return b.join("")};z.vo=function(a,b){var c=[];Tn(a,b,c,!1);return c};z.wo=function(a){if("outerHTML"in a)return a.outerHTML;var b=z.Ke(a).createElement("DIV");b.appendChild(a.cloneNode(!0));return b.innerHTML};
var xo=function(a){var b,c=arguments.length;if(!c)return null;if(1==c)return arguments[0];var d=[],f=window.Infinity;for(b=0;b<c;b++){for(var g=[],h=arguments[b];h;)g.unshift(h),h=h.parentNode;d.push(g);f=Math.min(f,g.length)}g=null;for(b=0;b<f;b++){for(var h=d[0][b],k=1;k<c;k++)if(h!=d[k][b])return g;g=h}return g};
var yo=function(a,b){if(a==b)return 0;if(a.compareDocumentPosition)return a.compareDocumentPosition(b)&2?1:-1;if(z.C&&!(9<=z.jh)){if(9==a.nodeType)return-1;if(9==b.nodeType)return 1}if("sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode){var c=1==a.nodeType,d=1==b.nodeType;if(c&&d)return a.sourceIndex-b.sourceIndex;var f=a.parentNode,g=b.parentNode;return f==g?Jn(a,b):!c&&z.nf(f,b)?-1*Un(a,b):!d&&z.nf(g,a)?Un(b,a):(c?a.sourceIndex:f.sourceIndex)-(d?b.sourceIndex:g.sourceIndex)}d=z.Ke(a);
c=d.createRange();c.selectNode(a);c.collapse(!0);d=d.createRange();d.selectNode(b);d.collapse(!0);return c.compareBoundaryPoints(z.u.Range.START_TO_END,d)};z.zo=function(a){return z.ja(a.previousElementSibling)?a.previousElementSibling:z.kf(a.previousSibling,!1)};var Ao=function(a){return z.ja(a.nextElementSibling)?a.nextElementSibling:z.kf(a.nextSibling,!0)};z.Bo=function(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)};
z.Co=function(a,b){var c=b||window.document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):z.Ne(window.document,"*",a,b)};z.Do=function(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1};var Eo=function(a,b){return(new Wn(b)).serialize(a)};var Fo=function(a){return eval("("+a+")")};var Go=function(a){this.Qb=new z.Qd;a&&this.addAll(a)};
var Ho=function(a,b){var c=bo(b);if(a.lb()>c)return!1;!(b instanceof Go)&&5<c&&(b=new Go(b));return ao(a,function(a){var c=b;return c.contains&&"function"==typeof c.contains?c.contains(a):c.Ci&&"function"==typeof c.Ci?c.Ci(a):z.na(c)||z.oa(c)?z.rb(c,a):z.Kn(c,a)})};var Io=function(a){try{return z.Md(a).next()}catch(b){if(b!=z.Nd)throw b;return null}};z.Jo=function(a,b){var c=z.Md(a),d=new z.Ld;d.next=function(){for(;;){var a=c.next();if(b.call(void 0,a,void 0,c))return a}};return d};
var Ko=function(a,b,c){return Math.min(Math.max(a,b),c)};z.Lo=function(a){var b={},c;for(c in a)b[a[c]]=c;return b};var Mo=function(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c};var No=function(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];if(z.ma(d))for(var f=0;f<d.length;f+=8192)for(var g=z.yb(d,f,f+8192),g=No.apply(null,g),h=0;h<g.length;h++)b.push(g[h]);else b.push(d)}return b};
z.Oo=function(a,b){for(var c=z.oa(a)?a.split(""):a,d=a.length-1;0<=d;d--)if(d in c&&b.call(void 0,c[d],d,a))return d;return-1};var Po=function(a,b){var c=0;z.A(a,function(a,f,g){b.call(void 0,a,f,g)&&++c},void 0);return c};z.Qo=function(a){return function(){return!a.apply(this,arguments)}};z.Ro=function(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};
z.So=function(a){var b=arguments,c=b.length;return function(){for(var a,f=0;f<c;f++)a=b[f].apply(this,arguments);return a}};z.To=function(a,b){var c=arguments,d=c.length;return function(){var a;d&&(a=c[d-1].apply(this,arguments));for(var b=d-2;0<=b;b--)a=c[b].call(this,a);return a}};var Uo=function(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};z.Vo=function(){return"goog_"+z.Fl++};z.Wo=function(a){return a.replace(/[\s\xa0]+$/,"")};
z.Xo=function(a){return a.replace(/^[\s\xa0]+/,"")};var Yo=function(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};z.Zo=function(a){return a.replace(/(\r\n|\r|\n)+/g," ")};z.$o=function(a){return!/[^\t\n\r ]/.test(a)};z.ap=function(a){return/^[\s\xa0]*$/.test(a)};z.bp=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c};var cp=function(){throw Error("unimplemented abstract method");};
z.dp=function(a){z.de.call(this);this.JM=!!a;this.headers.set("X-Requested-With","XMLHttpRequest");this.on("complete",this.FR,!1,this)};z.ep=function(a,b,c,d){var f=new z.dp;if(b)f.on("complete",b);f.ajax(a,d,c)};var fp=function(a,b){gp.push({ZM:a,filter:b})};var hp=function(a){var b=a.getResponseHeader("content-type");if(b){var c=ip[b.split(";")[0].toLowerCase()];if(c&&gp.length){var d=z.se(a);z.A(gp,function(a){"*"!==a.ZM&&a.ZM!==c||a.filter("json"===c?JSON.parse(d):d,this)},a)}}};var jp=function(a){kp.push(a)};
var lp=function(a){kp.forEach(function(b){return b(a)})};var mp=function(){if(np)return np;var a=z.M("div",{id:"zh-global-spinner",style:"display:none",innerHTML:"鍔犺浇涓€�"});window.document.body.appendChild(a);return np=a};var op=function(){z.H.call(this)};
z.pp=function(a,b,c){function d(){var b=new z.dp(!0),d="/question/"+(a?"set_anonymous":"set_public"),g="qid\x3d"+(c||z.X.qa);b.on("success",function(){var c=z.Dn(b);c&&!c.r&&(z.X&&(z.X.wb=a),f.dispatchEvent(new z.qp(a)))});b.ajax(d,g)}var f=z.rp,g={title:"纭浣跨敤鍖垮悕韬唤锛�",content:'\x3cp\x3e浣跨敤鍖垮悕韬唤鍚嶾x3c/p\x3e\x3cul style\x3d"margin: 5px 0 0 5px;list-style-position: inside;"\x3e\x3cli\x3e鎻愰棶銆佸洖绛斻€佽禐鍚屻€佸叧娉ㄤ細鏄剧ず涓哄尶鍚峔x3c/li\x3e\x3cli\x3e闄ゆ彁闂€呮湰浜猴紝涓嶈兘鍖垮悕缂栬緫闂\x3c/li\x3e\x3cli\x3e涓嶈兘閭€璇峰埆浜哄洖绛旈棶棰榎x3c/li\x3e\x3c/ul\x3e'},h={title:"纭鍙栨秷鍖垮悕韬唤锛�",
content:"鍙栨秷鍖垮悕韬唤鍚庯紝 鎻愰棶銆佸洖绛斻€佽禐鍚屽拰鍏虫敞灏嗕互瀹炲悕鏄剧ず銆�"};z.T.confirm(a?g:h,function(a){a&&d();b&&b(a)})};z.qp=function(a){this.type="anon_change";this.wb=a};var sp=function(a){z.H.call(this);this.J=window.$.extend({Nk:z.r},a||{});this.Bs=z.sm.guiders2||{};this.zT=(0,z.I)();this.fb=z.$h&&!z.ai;this.Db()};var tp=function(a,b,c){function d(g){g||(g=a.shift())&&b.call(c,g,f++,d)}a=a.slice();var f=0;d()};
var up=function(a){var b={"home-topstory":{path:"/",offset:{right:-10},fv:"righttop",co:"arrow-lefttop",UB:".zu-main-feed-con",Du:".zu-main-sidebar"}},c=a.Bs.section;c&&tp(z.Hb(c),function(a,f,g){(f=b[a])&&f.path===window.location.pathname?vp(this,"section",a,c[a],f,!1,g):g()},a)};
var wp=function(a){var b={"/":{offset:{top:6},trigger:"1page-down inview",fv:"lefttop",co:"arrow-righttop",UB:".js-sidebarRoundtable",Du:".zu-main-content-inner"},"/explore":{fv:"lefttop",co:"arrow-righttop",UB:".explore-side-section-roundtable",Du:".zu-main-content-inner"}},c=a.Bs["exclusive-popover"];c&&tp(z.Hb(c),function(a,f,g){var h;"roundtable"===a&&(h=b[window.location.pathname]);h&&vp(this,"exclusive-popover",a,c[a],h,h.trigger,g)},a)};
var vp=function(a,b,c,d,f,g,h){if(b&&c&&d&&f){var k=(0,window.$)(f.UB);if(k.length&&("righttop"!==f.fv||300<z.Qe().width-k[0].getBoundingClientRect().right)){var l=(0,window.$)(z.Ja('\x3cdiv class\x3d"guide2-section-popover"\x3e\x3cdiv class\x3d"title"\x3e%s\x3c/div\x3e\x3cdiv class\x3d"content"\x3e%s\x3c/div\x3e\x3cdiv class\x3d"action"\x3e\x3ca class\x3d"dismiss" href\x3d"%s"\x3e%s\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e',d.title||"",d.content,d.dismissHref||"#",d.dismissText));l.addClass(f.fv).addClass(f.co).appendTo(k);
var n=f.offset;n&&window.$.each(["left","top","right","bottom"],function(a,b){n[b]&&l.css("margin-"+b,n[b])});var q=(0,window.$)([]);z.Aa(function(a){return(0,z.I)()-a},a.zT);var v=function(){f.Du&&(q=(0,window.$)('\x3cspan class\x3d"guidev2-mask"/\x3e').appendTo(f.Du));(0,window.setTimeout)(function(){l.add(q).addClass("fx-show");K()});window.$.post("/node/Guide2",{method:"dismiss_popover",params:{category:b,key:c}})},F=function(a){if(window.Modernizr.csstransitions)l.add(q).removeClass("fx-show").onTransitionEnd(function(){(0,window.$)(this).remove()},
350);else l.add(q).remove();h&&h(a)};a=function(a){function b(a){var c=!1;return function(){!0!==c&&(c=a.apply(this,arguments));return c}}var c=0,d=b(function(){var a=window.pageYOffset;if(a>=f.size.height)return c=a,!0}),d={"1page-down .5page-up":z.Ro(d,b(function(){return c-window.pageYOffset>=f.size.height/2})),"1page-down inview":z.Ro(d,function(){return z.jn(f,k[0])})},f=new z.pi,g=d[a]||d["1page-down .5page-up"];f.o().g(f,"update",function(){g()&&(f.dispose(),v())})};var K=function(){var a=
new z.pi;a.o().g(a,"update",function(){l.parent().length?z.jn(a,l[0])||(F(),a.dispose()):a.dispose()})};(0,window.$)(".dismiss",l).click(function(){F();return!1});(0,window.$)(".skip-all",l).click(function(){window.$.post("/node/Guide2",{method:"skip_popover",params:{category:b}});F(!0);return!1});g?a(g):v()}}};var xp=function(){var a=(0,window.$)("#guidersv2-page-banner");(0,window.$)(".js-close",a).click(function(){a.remove()})};
var yp=function(a){function b(a){window.$.post("/node/Guide2",{method:"dismiss_editor",params:{key:a}})}function c(a){z.ti(Object.assign({category:"popup_guide",label:{bio:"popup_guide_personal_introduction",topic:"popup_guide_topic_recommendation"}[h]},a))}function d(a){k||(k=new z.R,k.ud(!0),k.HG=!1,z.S.add(k.We(),"Guide"));k.X(a);k.F(!0)}var f=window.$.Deferred(),g=a.Bs.editor;if(!g||!g.length)return f.reject();var g=g.slice(),h,k,l={},n={bio:function(a){var f=(0,window.$)("#tmpl-Guide-BioEditor").html();
if(!f)return window.console&&window.console.warn("Cannot find template"),a();var g=z.So(a,function(){b("bio")});d(f);(function(a){a=(0,window.$)(a).off();var b=(0,window.$)(".js-submit",a),d=(0,window.$)('input[name\x3d"bio"]',a);b.click(function(){var a=l.ux=window.$.trim(d.val());a?(window.$.post("/node/Guide2",{method:"add_headline",params:{headline:a}}),c({action:"click_edit_personal_introduction_submit",attributes:{personal_introduction:a}})):c({action:"click_edit_personal_introduction_skip"});
g()})})(k.S());c({action:"popup_edit_personal_introduction_appear"})},topic:function(a){function f(){z.rp.dispatchEvent("guider2:topicselected")}window.$.get("/node/GuideTopicList",function(a){(0,window.$)(".Guide-topicsLoading").remove();(0,window.$)(a).appendTo(".Guide-content")});var g=(0,window.$)("#tmpl-Guide-Topics").html();if(g){var h=z.So(a,function(){b("topic")});d(g);(function(a){var b=(0,window.$)(a).off();a=(0,window.$)(".js-submit",b);b.on("click",".Guide-TopicsItem",function(){var a=
(0,window.$)(this);a.toggleClass("is-checked");var b=(0,window.$)(".template-relatedTopics",a);if(b.length){var c=b.html();b.remove();(0,window.$)(c).insertAfter(a)}});a.click(function(){var a=l.Fn=[],d={};(0,window.$)(".Guide-TopicsItem",b).filter(".is-checked").each(function(){var b=(0,window.$)(this),c=b.data("id"),f=b.index(),b=b.find(".name").text();a.push(c);d[c]={topic:b,row:Math.ceil((f+1)/3),column:f%3+1}});a.length?(window.$.post("/topics/follow",{follow_ids:a.join(",")},f),c({action:"click_popup_guide_topic_recommendation_submit",
attributes:{selected_topic:d}})):(f(),c({action:"click_popup_guide_topic_recommendation_skip"}));h()})})(k.S());c({action:"popup_guide_topic_recommendation_appear"})}else window.console&&window.console.warn("Cannot find template"),a(),f()}};(0,window.$)(window).on("beforeunload.guide2",function(){k&&k.W()&&c({Zc:!0,action:{bio:"click_edit_personal_introduction_close",topic:"click_guide_topic_recommendation_close"}[h]})});tp(g,function(a,b,c){if(n[a]){h=a;var d=b===g.length-1,O=function(a){if(k)if(window.Modernizr.cssanimations)var b=
(0,window.$)(k.We()).addClass("fx-hide").onAnimationEnd(function(){b.removeClass("fx-hide");a()},400);else a()};n[a](function(){d?O(function(){k.F(!1);f.resolve(l);(0,window.$)(window).off(".guide2");"/topic"===window.location.pathname&&window.location.reload()}):O(c)})}});return f.promise()};var zp=function(a,b){z.H.call(this);a&&this.attach(a,b)};var Ap=function(a,b,c,d){z.Pc.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c};var Bp=function(){};
var Cp=function(a,b,c){if(a=c||a.Gf())c=b.getAttribute("role")||null,a!=c&&z.ug(b,a)};var Dp=function(a,b,c){var d=b.RE;null!=d&&a.BC(c,d);b.W()||z.vg(c,"hidden",!b.W());b.isEnabled()||a.$g(c,1,!b.isEnabled());Ep(b,8)&&a.$g(c,8,!!(b.N&8));Ep(b,16)&&a.$g(c,16,b.Cg());Ep(b,64)&&a.$g(c,64,b.Eb())};var Fp=function(a,b){var c=[];b&&(a=a.concat([b]));z.A([],function(d){!z.Mn(d,z.Aa(z.rb,a))||b&&!z.rb(d,b)||c.push(d.join("_"))});return c};
var Gp=function(a){var b=a.V();b.replace(/\xa0|\s/g," ");a.vs={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};z.Hp=function(){};z.Ip=function(a,b){if(!a)throw Error("Invalid class name "+a);if(!z.qa(b))throw Error("Invalid decorator function "+b);Jp[a]=b};
var Kp=function(a,b,c){z.Q.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=z.ta(b);if(d=Lp[d])break;b=b.v?b.v.constructor:null}b=d?z.qa(d.ba)?d.ba():new d:null}this.M=b;this.ln(z.ja(a)?a:null);this.RE=null};
var Mp=function(a,b){var c=a.o(),d=a.m();b?(c.g(d,"mouseover",a.Id).g(d,"mousedown",a.ze).g(d,"mouseup",a.Mf).g(d,"mouseout",a.wm),a.cp!=z.r&&c.g(d,"contextmenu",a.cp),z.C&&(c.g(d,"dblclick",a.sH),a.qp||(a.qp=new Np(a),z.Ac(a,a.qp)))):(c.pa(d,"mouseover",a.Id).pa(d,"mousedown",a.ze).pa(d,"mouseup",a.Mf).pa(d,"mouseout",a.wm),a.cp!=z.r&&c.pa(d,"contextmenu",a.cp),z.C&&(c.pa(d,"dblclick",a.sH),z.Cc(a.qp),a.qp=null))};var Ep=function(a,b){return!!(a.kr&b)};
var Op=function(a,b){return!!(a.Gj&b)&&Ep(a,b)};var Pp=function(a,b,c){return Ep(a,b)&&!!(a.N&b)!=c&&(!(a.cl&b)||a.dispatchEvent(eo(b,c)))&&!a.Xd};var Np=function(a){z.xc.call(this);this.Fs=a;this.ws=!1;this.ea=new z.xd(this);z.Ac(this,this.ea);a=this.Fs.h;this.ea.g(a,"mousedown",this.um).g(a,"mouseup",this.Jt).g(a,"click",this.tm)};var Qp=function(){};z.Rp=function(a,b,c){Kp.call(this,a,b||Qp.ba(),c)};var Sp=function(){};
var Tp=function(a,b,c){if(b){var d=Up(a,c);z.zg(b,d)||(z.Db(Vp,function(a){a=Up(this,a);z.po(b,a,a==d)},a),z.vg(b,"checked",c==Wp?"mixed":c==Xp?"true":"false"))}};var Up=function(a,b){var c=a.V();if(b==Xp)return c+"-checked";if(b==Yp)return c+"-unchecked";if(b==Wp)return c+"-undetermined";throw Error("Invalid checkbox state: "+b);};var Zp=function(a,b,c){c=c||Sp.ba();Kp.call(this,null,c,b);this.Ai=z.ja(a)?a:Yp};z.$p=function(){};var aq=function(){};
z.bq=function(a,b,c,d,f){function g(a){a&&(a.tabIndex=0,z.ug(a,h.Gf()),z.Ag(a,"goog-zippy-header"),cq(h,a),a&&h.TI.g(a,"keydown",h.zV))}z.H.call(this);this.ca=f||z.Ie();this.qg=this.ca.m(a)||null;this.Xj=this.ca.m(d||null);this.dm=(this.su=z.qa(b)?b:null)||!b?null:this.ca.m(b);this.ub=1==c;z.ja(c)||this.su||(this.Xj?this.ub=z.ah(this.Xj):this.qg&&(this.ub=z.zg(this.qg,"goog-zippy-expanded")));this.TI=new z.xd(this);this.jB=new z.xd(this);var h=this;g(this.qg);g(this.Xj);this.Lc(this.ub)};
var dq=function(a){var b=a.Xj;return b&&z.ah(b)?b:a.qg};var cq=function(a,b){b&&a.jB.g(b,"click",a.yV)};var eq=function(a,b,c){z.Lc.call(this,a,b);this.th=c};var fq=function(){z.R.call(this);this.ud(!0)};var gq=function(a){var b=(0,window.$)(".resend-activation-email",a.ZD);a.$t(b,10,function(){window.$.post("/reactive")})};
var hq=function(a){window.$.get("/settings/account/request_unlock");var b=(0,window.$)("form.send-code",a.wj),c=a.Pn=(0,window.$)("form.activate",a.wj),d=(0,window.$)(".submit",b);b.validate(window.$.extend({},iq,{submitHandler:z.Ci(d,window.$.proxy(a.BB,a))}));b=(0,window.$)(".submit",c);c.validate(window.$.extend({},iq,{submitHandler:z.Ci(b,window.$.proxy(a.pB,a))}));b=(0,window.$)("button.resend-code",c);a.$t(b,60,function(){var a=(0,window.$)('input[name\x3d"account"]',c).val();if(""===a)return c.data("validator").showErrors({account:"璇峰～鍐欐墜鏈哄彿鎴栭偖绠�"}),
!1;var b=this.df(a),d;b?(a={email:a},d="/settings/account/send_new_email_digits"):(a={phone_no:a},d="/settings/account/send_new_phone_digits");var k=this;window.$.post(d,a,function(a){a.success?jq(k,b):(a=a.payload.fields,b?k.Gb(a,"email","account"):k.Gb(a,"phone_no","account"),c.data("validator").showErrors(a))})})};var jq=function(a,b){a.Kw||(a.Kw=(0,window.$)(".tip",a.wa));b?a.Kw.html("楠岃瘉鐮佸凡鍙戦€佽嚦浣犵殑閭锛岃鏌ユ敹銆�"):a.Kw.html("楠岃瘉鐮佸凡鍙戦€佽嚦浣犵殑鎵嬫満锛岃鏌ユ敹銆�")};
var kq=function(a){z.Pj.call(this,"SimpleSign "+(void 0===a?"":a))};
var lq=function(a){function b(){(0,window.clearTimeout)(g);g=null;try{delete window[d]}catch(a){window[d]=null}}"string"===window.$.type(a)&&(a={url:a});a=a||{};var c=window.$.Deferred(),d="zh"+(0,z.I)()+Gn(),f=window.$.extend({},a.data||{},{callback:d}),g=null;a.timeout&&(g=(0,window.setTimeout)(function(){window[d]&&(window[d]=b,c.reject("timeout"))},a.timeout));window[d]=c.resolve;a=a.url+(-1===a.url.indexOf("?")?"?":"\x26")+window.$.param(f);z.Ak(a).fail(c.reject).always(b);return c.promise()};
var mq=function(a,b){b=void 0===b?0:b;z.H.call(this);this.FO=Object.assign({},nq,a);this.PW=b;this.xv=1E3;this.tJ=3E4;this.pT=1.5};var oq=function(a){z.Q.apply(this,arguments)};var pq=function(a){z.R.apply(this,arguments)};var qq=function(){z.R.call(this);this.ud(!0)};z.rq=function(){z.R.call(this);this.ud(!0)};var sq=function(){z.H.call(this);this.N=tq;this.endTime=this.startTime=null};var uq=function(a,b,c){z.xc.call(this);this.Dk=a;this.Eh=b||0;this.ea=c;this.Nl=(0,z.t)(this.ph,this)};
var vq=function(a){a.Jc()&&a.fire()};var wq=function(a){a=z.ta(a);delete xq[a];z.Jb(xq)&&yq&&yq.stop()};var zq=function(){yq||(yq=new uq(function(){Aq()},20));var a=yq;a.Jc()||a.start()};var Aq=function(){var a=(0,z.I)();z.Db(xq,function(b){Bq(b,a)});z.Jb(xq)||zq()};
var Cq=function(a,b,c,d){sq.call(this);if(!z.ma(a)||!z.ma(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.fr=a;this.KQ=b;this.duration=c;this.vE=d;this.coords=[];this.tj=!1;this.progress=0};var Bq=function(a,b){a.progress=(b-a.startTime)/(a.endTime-a.startTime);1<=a.progress&&(a.progress=1);Dq(a,a.progress);1==a.progress?(a.N=tq,wq(a),a.Dd("finish"),a.Kg()):1==a.N&&a.qB()};
var Dq=function(a,b){z.qa(a.vE)&&(b=a.vE(b));a.coords=Array(a.fr.length);for(var c=0;c<a.fr.length;c++)a.coords[c]=(a.KQ[c]-a.fr[c])*b+a.fr[c]};var Eq=function(a,b){z.Lc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.progress=b.progress;this.state=b.N;this.Z_=b};
var Fq=function(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if(Gq.test(c))return b.Qt=Hq(c),b.type="hex",b;c=Iq(a);if(c.length){var d=c[0];a=c[1];c=c[2];d=Number(d);a=Number(a);c=Number(c);if((0,window.isNaN)(d)||0>d||255<d||(0,window.isNaN)(a)||0>a||255<a||(0,window.isNaN)(c)||0>c||255<c)throw Error('"('+d+","+a+","+c+'") is not a valid RGB color');d=Jq(d.toString(16));a=Jq(a.toString(16));c=Jq(c.toString(16));b.Qt="#"+d+a+c;b.type="rgb";return b}if(Kq&&(c=Kq[a.toLowerCase()]))return b.Qt=
c,b.type="named",b;throw Error(a+" is not a valid color string");};var Hq=function(a){if(!Gq.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(Lq,"#$1$1$2$2$3$3"));return a.toLowerCase()};var Iq=function(a){var b=a.match(Mq);if(b){a=Number(b[1]);var c=Number(b[2]),b=Number(b[3]);if(0<=a&&255>=a&&0<=c&&255>=c&&0<=b&&255>=b)return[a,c,b]}return[]};var Jq=function(a){return 1==a.length?"0"+a:a};var Nq=function(a,b,c,d,f){Cq.call(this,b,c,d,f);this.element=a};
var Oq=function(a,b,c,d,f){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");Nq.apply(this,arguments)};var Pq=function(a,b,c,d,f){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");Nq.apply(this,arguments)};var Qq=function(a,b,c,d,f){Nq.call(this,a,[b],[c],d,f)};var Rq=function(a,b,c,d,f){Nq.call(this,a,[b],[c],d,f)};
var Sq=function(a,b,c,d,f){z.pa(b)&&(b=[b]);z.pa(c)&&(c=[c]);Nq.call(this,a,b,c,d,f);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");this.pu=Tq};var Uq=function(a,b,c){Sq.call(this,a,1,0,b,c)};var Vq=function(a,b,c){Sq.call(this,a,0,1,b,c)};var Wq=function(a,b,c,d,f){if(3!=b.length||3!=c.length)throw Error("Start and end points must be 3D");Nq.apply(this,arguments)};var Xq=function(){return window.$.Deferred(function(a){(0,window.setTimeout)(a.resolve,2E3)}).promise()};
var Yq=function(a,b){var c=z.vo(a,function(a){return 3===a.nodeType&&!z.ap(a.nodeValue)})[0];c&&(c.nodeValue=b)};z.Zq=function(a,b){var c=new Uq(a,500);b&&z.G(c,"finish",(0,z.t)(function(){z.N(this)},a));c.play()};z.$q=function(a,b,c,d){"bottom"===d&&(d="b");var f="";!1!==c&&(f='data-hovercard\x3d"t$'+(d||"t")+"$"+a[1]+'"');return["\x3ca ",f,' class\x3d"',b||"zm-item-tag",'" href\x3d"/topic/',a[1],'"\x3e',a[0],"\x3c/a\x3e"].join("")};
z.ar=function(a){return a?a.replace(/^\s+/,"").replace(/\s+$/,""):""};var br=function(a){return a?a.replace(/<[^>]+>/g,""):""};var cr=function(){return'\x3ca href\x3d"javascript:;" class\x3d"zu-edit-button" name\x3d"edit"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e淇敼\x3c/a\x3e'};z.dr=function(a,b){z.P(a,!0);z.P(b,!1)};
var er=function(a,b,c){var d;a&&(b=(0,window.$)(a).data("animation")||new Wq(a,[255,255,150],b||[255,255,255],c||2E3),(0,window.$)(a).data("animation",b),1==b.N&&b.stop(!0),d=a.style.backgroundColor,z.ld(b,"end",function(){z.Ig(this.element,"background-color",d)},!1,b),b.play())};z.fr=function(a,b,c){a&&(gr&&window.document[hr]?z.G(window.document,ir,function f(){window.document[hr]||(er(a,b,c),z.md(window.document,ir,f))}):er(a,b,c))};
var jr=function(a){var b=0,c=0;do c=a.indexOf("?",c),-1!==c&&(b++,c+=1);while(-1!==c);return b};
var kr=function(a,b,c){b=z.yb(a.data,1);if("topic"===a.data[0]){a=(b[2]?'\x3cimg class\x3d"zm-item-img-avatar zg-left" src\x3d"'+b[2]+'"\x3e':"")+'\x3cspan class\x3d"zu-autocomplete-row-name'+(b[3]?"":" zu-autocomplete-row-name-info")+'" title\x3d"'+b[0]+'"\x3e'+b[0]+"\x3c/span\x3e";var d=5<b.length&&b[5];4<=b.length&&(a+='\x3cspan class\x3d"zg-gray-normal zu-autocomplete-row-description"\x3e',b[4]||d?(d&&(a+="鍙堢О "+b[5]),b[4]&&d&&(a+="锛�"),b[4]&&(a+=b[4]+" 浜哄叧娉�")):a+="\x26nbsp;",a+="\x3c/span\x3e");
c.innerHTML=a}else if("people"===a.data[0]){a=Array.isArray(b[5])?b[5]:[b[5]];var f=d="";(a[0]||a[1])&&a[2]?f='\x3cspan class\x3d"icon icon-badge icon-badge-id-an"\x3e\x3c/span\x3e':a[0]?f='\x3cspan class\x3d"OrgIcon sprite-global-icon-org-14"\x3e\x3c/span\x3e':a[1]?(d=b[6]||"",f='\x3cspan class\x3d"icon icon-badge icon-badge-identity"\x3e\x3c/span\x3e'):a[2]&&(d="浼樼鍥炵瓟鑰�",f='\x3cspan class\x3d"icon icon-badge icon-badge-best_answerer"\x3e\x3c/span\x3e');c.innerHTML='\n      \x3cimg class\x3d"zm-item-img-avatar zg-left" src\x3d"'+
b[2]+'"\x3e\n      \x3cdiv class\x3d"zu-autocomplete-row-name" title\x3d"'+b[0]+'"\x3e\n        '+b[0]+f+'\n      \x3c/div\x3e\n      \x3cdiv class\x3d"zu-autocomplete-row-description"\x3e\n        \x3cspan class\x3d"badge-summary"\x3e'+d+'\x3c/span\x3e\n        \x3cspan class\x3d"zg-gray-normal bio"\x3e'+(b[4]||"\x26nbsp;")+"\x3c/span\x3e\n      \x3c/div\x3e\n    "}else"question"===a.data[0]?c.innerHTML=b[0]+'\x3cspan class\x3d"zm-ac-gray"\x3e闂\x3c/span\x3e':"plain_text"===a.data[0]?(c.innerHTML=
a.data[1],z.S.add(c,b[1])):"sina"===a.data[0]&&(c.innerHTML=b[0])};
var lr=function(a,b,c){var d;b=z.yb(a.data,1);var f=void 0,g;if("topic"===a.data[0]){a=["\x3ca ",' style\x3d"display:block" href\x3d"/topic/'+b[1]+'"\x3e\x3cspan class\x3d"zm-item-tag"\x3e',b[0],"\x3c/span\x3e"].join("");d=6<b.length&&b[6];if(b[5]||d){a+='\x3cspan class\x3d"zm-ac-gray"\x3e';var h=[];d&&h.push("鍙堢О "+b[6]);(d=(0,window.parseInt)(b[5],10))&&h.push(d+" 涓簿鍗庨棶绛�");a+=h.join("锛�");a+="\x3c/span\x3e"}else a+='\x3cspan class\x3d"zm-ac-gray" \x3e\x26nbsp;\x3c/span\x3e';c.innerHTML=a+"\x3c/a\x3e";
f="Topic";g=b[1]}else if("people"===a.data[0]){a=Array.isArray(b[5])?b[5]:[b[5]];var h=a[0],k=d="";(h||a[1])&&a[2]?k='\x3cspan class\x3d"icon icon-badge icon-badge-id-an"\x3e\x3c/span\x3e':h?k='\x3cspan class\x3d"OrgIcon sprite-global-icon-org-14"\x3e\x3c/span\x3e':a[1]?(d=b[6]||"",k='\x3cspan class\x3d"icon icon-badge icon-badge-identity"\x3e\x3c/span\x3e'):a[2]&&(d="浼樼鍥炵瓟鑰�",k='\x3cspan class\x3d"icon icon-badge icon-badge-best_answerer"\x3e\x3c/span\x3e');c.innerHTML='\n        \x3ca href\x3d"/'+
(h?"org":"people")+"/"+b[1]+'" title\x3d"'+b[0]+'"\n          class\x3d"zm-ac-link zm-ac-link-people"\x3e\n          \x3cimg class\x3d"zm-item-img-avatar zg-left" src\x3d"'+b[2]+'"\x3e\n          \x3cdiv class\x3d"zu-autocomplete-row-name" title\x3d"'+b[0]+'"\x3e\n            '+b[0]+k+'\n          \x3c/div\x3e\n          \x3cdiv class\x3d"zu-autocomplete-row-description"\x3e\n            \x3cspan class\x3d"badge-summary"\x3e'+d+'\x3c/span\x3e\n            \x3cspan class\x3d"zg-gray-normal bio"\x3e'+
b[4]+"\x3c/span\x3e\n          \x3c/div\x3e\n        \x3c/a\x3e\n      ";f="User";g=b[1]}else"question"===a.data[0]?(d=(0,window.parseInt)(b[3],10),c.innerHTML=(b[4]?'\x3ca class\x3d"zg-star" data-tooltip\x3d"s$b$浼樿川闂瓟" href\x3d"/question/'+b[2]+'"\x3e\x3c/a\x3e':"")+['\x3ca class\x3d"zm-ac-link"','href\x3d"/question/'+b[2]+'"\x3e',b[0]].join("")+('\x3cspan class\x3d"zm-ac-gray"\x3e'+(d?d+" 涓洖绛�":"杩樻病鏈夊洖绛�")+"\x3c/span\x3e\x3c/a\x3e"),f="Question",g=b[2].toString()):"column"===a.data[0]?(a=b[0],h=b[2].toString(),
d=b[5],b=(0,window.parseInt)(b[3],10),k="",0<b&&(k='\x3cspan class\x3d"zm-ac-gray"\x3e '+b+" 浜哄叧娉╘x3c/span\x3e"),c.innerHTML='\n        \x3ca class\x3d"zm-ac-link" href\x3d"https://zhuanlan.zhihu.com/'+h+'"\x3e\n          \x3cimg class\x3d"zm-item-img-avatar column-avatar zg-left" src\x3d"'+d+'"\x3e'+a+k+"\n        \x3c/a\x3e\n      ",f="Column",g=h):"article"===a.data[0]||"promotion"===a.data[0]?(a=a.data[0],h=b[0],d=b[2].toString(),b=(0,window.parseInt)(b[3],10),k="",0<b&&(k='\x3cspan class\x3d"zm-ac-gray"\x3e '+
b+" 涓禐\x3c/span\x3e"),c.innerHTML='\n        \x3ca class\x3d"zm-ac-link" href\x3d"https://'+("promotion"===a?"promotion":"zhuanlan")+".zhihu.com/p/"+d+'"\x3e\n          '+h+k+"\n        \x3c/a\x3e\n      ",f="promotion"===a?"Ad":"Post",g=d):"search_link"===a.data[0]?(c.innerHTML='\x3ca href\x3d"/search?q\x3d'+b[0]+'\x26type\x3dquestion" data-za-element-name\x3d"ViewAll"\x3e鏌ョ湅鍏ㄩ儴鎼滅储缁撴灉\x3ci class\x3d"zg-icon arrow"\x3e\x3c/i\x3e\x3c/a\x3e',z.S.add(c,"zu-autocomplete-row-search-link")):"plain_text"===
a.data[0]?c.innerHTML=b[0]:"sina"===a.data[0]&&(c.innerHTML=['\x3ca href\x3d"javascript:;" title\x3d"'+b[0]+'"\x3e','\x3cimg class\x3d"zm-item-img-avatar" src\x3d"'+b[2]+'" /\x3e',b[0],"\x3c/a\x3e"].join(""));f&&g&&c&&z.V.Va(c,{module:f+"Item",index:""},function(){return{card:{card_type:"Content",content:{type:f,token:g}}}});(0,window.$)("a",c).click(function(a){a.preventDefault()})};z.mr=function(a,b,c){for(c=c||"A";null!=b&&b!==a;){if(b.tagName===c)return b;b=b.parentNode}return null};
z.nr=function(a){this.UT=a;this.data=new z.Qd};z.or=function(a){var b={};z.A(a.data.Fd(),function(a){b[a]=this.data.get(a)},a);return b};var pr=function(a){return(a=z.ar(a))?a.length:0};var qr=function(a,b,c,d){window._gaq||(window._gaq=[]);c&&(c=""+c);d&&(d=(0,window.parseInt)(d,10));window._gaq.push(["_trackEvent",a,b,c,d]);z.Ck&&rr("trackEvent(deprecated)",z.vb(arguments))};var sr=function(a){return(a=String(a).toLowerCase())?z.ob([".jpg",".jpeg",".png"],function(b){return z.bp(a,b)}):!1};
var tr=function(a,b){function c(b){return a.getElementsByTagName(b).length}var d=["img","embed"];return b&&z.ob(d,c)?!1:!z.To(z.ur,z.ab,z.qf)(a)};z.vr=function(a,b){var c=window.$.extend({all:!1},z.vr.defaults,b||{}),d=(0,window.$)(a).get(0).getBoundingClientRect();return!c.all&&(d.bottom<c.paddingTop||d.bottom>(0,window.$)(window).height())||c.all&&(d.top<c.paddingTop||d.bottom>(0,window.$)(window).height())?!1:!0};
z.wr=function(a,b){if(a){"number"===window.$.type(b)&&(b={offsetTop:b});var c=window.$.extend({MD:z.vr},xr,b||{});if(!c.MD(a,c)){var d=(0,window.$)(a).offset().top-c.paddingTop-c.offsetTop||0;c.jx?(0,window.$)(window.document.documentElement).add(window.document.body).animate({scrollTop:d}):(0,window.$)(window).scrollTop(d)}}};var yr=function(a){(0,window.$)(a.target.M.h).off("click.disable-a").on("click.disable-a","a",function(a){a.preventDefault()})};
z.zr=function(a,b,c){var d,f=0,g=null;return function(){function h(){b.apply(k,l)}var k=this,l=arguments;c?((0,window.clearTimeout)(g),g=(0,window.setTimeout)(h,a)):(d=Date.now(),d-f>=a&&h(),f=d)}};var Ar=function(a,b){var c=a.getBoundingClientRect(),d=z.fh(window.document.body).top;if(0<c.top-d)b&&b();else{var f=a.offsetHeight,g=ko(window.document).y,h=z.Qe().height;b&&b();var k=a.offsetHeight;window.scrollTo(0,g+(c.bottom<h?k-f:c.top-d))}};
z.Br=function(a){return 1E4>a?a.toString():1E6>a?(0,window.parseInt)(a/1E3)+"K":1E9>a?(0,window.parseInt)(a/1E6)+"M":(0,window.parseInt)(a/1E9)+"G"};var Cr=function(a){return window.$.post("/settings/account/unlock_with_digits",a)};var Dr=function(a){return window.$.post("/settings/account/unlock_with_password",a)};
z.Er=function(a,b){b=void 0===b?{}:b;return new window.Promise(function(c){function d(a,b){return!!z.pb(a,function(a){return a.challenge_type===b})}function f(a){var b={value:a.challenge_type};switch(b.value){case "password":b.label="浣跨敤鐭ヤ箮瀵嗙爜楠岃瘉";break;case "phone_digits":b.label=z.Ja("浣跨敤鎵嬫満 %s 楠岃瘉",a.hint);break;case "email_digits":b.label=z.Ja("浣跨敤閭 %s 楠岃瘉",a.hint)}return b}if(z.Ai.get("unlock_ticket"))return c();var g=z.T.async({title:"楠岃瘉韬唤",modal:!0,PL:"姝ｅ湪杩涜瀹夊叏楠岃瘉锛岃绋嶇瓑",className:"settings-account-unlock-dialog",
onload:function(d,f){function g(a){var b=(0,window.$)(".panel",n),c=a?b.filter(function(){return(0,window.$)(this).data("match")===a}):b.first();b.not(c.show()).hide()}var n=(0,window.$)("form",d),q=(0,window.$)(".submit",n),v=(0,window.$)(".error-label-container",n),F=(0,window.$)(".hint-label-container",n),K=(0,window.$)("select",n).change(function(){g(this.value);v.text("");F.text("")});(0,window.$)(".js-send-digits",n).each(function(){var a=(0,window.$)(this),b=a.closest(".panel");(0,window.$)("input",
b);var c=b.data("match"),a=z.Bi(a,60,function(a){return a?"%s 绉掑悗鍗冲彲閲嶅彂":"閲嶅彂楠岃瘉鐮�"},function(){F.text("");window.$.post("/settings/account/send_unlock_digits",{type:c}).then(function(){F.text("楠岃瘉鐮佸凡鍙戦€佽嚦浣犵殑"+("email_digits"===c?"閭":"鎵嬫満"))})});z.Ac(f,a)});z.sa(a)&&(a.cancel=function(){f.F(!1)});"boolean"==typeof b.zF&&!b.zF&&wn(f,b.zF);var O=n.validate({messages:z.Fr,ignore:"input.text:hidden",errorLabelContainer:v,submitHandler:z.Ci(q,function(){var a="password"===K.val();return(a?Dr:Cr)((0,window.$)(":input:visible",
n).serialize()).then(function(b){if(b.success)f.F(!1),c();else if(b=b.payload,b.fields)O.showErrors(b.fields);else if(b.message){var d={};d[a?"password":"digits"]=b.message;O.showErrors(d)}})})});K.change();(0,window.$)("input.text:visible",n).focus()},Xx:window.$.get("/settings/account/request_unlock").then(function(a){if(a.success)return(0,window.setTimeout)(function(){g.F(!1);c()},3E3),'\x3cp class\x3d"z-text-muted"\x3e楠岃瘉鎴愬姛\x3c/p\x3e';var k=a.payload;return window.$.get("/node/SettingsRequestUnlockTemplate").then(function(a){return(0,z.Gr)(a,
{canUsePanel:z.Aa(d,k),each:z.A,intro:b.NT||"涓轰簡淇濊瘉浣犵殑甯愬彿瀹夊叏锛岃楠岃瘉韬唤銆傞獙璇佹垚鍔熷悗杩涜涓嬩竴姝ユ搷浣溿€�",options:z.mb(k,f)})})})})})};var Hr=function(){z.R.call(this);this.ud(!0)};
z.Ir=function(a,b,c){function d(a){return a&&a.preventDefault?a.preventDefault():!1}return function(f){var g={authed:!0,activated:!1,notBlocked:!1,realName:!1};z.ma(b)?(!0===b[0]&&(g=Mo(g,function(){return!0})),z.Mb(g,b[1])):!0===b?g=Mo(g,function(){return!0}):(z.qa(b)&&(b=b.apply(this,arguments)),z.Mb(g,b||{}));var h=z.qa(c)?c.apply(this,arguments):c;if(!z.Y.authed()&&g.authed){var k=new (z.Rm?kq:z.yk);k.mn(h);k.show();return d(f)}if(!z.Y.eu&&g.activated){h=(new Date).getTime();k=Number(z.si.get("bindPhoneLastAlertTime"));
if(z.Z.TK&&z.Y.activated&&k&&k+1E3*z.Z.iX>h)return a.apply(this,arguments);z.si.set("bindPhoneLastAlertTime",h);z.Y.activated?(new Hr).F(!0):z.Z.eC?(new z.rq).F(!0):z.Er().then(function(){(new z.rq).F(!0)});return d(f)}return!z.Y.activated&&g.activated?((new fq).F(!0),window.$.post("/continuation/record",{url:window.location.pathname+window.location.search+(h||"")}),d(f)):z.im.CG&&g.realName?(h=z.im.CG,"warning"===h?k='鎮ㄧ殑鐭ヤ箮鐢ㄦ埛鍚嶄笉绗﹀悎 \x3ca href\x3d"/question/19791408"\x3e鐭ヤ箮鐢ㄦ埛鍚嶈鑼僜x3c/a\x3e锛岃鎮� \x3ca href\x3d"/settings/profile"\x3e淇敼\x3c/a\x3e銆�':
"pending"===h&&(k="鎮ㄦ彁浜ょ殑鐢ㄦ埛鍚嶄慨鏀规鍦ㄥ鏍镐腑锛屽笎鍙锋殏鏃堕攣瀹氥€�"),k&&z.T.message(k,4E3),d(f)):z.im.xx&&g.notBlocked?(z.im.xx.by_antispam?(new pq).F(!0):z.T.message(z.im.xx.message),d(f)):a.apply(this,arguments)}};z.Jr=function(a){z.H.call(this);this.$I=null;this.Kd=a;this.o().g(this.Kd,["input","propertychange"],this.CM);Kr(this,!0);z.S.add(this.Kd,"zu-seamless-input-origin-element")};
var Kr=function(a,b){Lr(a);if(a.Hg){var c=a.Kd.value;if(b||a.$I!==c)a.$I=c,a.Hg.value=c,c=z.ih(a.Kd),a.Kd.style.height=z.Rg(a.Hg.scrollHeight+c.top+c.bottom,!0),a.dispatchEvent("change")}};
var Lr=function(a){if(!a.Hg&&0!==z.Qn(a.Kd).width){var b=z.M("div",{style:"overflow:hiddenposition:relativeheight:0"},a.Hg=z.M("textarea",{rows:1,className:"zu-seamless-input-mock-element"}));window.document.body.appendChild(b);z.Db("paddingTop paddingBottom fontFamily fontSize fontWeight fontStyle letterSpacing textTransform wordSpacing textIndent lineHeight width white-space".split(" "),function(a){this.Hg.style[a]=z.Mg(this.Kd,a)},a)}};var Mr=function(a){this.nx=a};
var Nr=function(a,b){a&&(a.tabIndex=b?0:-1)};var Or=function(a,b,c){if(c)for(var d=c.firstChild,f;d&&d.parentNode==c;){f=d.nextSibling;if(1==d.nodeType){var g=a.Ro(d);g&&(g.h=d,b.isEnabled()||g.gb(!1),b.K(g),g.w(d))}else d.nodeValue&&""!=(0,z.ab)(d.nodeValue)||c.removeChild(d);d=f}};z.Pr=function(a,b,c){z.Q.call(this,c);this.M=b||Mr.ba();this.Yb=a||this.M.dH()};
var Qr=function(a,b){var c=a.o(),d=a.lc();b?c.g(d,"focus",a.ye).g(d,"blur",a.od).g(a.vt(),"key",a.mc):c.pa(d,"focus",a.ye).pa(d,"blur",a.od).pa(a.vt(),"key",a.mc)};var Rr=function(a,b){var c=b.m(),c=c.id||(c.id=b.xe());a.jh||(a.jh={});a.jh[c]=b};var Sr=function(a){return z.Bh(a,a.$a)};z.Tr=function(a){Ur(a,function(a,c){return(a+1)%c},z.Ah(a)-1)};var Vr=function(a){Ur(a,function(a,c){a--;return 0>a?c-1:a},0)};var Wr=function(a){Ur(a,function(a,c){return(a+1)%c},a.$a)};
var Xr=function(a){Ur(a,function(a,c){a--;return 0>a?c-1:a},a.$a)};var Ur=function(a,b,c){c=0>c?yn(a,a.wc):c;var d=z.Ah(a);c=b.call(a,c,d);for(var f=0;f<=d;){var g=z.Bh(a,c);if(g&&a.nF(g)){a.Hb(c);break}f++;c=b.call(a,c,d)}};var Yr=function(){z.Q.call(this);this.rw=[]};z.Zr=function(a,b){this.Oa=a||[];this.JD=!b};var $r=function(a,b,c){var d=[];if(""!=a){a=z.Xa(a);a=new RegExp("(^|\\W+)"+a,"i");for(var f=0;f<c.length&&d.length<b;f++){var g=c[f];String(g).match(a)&&d.push(g)}}return d};
var as=function(a,b,c){for(var d=[],f=0;f<c.length;f++){var g=c[f],h=a.toLowerCase(),k=String(g).toLowerCase(),l=0;if(-1!=k.indexOf(h))l=(0,window.parseInt)((k.indexOf(h)/4).toString(),10);else for(var n=h.split(""),q=-1,v=10,F=0,K;K=n[F];F++)K=k.indexOf(K),K>q?(q=K-q-1,q>v-5&&(q=v-5),l+=q,q=K):(l+=v,v+=5);l<6*h.length&&d.push({MY:g,qL:l,index:f})}d.sort(function(a,b){var c=a.qL-b.qL;return 0!=c?c:a.index-b.index});a=[];for(F=0;F<b&&F<d.length;F++)a.push(d[F].MY);return a};
z.bs=function(a,b,c){z.H.call(this);this.ae=a;this.Zf=c;this.M=b;z.G(b,[cs,z.ds,es,z.fs],this.handleEvent,!1,this);this.ic=null;this.Oa=[];this.Bh=-1;this.kd=0;this.pe=this.Nc=null;this.sI={}};z.gs=function(a){for(var b=a.kd+a.Oa.length-1,c=a.Bh,d=0;d<a.Oa.length;d++){if(c>=a.kd&&c<b)c++;else if(-1==c)c=a.kd;else if(a.JE&&c==b){a.Bg(-1);break}else if(a.bN&&c==b)c=a.kd;else break;if(a.Bg(c))break}};
var hs=function(a){for(var b=a.kd+a.Oa.length-1,c=a.Bh,d=0;d<a.Oa.length;d++){if(c>a.kd)c--;else if(a.JE&&c==a.kd){a.Bg(-1);break}else if(!a.bN||-1!=c&&c!=a.kd)break;else c=b;if(a.Bg(c))break}};z.is=function(a){a.hI()||window.setTimeout((0,z.t)(a.hI,a),10)};var js=function(a,b){var c=b-a.kd;return 0>c||c>=a.Oa.length?-1:c};
z.ks=function(a){var b=0,c=0;if(ls(a))b=a.selectionStart,c=-1;else if(z.C){var d=ms(a),f=d[0],d=d[1];if(f.inRange(d)){f.setEndPoint("EndToStart",d);if("textarea"==a.type){d.duplicate();b=a=f.text;for(c=!1;!c;)0==f.compareEndPoints("StartToEnd",f)?c=!0:(f.moveEnd("character",-1),f.text==a?b+="\r\n":c=!0);f=[b.length,-1];return f}b=f.text.length;c=-1}}return[b,c]};
z.ns=function(a,b){if(ls(a))a.selectionStart=b,a.selectionEnd=b;else if(z.C){b=os(a,b);var c=a.createTextRange();c.collapse(!0);c.move("character",b);c.select()}};var ms=function(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();"textarea"==a.type?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]};var os=function(a,b){"textarea"==a.type&&(b=z.Ka(a.value.substring(0,b)).length);return b};var ls=function(a){try{return"number"==typeof a.selectionStart}catch(b){return!1}};
z.ps=function(a,b,c,d){z.xc.call(this);d=d||150;this.Rm=null!=c?c:!0;this.Pq=a||",;";this.hQ=this.Pq.substring(0,1);a=this.Rm?"[\\s"+this.Pq+"]+":"[\\s]+";this.vM=new RegExp("^"+a+"|"+a+"$","g");this.lY=new RegExp("\\s*["+this.Pq+"]$");this.fJ=b||"";this.ZW=!1;this.YW=this.Rm;this.la=0<d?new z.td(d):null;this.qc=new z.xd(this);this.Sw=new z.xd(this);this.Fb=new zp;this.XI=-1};
var qs=function(a,b,c){if(z.ja(c)?c:a.Rm){c=rs(a,a.Y(),z.ks(a.ob)[0]);var d=ss(a,a.Y());a.lY.test(b)||(b=z.Wo(b)+a.hQ);a.QZ&&(0==c||z.ap(d[c-1])||(b=" "+b),c==d.length-1&&(b+=" "));if(b!=d[c]){d[c]=b;b=a.ob;(z.B||z.C&&z.E("9"))&&b.blur();b.value=d.join("");for(var f=0,g=0;g<=c;g++)f+=d[g].length;b.focus();c=f;d=a.ob;b=c;ls(d)?d.selectionStart=b:z.C&&(f=ms(d),g=f[0],g.inRange(f[1])&&(b=os(d,b),g.collapse(!0),g.move("character",b),g.select()));d=a.ob;ls(d)?d.selectionEnd=c:z.C&&(f=ms(d),b=f[1],f[0].inRange(b)&&
(c=os(d,c),d=os(d,z.ks(d)[0]),b.collapse(!0),b.moveEnd("character",c-d),b.select()))}}else a.Fa(b);a.tC=!0};var ts=function(a,b){var c=a.Rm&&b.charCode&&-1!=a.Pq.indexOf(String.fromCharCode(b.charCode));a.nY&&c&&a.update();return a.mY&&c&&a.Z.ij()?(b.preventDefault(),!0):!1};var us=function(a){a.Fb.attach(a.ob);a.qc.g(a.Fb,"key",a.tq);a.qc.g(a.ob,"mousedown",a.dK);z.C&&a.qc.g(a.ob,"keypress",a.aK)};
var vs=function(a,b){a.Sw.removeAll();a.Z&&z.is(a.Z);b!=a.ob&&(a.ob=b,a.la&&(a.la.start(),a.qc.g(a.la,"tick",a.wq)),a.Vp=a.Y(),us(a))};var ws=function(a){a.uj&&(a.uj=!1,a.qc.pa(a.ob,"keypress",a.bK),a.qc.pa(a.ob,"keyup",a.cK))};var rs=function(a,b,c){a=ss(a,b);if(c==b.length)return a.length-1;for(var d=b=0,f=0;d<a.length&&f<=c;d++)f+=a[d].length,b=d;return b};
var ss=function(a,b){if(!a.Rm)return[b];for(var c=String(b).split(""),d=[],f=[],g=0,h=!1;g<c.length;g++)a.fJ&&-1!=a.fJ.indexOf(c[g])?(a.eR&&!h&&(d.push(f.join("")),f.length=0),f.push(c[g]),h=!h):h||-1==a.Pq.indexOf(c[g])?f.push(c[g]):(f.push(c[g]),d.push(f.join("")),f.length=0);d.push(f.join(""));return d};z.xs=function(a,b,c){z.xc.call(this);this.CD=a;this.JD=!b;this.da=new z.de(c)};
z.ys=function(a,b,c,d,f,g,h,k,l){var n=zs(c),q=go(a),v=jo(a);v&&q.sA(new z.Hg(v.left,v.top,v.right-v.left,v.bottom-v.top));var v=z.Ie(a),F=z.Ie(c);if(v.xa()!=F.xa()){var K=v.xa().body;var F=F.eb(),O=new z.Ge(0,0),ca=z.Te(z.Ke(K));if(z.Oc(ca,"parent")){var Va=K;do{var Ta=ca==F?z.In(Va):z.Vg(Va);O.x+=Ta.x;O.y+=Ta.y}while(ca&&ca!=F&&ca!=ca.parent&&(Va=ca.frameElement)&&(ca=ca.parent))}K=Vn(O,z.In(K));!z.C||9<=z.jh||Cn(v)||(K=Vn(K,z.xf(v)));q.left+=K.x;q.top+=K.y}a=As(a,b);q=new z.Ge(a&2?q.left+q.width:
q.left,a&1?q.top+q.height:q.top);q=Vn(q,n);f&&(q.x+=(a&2?-1:1)*f.x,q.y+=(a&1?-1:1)*f.y);var Ba;if(h)if(l)Ba=l;else if(Ba=jo(c))Ba.top-=n.y,Ba.right-=n.x,Ba.bottom-=n.y,Ba.left-=n.x;return Bs(q,c,d,g,Ba,h,k)};
var zs=function(a){var b;if(a=a.offsetParent){var c="HTML"==a.tagName||"BODY"==a.tagName;c&&"static"==z.Pg(a)||(b=z.In(a),c||(c=(c=z.ch(a))&&z.B?-a.scrollLeft:!c||z.Ll&&z.E("8")||"visible"==z.Og(a,"overflowX")?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft,b=Vn(b,new z.Ge(c,a.scrollTop))))}return b||new z.Ge};
var Bs=function(a,b,c,d,f,g,h){a=a.clone();var k=As(b,c);c=z.Yg(b);h=h?h.clone():c.clone();a=a.clone();h=h.clone();var l=0;if(d||0!=k)k&2?a.x-=h.width+(d?d.right:0):d&&(a.x+=d.left),k&1?a.y-=h.height+(d?d.bottom:0):d&&(a.y+=d.top);if(g){if(f){d=a;k=h;l=0;65==(g&65)&&(d.x<f.left||d.x>=f.right)&&(g&=-2);132==(g&132)&&(d.y<f.top||d.y>=f.bottom)&&(g&=-5);d.x<f.left&&g&1&&(d.x=f.left,l|=1);if(g&16){var n=d.x;d.x<f.left&&(d.x=f.left,l|=4);d.x+k.width>f.right&&(k.width=Math.min(f.right-d.x,n+k.width-f.left),
k.width=Math.max(k.width,0),l|=4)}d.x+k.width>f.right&&g&1&&(d.x=Math.max(f.right-k.width,f.left),l|=1);g&2&&(l=l|(d.x<f.left?16:0)|(d.x+k.width>f.right?32:0));d.y<f.top&&g&4&&(d.y=f.top,l|=2);g&32&&(n=d.y,d.y<f.top&&(d.y=f.top,l|=8),d.y+k.height>f.bottom&&(k.height=Math.min(f.bottom-d.y,n+k.height-f.top),k.height=Math.max(k.height,0),l|=8));d.y+k.height>f.bottom&&g&4&&(d.y=Math.max(f.bottom-k.height,f.top),l|=2);g&8&&(l=l|(d.y<f.top?64:0)|(d.y+k.height>f.bottom?128:0));f=l}else f=256;l=f}g=new z.Hg(0,
0,0,0);g.left=a.x;g.top=a.y;g.width=h.width;g.height=h.height;f=l;if(f&496)return f;z.Qg(b,new z.Ge(g.left,g.top));h=g.wh();z.Do(c,h)||(c=h,a=Cn(z.Ie(z.Ke(b))),!z.C||z.E("10")||a&&z.E("8")?(b=b.style,z.B?b.MozBoxSizing="border-box":z.D?b.WebkitBoxSizing="border-box":b.boxSizing="border-box",b.width=Math.max(c.width,0)+"px",b.height=Math.max(c.height,0)+"px"):(h=b.style,a?(a=z.fh(b),b=z.ih(b),h.pixelWidth=c.width-b.left-a.left-a.right-b.right,h.pixelHeight=c.height-b.top-a.top-a.bottom-b.bottom):(h.pixelWidth=
c.width,h.pixelHeight=c.height)));return f};var As=function(a,b){return(b&4&&z.ch(a)?b^2:b)&-5};z.Cs=function(a,b,c,d){z.H.call(this);this.Wa=a||window.document.body;this.ca=z.Ie(this.Wa);this.Iq=!a;this.h=null;this.ic="";this.Oa=[];this.kf=[];this.RL=this.Em=-1;this.yb=!1;this.className="ac-renderer";this.Wh="ac-row";this.bJ="active";this.Tw="ac-active";this.hT="ac-highlighted";this.Yl=b||null;this.KM=null!=d?d:!0;this.HU=!0;this.mp=!1;this.OX=!!c;this.cw=!1;this.fq=0;this.KL=!1};
var Ds=function(a,b){a.Nc&&(z.vg(a.Nc,"haspopup",b),z.vg(a.h,"expanded",b),b?z.vg(a.Nc,"owns",a.h.id):(a.Nc.removeAttribute("aria-owns"),so(a.Nc,null)))};var Es=function(a,b){var c=0<=b&&b<a.Oa.length?a.Oa[b]:void 0,d=0<=b&&b<a.kf.length?a.kf[b]:void 0;a.dispatchEvent({type:"rowhilite",J0:d,gj:c?c.data:null})&&(0<=a.Em&&z.Dg(a.kf[a.Em],[a.Tw,a.bJ]),a.Em=b,d&&(z.Bg(d,[a.Tw,a.bJ]),a.Nc&&so(a.Nc,d),io(d,a.h)))};
var Fs=function(a){if(!a.h){var b=a.ca.B("DIV",{style:"display:none"});a.KL&&(b.style.overflowY="auto");a.h=b;z.Bg(b,(0,z.ab)(a.className).split(" "));z.ug(b,"listbox");b.id=z.vh(z.uh.ba());a.ca.appendChild(a.Wa,b);z.G(b,"click",a.tm,!1,a);z.G(b,"mousedown",a.um,!1,a);z.G(b,"mouseover",a.AH,!1,a)}};
var Gs=function(a){Fs(a);a.cw&&(a.h.style.visibility="hidden");a.RZ&&(a.h.style.minWidth=a.RZ.clientWidth+"px");a.kf.length=0;a.ca.Hq(a.h);if(a.Yl&&a.Yl.render)a.Yl.render(a,a.h,a.Oa,a.ic);else{var b=null;z.A(a.Oa,function(a){a=Hs(this,a,this.ic);this.cw?this.h.insertBefore(a,b):this.ca.appendChild(this.h,a);b=a},a)}0==a.Oa.length?a.Rc():(a.show(),a.ga(),z.fo(a.h,!0))};
var Is=function(a,b,c){if(a.mp||!a.XM)if(3==b.nodeType){var d=null;z.ma(c)&&1<c.length&&!a.mp&&(d=z.yb(c,1));c=Js(a,c);if(0!=c.length){var f=b.nodeValue,g=a.HU?new RegExp("\\b(?:"+c+")","gi"):new RegExp(c,"gi");c=[];for(var h=0,k=g.exec(f),l=0;k;)l++,c.push(f.substring(h,k.index)),c.push(f.substring(k.index,g.lastIndex)),h=g.lastIndex,k=g.exec(f);c.push(f.substring(h));if(1<c.length){d=a.mp?l:1;for(f=0;f<d;f++)g=2*f,b.nodeValue=c[g],h=a.ca.createElement("B"),h.className=a.hT,a.ca.appendChild(h,a.ca.createTextNode(c[g+
1])),h=b.parentNode.insertBefore(h,b.nextSibling),b.parentNode.insertBefore(a.ca.createTextNode(""),h.nextSibling),b=h.nextSibling;c=z.yb(c,2*d);b.nodeValue=c.join("");a.XM=!0}else d&&Is(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,Is(a,b,c),b=d};
var Js=function(a,b){var c="";if(!b)return c;z.ma(b)&&(b=z.lb(b,function(a){return!z.ap(null==a?"":String(a))}));a.mp?z.ma(b)?c=z.mb(b,z.Xa).join("|"):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=z.Xa(c),c=c.replace(/ /g,"|")):z.ma(b)?c=0<b.length?z.Xa(b[0]):"":/^\W/.test(b)||(c=z.Xa(b));return c};
var Hs=function(a,b,c){var d=a.ca.B("DIV",{className:a.Wh,id:z.vh(z.uh.ba())});z.ug(d,"option");a.Yl&&a.Yl.sd?a.Yl.sd(b,c,d):a.aL(b,c,d);c&&a.KM&&(a.XM=!1,Is(a,d,c));z.Ag(d,a.Wh);a.kf.push(d);return d};var Ks=function(a,b){for(;b&&b!=a.h&&!z.zg(b,a.Wh);)b=b.parentNode;return b?z.kb(a.kf,b):-1};z.Ls=function(a,b,c,d){this.ae=a=new z.xs(a,!d);d=new z.Cs;c=new z.ps(null,null,!!c,300);z.bs.call(this,a,d,c);c.Z=this;c.Dl(b)};
z.Ms=function(a,b){var c=this,d={};z.Mb(d,this.defaults,b||{});this.J=d;var f=d.sd?{sd:(0,z.t)(d.sd,c)}:null;f&&(f.render=d.render?(0,z.t)(d.render,c):null);this.M=f=new z.Cs(d.dj,f);var g="string"===typeof d.source?z.xs:z.Zr,h=new g(d.source,!d.JZ);this.ae=h;var k=d.qA;k||(k=new z.ps(d.separator,d.oQ,!!d.multiple,d.delay),k.jj=function(a,b){var f;z.qa(d.select)&&(f=d.select.call(c,a,c.M.kf[c.M.Em]));qs(this,z.ja(f)?f:a.label||a.toString(),b);return!1});z.bs.call(this,h,f,k);k.Z=this;k.Dl(a);a.setAttribute("autocomplete",
"off");h.fj=function(a,b,f){var h=f;z.qa(d.format)&&(h=function(a,b){var g=d.format.call(c,b,a);z.qa(d.filter)&&(g=d.filter.call(c,g,a));f(a,g)});return g.prototype.fj.call(this,a,b,h)};f.aL=function(a,b,c){a=a.data;c.innerHTML=a.eZ?a.eZ():a.label||a.toString()};this.Nc=a;d.Ce&&(this.Fk=d.Ce);d.placeholder&&(this.xc=new z.Wj(a,d.placeholder));this.addEventListener("suggestionsupdate",function(){this.dispatchEvent(this.Eb()?"show":"hide")})};var Ns=function(a,b,c,d){z.ps.call(this,a,b,c,d)};
z.Os=function(){z.H.call(this);this.aI=0;this.hd=[];this.am=[];this.xy={};this.U=new z.xd(this);this.QT=this.CI=!1;this.AD=!0};z.Ps=function(a,b,c){b.sG=c;b.Sj=void 0;a.hd.push(b)};z.Qs=function(a,b){a.vG=(0,z.ab)(b).split(" ")};var Rs=function(a,b){for(var c=0,d=a.hd.length;c<d;c++){var f=a.hd[c];f.$l=go(f)}c=0;for(d=a.am.length;c<d;c++)f=a.am[c],f!=b&&(f.$l=go(f))};
var Ss=function(a){z.Cc(a.Ub);a.Sc&&z.N(a.Sc);a.Qa&&"none"==a.Qa.style.display&&(a.$u.insertBefore(a.Qa,a.FB),a.Qa.style.display="");a.fy&&a.Qa?z.Dg(a.Qa,a.fy||[]):a.Qa&&(a.Qa.style.visibility="");for(var b=0,c=a.hd.length;b<c;b++){var d=a.hd[b];d.Sj&&z.Cg(d,d.Sj)}};var Ts=function(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height};var Us=function(a,b){var c=a.$l;return Math.abs(b.y-(c.top+(c.height-1)/2))};var Vs=function(a){return a.top+a.height-1};
var Ws=function(a){return a.left+a.width-1};var Xs=function(a){return a.left||0};var Ys=function(a,b){return a<b};var Zs=function(a,b){return a>b};var $s=function(a,b,c,d,f,g){z.Lc.call(this,a);this.event=c;this.SF=d;this.Ys=g};z.at=function(a,b){z.Q.call(this,b);this.Xb=a||""};var bt=function(){null!=ct||(ct="placeholder"in window.document.createElement("INPUT"));return ct};var dt=function(a){!a.$Q&&a.U&&a.m().form&&(a.U.g(a.m().form,"submit",a.eS),a.$Q=!0)};
var et=function(a){return!!a.m()&&""!=a.m().value&&a.m().value!=a.Xb};var ft=function(a,b){return window.$.post("/node/MemberFollowBaseV2",{method:b?"follow_member":"unfollow_member",params:{hash_id:a}})};var gt=function(a,b){return window.$.post("/node/QuestionFollowBaseV2",{method:b?"follow_question":"unfollow_question",params:{question_id:a}})};var ht=function(a,b){return window.$.post(b?"/collection/follow":"/collection/unfollow",{favlist_id:a})};
var it=function(a,b){return window.$.post("/node/TopicFollowBaseV2",{method:b?"follow_topic":"unfollow_topic",params:{topic_id:a}})};z.jt=function(a,b){return window.$.get("/"+a+"/"+b+"/sharetext")};var kt=function(a,b,c,d){z.ps.call(this,a,b,c,d)};var lt=function(a,b,c){z.xs.call(this,b,c);this.Z=a;this.sC=null;this.NG=!0};var mt=function(a,b,c,d){this.BJ=0;z.ps.call(this,a,b,!!c,d||300)};var nt=function(a,b,c,d){mt.call(this,a,b,!!c,d)};
z.ot=function(a,b,c,d,f,g,h,k,l){var n={};"question_suggest"===g?(n.render=(0,z.t)(this.BX,this),n.sd=lr):"topic_question"===g?(n.render=(0,z.t)(this.DX,this),n.sd=kr):n.sd=g?kr:lr;g=new z.Cs(f,n);f&&(g.Iq=!1);g.mp=!0;this.M=g;this.ae=new lt(this,a,!d);a=l?l:new mt(null,null,c);h&&h.length&&new z.Wj(b,h[0]);a.BM=!1;z.bs.call(this,this.ae,g,a);a.Z=this;a.gs(b);k&&(a.BJ=k)};
z.pt=function(a,b,c){z.H.call(this);this.bf=c||"鎼滅储璇濋";this.qa=b;this.data=a||[];this.status=qt;this.xX="/topic/unbind";this.nO="/topic/bind";this.isEnabled=!0;this.tp='\x3ca class\x3d"zm-tag-editor-tip-link" href\x3d"#" name\x3d"edit"\x3e甯繖缁欒繖涓棶棰橀€変釜璇濋鍚э紝濂借鍒汉鏉ュ洖绛擻x3c/a\x3e\x3ca name\x3d"edit" class\x3d"zu-edit-button" href\x3d"#"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e娣诲姞\x3c/a\x3e';this.Ce=10;this.Mu=!1;this.Zp=window.Infinity;this.Hu=0;this.BE=!1};
var rt=function(a){a=z.Co("zm-item-tag",a.Yg);return z.mb(a,function(a){var c=[(0,z.ab)(a.innerHTML),a.getAttribute("data-token"),null,a.getAttribute("data-topicid")];c.tZ=!!a.getAttribute("data-uneditable");return c})};z.st=function(a){if(a.data.length){var b=z.mb(a.data,function(a){return z.$q(a,"",null,"b")},a);a.isEnabled&&b.push(cr());a.Yg.innerHTML=b.join("")}else a.isEnabled&&(a.Yg.innerHTML=a.tp)};var tt=function(a,b){return z.lb(b,function(a){return"topic"!==a[0]?!1:!this.Py(a)},a)};
var ut=function(a,b,c){function d(){return z.pb(b,function(a){return"topic"===a[0]&&a[4]&&a[1]===c})}function f(){return z.pb(b,function(a){return 3>=a.length&&a[1]===z.Ja("鍒涘缓 %s 璇濋",a[2])})}var g=(0,z.t)(function(){return z.pb(this.data,function(a){return a[0]===c})},a);z.Y.Ot?!a.BE||b.length&&(f()||d())||g()||b.push(["topic",z.Ja("鍒涘缓 %s 璇濋",c),c]):(a=f())&&(1<b.length?z.tb(b,a):b=[["plain_text",'\x3cspan class\x3d"zu-autocomplete-row-name zu-autocomplete-row-name-info"\x3e娌℃湁鎵惧埌璇濋锛�'+a[2]+'\x3c/span\x3e\x3cspan class\x3d"zg-gray-normal zu-autocomplete-row-description"\x3e璇蜂娇鐢ㄥ凡缁忓垱寤虹殑璇濋\x3c/span\x3e']]);
return b};z.vt=function(a){var b=a.data.length>=a.Zp;a.qe&&z.P(a.qe,!b);a.Eu&&z.P(a.Eu,b)};z.wt=function(a){var b=[];a.data=z.lb(a.data,function(a){if(z.rb(b,a[1]))return!1;b.push(a[1]);return!0})};z.xt=function(a,b,c){z.pt.call(this,a,0,c?"娣诲姞鐖惰瘽棰�":"娣诲姞瀛愯瘽棰�");this.BA=c;this.dg=b;this.tp="";this.$K="/topic/parent/remove"};var yt=function(a){z.pt.call(this);this.tp="";this.bf=a||"";this.Zp=this.Ce=5;this.Kr=(0,window.$)("#zh-question-suggest-title-content")};
var zt=function(a){var b;b=a.ir?z.lb(a.ir,function(a){return!this.Py(a)},a):[];a.Nr.show();b&&0!==b.length||a.Nr.hide();var c="";b=z.mb(b,function(a){return"\x3ca href\x3d'javascript:;' name\x3d'add' data-id\x3d'"+a[4]+"' data-text\x3d'"+a[1]+"' class\x3d'zg-r3px zm-item-tag'\x3e\x3cspan\x3e"+a[1]+"\x3c/span\x3e\x3c/a\x3e"});c+=b.join("");a.zN.html(c);a.Jw.hide()};z.At=function(a){z.pt.call(this,a,0);this.tp="";this.hF="/topic/ignore"};var Bt=function(){z.xc.call(this)};
z.Ct=function(a){z.xc.call(this);this.QL=z.Vo();this.BG=z.Vo();this.rC=a.Gh();this.ca=z.Ie(a.xa());a.lr(this.ca.B("SPAN",{id:this.QL}),this.ca.B("SPAN",{id:this.BG}))};z.Dt=function(a,b){return a.ca.m(b?a.QL:a.BG)};z.Et=function(a,b,c,d,f){this.Xc=!!b;this.node=null;this.gc=0;this.bl=!1;this.Ds=!c;a&&this.setPosition(a,d);this.depth=void 0!=f?f:this.gc||0;this.Xc&&(this.depth*=-1)};var Ft=function(){};
var Gt=function(a){if(a.getSelection)return a.getSelection();a=a.document;var b=a.selection;if(b){try{var c=b.createRange();if(c.parentElement){if(c.parentElement().document!=a)return null}else if(!c.length||c.item(0).document!=a)return null}catch(d){return null}return b}return null};z.Ht=function(a){for(var b=[],c=0,d=a.hk();c<d;c++)b.push(a.Ye(c));return b};z.It=function(a){return a.Gh()?a.ka():a.aa()};z.Jt=function(a){return a.Gh()?a.Sa():a.ya()};z.Kt=function(a){return a.Gh()?a.aa():a.ka()};
z.Lt=function(a){return a.Gh()?a.ya():a.Sa()};var Mt=function(a,b){z.Et.call(this,a,b,!0)};var Nt=function(){};z.Ot=function(a,b,c,d,f){this.va=this.Ba=null;this.Da=this.Ga=0;var g;a&&(this.Ba=a,this.Ga=b,this.va=c,this.Da=d,1==a.nodeType&&"BR"!=a.tagName&&(a=a.childNodes,(b=a[b])?(this.Ba=b,this.Ga=0):(a.length&&(this.Ba=z.jb(a)),g=!0)),1==c.nodeType&&((this.va=c.childNodes[d])?this.Da=0:this.va=c));z.Et.call(this,f?this.va:this.Ba,f,!0);if(g)try{this.next()}catch(h){if(h!=z.Nd)throw h;}};
var Pt=function(a,b){null!=a&&this.append.apply(this,arguments)};var Qt=function(){};var Rt=function(a,b){var c=a.R.getClientRects();return c.length?(c=b?c[0]:z.jb(c),new z.Ge(b?c.left:c.right,b?c.top:c.bottom)):null};var St=function(a){this.R=a};
var Tt=function(a){var b=z.Ke(a).createRange();if(3==a.nodeType)b.setStart(a,0),b.setEnd(a,a.length);else if(Ut(a)){for(var c,d=a;(c=d.firstChild)&&Ut(c);)d=c;b.setStart(d,0);for(d=a;(c=d.lastChild)&&Ut(c);)d=c;b.setEnd(d,1==d.nodeType?d.childNodes.length:d.length)}else c=a.parentNode,a=z.kb(c.childNodes,a),b.setStart(c,a),b.setEnd(c,a+1);return b};var Vt=function(a,b,c,d){var f=z.Ke(a).createRange();f.setStart(a,b);f.setEnd(c,d);return f};var Wt=function(a){this.R=a};
z.Xt=function(a,b){this.va=this.Ba=this.Og=null;this.Da=this.Ga=-1;this.R=a;this.Ws=b};var Yt=function(a){var b=z.Ke(a).body.createTextRange();if(1==a.nodeType)b.moveToElementText(a),Ut(a)&&!a.childNodes.length&&b.collapse(!1);else{for(var c=0,d=a;d=d.previousSibling;){var f=d.nodeType;if(3==f)c+=d.length;else if(1==f){b.moveToElementText(d);break}}d||b.moveToElementText(a.parentNode);b.collapse(!d);c&&b.move("character",c);b.moveEnd("character",a.length)}return b};
var Zt=function(a,b){for(var c=b.childNodes,d=0,f=c.length;d<f;d++){var g=c[d];if(Ut(g)){var h=Yt(g),k=h.htmlText!=g.outerHTML;if(a.isCollapsed()&&k?0<=a.Te(h,1,1)&&0>=a.Te(h,1,0):a.R.inRange(h))return Zt(a,g)}}return b};
var $t=function(a,b,c){c=c||a.Ic();if(!c||!c.firstChild)return c;for(var d=1==b,f=0,g=c.childNodes.length;f<g;f++){var h=d?f:g-f-1,k=c.childNodes[h],l;try{l=au(k)}catch(q){continue}var n=l.R;if(a.isCollapsed())if(!Ut(k)){if(0==a.Te(n,1,1)){a.Ga=a.Da=h;break}}else{if(l.kh(a))return $t(a,b,k)}else{if(a.kh(l)){if(!Ut(k)){d?a.Ga=h:a.Da=h+1;break}return $t(a,b,k)}if(0>a.Te(n,1,0)&&0<a.Te(n,0,1))return $t(a,b,k)}}return c};
var bu=function(a,b){var c=1==b,d=c?a.aa():a.ka();if(1==d.nodeType){for(var d=d.childNodes,f=d.length,g=c?1:-1,h=c?0:f-1;0<=h&&h<f;h+=g){var k=d[h];if(!Ut(k)&&0==a.R.compareEndPoints((1==b?"Start":"End")+"To"+(1==b?"Start":"End"),au(k).R))return c?h:h+1}return-1==h?0:h}f=a.R.duplicate();g=Yt(d);f.setEndPoint(c?"EndToEnd":"StartToStart",g);f=f.text.length;return c?d.length-f:f};var cu=function(a){return 3==a.nodeType?a.nodeValue:a.innerText};
var du=function(a,b,c){c=c||z.Ie(a.parentElement());var d,f=d=b.id;d||(d=b.id=z.Vo());a.pasteHTML(b.outerHTML);(b=c.m(d))&&(f||b.removeAttribute("id"));return b};var eu=function(a,b,c){var d;d=d||z.Ie(a.parentElement());var f;1!=b.nodeType&&(f=!0,b=d.B("DIV",null,b));a.collapse(c);b=du(a,b,d);f&&(a=b.firstChild,d.TQ(b),b=a);return b};var fu=function(a){this.R=a};var gu=function(a){this.R=a};
var hu=function(a){return z.Wl?new z.Xt(a,z.Ke(a.parentElement())):z.D?new gu(a):z.B?new Wt(a):z.Lg?new fu(a):new St(a)};
var au=function(a){if(!z.C||9<=z.jh)a=z.D?new gu(Tt(a)):z.B?new Wt(Tt(a)):z.Lg?new fu(Tt(a)):new St(Tt(a));else{var b=new z.Xt(Yt(a),z.Ke(a));if(Ut(a)){for(var c,d=a;(c=d.firstChild)&&Ut(c);)d=c;b.Ba=d;b.Ga=0;for(d=a;(c=d.lastChild)&&Ut(c);)d=c;b.va=d;b.Da=1==d.nodeType?d.childNodes.length:d.length;b.Og=a}else b.Ba=b.va=b.Og=a.parentNode,b.Ga=z.kb(b.Og.childNodes,a),b.Da=b.Ga+1;a=b}return a};var Ut=function(a){return z.$e(a)||3==a.nodeType};
z.iu=function(){this.Da=this.va=this.Ga=this.Ba=this.vi=null;this.Pf=!1};var ju=function(a,b){var c=new z.iu;c.vi=a;c.Pf=!!b;return c};z.ku=function(a,b,c,d){var f=new z.iu;f.Pf=lu(a,b,c,d);if(z.lf(a)&&!z.$e(a)){var g=a.parentNode;b=z.kb(g.childNodes,a);a=g}z.lf(c)&&!z.$e(c)&&(g=c.parentNode,d=z.kb(g.childNodes,c),c=g);f.Pf?(f.Ba=c,f.Ga=d,f.va=a,f.Da=b):(f.Ba=a,f.Ga=b,f.va=c,f.Da=d);return f};
z.mu=function(a){var b;if(!(b=a.vi)){b=a.aa();var c=a.ya(),d=a.ka(),f=a.Sa();if(!z.C||9<=z.jh)b=z.D?new gu(Vt(b,c,d,f)):z.B?new Wt(Vt(b,c,d,f)):z.Lg?new fu(Vt(b,c,d,f)):new St(Vt(b,c,d,f));else{var g=b,h=c,k=d,l=f,n=!1;1==g.nodeType&&(h=g.childNodes[h],n=!h,g=h||g.lastChild||g,h=0);var q=Yt(g);h&&q.move("character",h);g==k&&h==l?q.collapse(!0):(n&&q.collapse(!1),n=!1,1==k.nodeType&&(k=(h=k.childNodes[l])||k.lastChild||k,l=0,n=!h),g=Yt(k),g.collapse(!n),l&&g.moveEnd("character",l),q.setEndPoint("EndToEnd",
g));l=new z.Xt(q,z.Ke(b));l.Ba=b;l.Ga=c;l.va=d;l.Da=f;b=l}b=a.vi=b}return b};var nu=function(a){z.xc.call(this);this.ME=z.It(a);this.MO=z.Jt(a);this.SG=z.Kt(a);this.WQ=z.Lt(a)};z.ou=function(){this.dr=this.pb=this.R=null};var pu=function(a){var b=new z.ou;b.R=a;return b};var qu=function(a){for(var b=z.Ke(arguments[0]).body.createControlRange(),c=0,d=arguments.length;c<d;c++)b.addElement(arguments[c]);return pu(b)};
var ru=function(a){a.dr||(a.dr=a.Li().concat(),a.dr.sort(function(a,c){return a.sourceIndex-c.sourceIndex}));return a.dr};var su=function(a){this.pb=a.Li()};var tu=function(a){this.pb=this.va=this.Ba=null;a&&(this.pb=ru(a),this.Ba=this.pb.shift(),this.va=z.jb(this.pb)||this.Ba);z.Et.call(this,this.Ba,!1,!0)};z.uu=function(){this.lg=[];this.dn=[];this.Es=this.xn=null};var vu=function(a){var b=new z.uu;b.dn=a;b.lg=z.mb(a,function(a){return a.we()});return b};
var wu=function(a){a.xn||(a.xn=z.Ht(a),a.xn.sort(function(a,c){var d=a.aa(),f=a.ya(),g=c.aa(),h=c.ya();return d==g&&f==h?0:lu(d,f,g,h)?1:-1}));return a.xn};var xu=function(a){this.vC=z.mb(z.Ht(a),function(a){return a.uC()})};var yu=function(a){this.Fg=null;this.Vl=0;a&&(this.Fg=z.mb(wu(a),function(a){return z.Md(a)}));Mt.call(this,a?this.aa():null,!1)};z.zu=function(a){return(a=Gt(a||window))&&Au(a)};
var Au=function(a){var b,c=!1;if(a.createRange)try{b=a.createRange()}catch(f){return null}else if(a.rangeCount){if(1<a.rangeCount){b=new z.uu;for(var c=0,d=a.rangeCount;c<d;c++)b.lg.push(a.getRangeAt(c));return b}b=a.getRangeAt(0);c=lu(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)}else return null;return z.Bu(b,c)};z.Bu=function(a,b){return a&&a.addElement?pu(a):ju(hu(a),b)};z.Cu=function(a){return ju(au(a),void 0)};z.Du=function(a,b){return z.ku(a,b,a,b)};var Eu=function(a){if(a=Gt(a||window))if(a.empty)try{a.empty()}catch(b){}else try{a.removeAllRanges()}catch(b){}};
var lu=function(a,b,c,d){if(a==c)return d<b;var f;if(1==a.nodeType&&b)if(f=a.childNodes[b])a=f,b=0;else if(z.nf(a,c))return!0;if(1==c.nodeType&&d)if(f=c.childNodes[d])c=f,d=0;else if(z.nf(c,a))return!1;return 0<(yo(a,c)||b-d)};z.Fu=function(a,b,c){this.MJ=a;this.MX=!!c;a&&!b&&this.next()};var Gu=function(a,b,c){z.ja(c)||(c=b&&a.childNodes.length?a.childNodes.length-1:0);z.Fu.call(this,a.childNodes[c],!0,b)};z.Hu=function(a){for(var b;b=a&&1==a.nodeType?z.Iu(z.Jo(new Gu(a,!1),z.Ju)):null;)a=b;return a};
z.Ku=function(a){return z.Iu(z.Jo(new z.Fu(a),z.Ju))};z.Iu=function(a){try{return a.next()}catch(b){return null}};z.Ju=function(a){return 1==a.nodeType||3==a.nodeType&&!z.$o(a.nodeValue)};z.Lu=function(a,b){var c=z.uo(a);if(a.getElementsByTagName)for(var d in Mu)if(a.tagName==d||0<a.getElementsByTagName(d).length)return!1;return!b&&"聽"==c||z.$o(c)};z.Nu=function(a){return a.length||a.childNodes.length};z.Ou=function(a){return a.getAttribute&&"true"==a.getAttribute("g_editable")};
z.Pu=function(a,b){z.C&&z.bf(a);a.innerHTML=b};var Qu=function(a){return(a=a.exec(z.Bb))?a[1]:""};z.Ru=function(a){var b=a&&a.nodeName;return!(!a||"block"!=(1!=a.nodeType?null:z.C?z.Ng(a,"display"):z.Mg(a,"display"))&&"TD"!=b&&"TABLE"!=b&&"LI"!=b)};z.Su=function(a){return z.wf(a,z.Ru,!0)};z.Tu=function(a){z.Du(z.Hu(a),0).select()};z.Uu=function(a,b){var c=a.parentNode,d=z.kb(c.childNodes,a)+(b?0:1),c=Vu(c,d,b,!0);z.Du(c.node,c.offset).select()};
var Wu=function(a){for(var b=null,c=a.firstChild;c;){var d=c.nextSibling;3==c.nodeType?""==c.nodeValue?a.removeChild(c):b?(b.nodeValue+=c.nodeValue,a.removeChild(c)):b=c:(Wu(c),b=null);c=d}};var Xu=function(a,b){if(b)var c=Yu(b),d=z.Su(b.bc());d?(d=xo(d,a),z.C?Wu(d):d.normalize()):a&&(z.C?Wu(a):a.normalize());return c?c():null};z.Zu=function(a,b){return b?Vu(a.aa(),a.ya()):Vu(a.ka(),a.Sa())};
var Yu=function(a){var b=a.Gh(),c=$u(z.Zu(a,!b)),d=av(c),f=c.node.previousSibling;3==c.node.nodeType&&(c.node=null);var g=$u(z.Zu(a,b)),h=av(g),k=g.node.previousSibling;3==g.node.nodeType&&(g.node=null);return function(){!c.node&&f&&(c.node=f.nextSibling,c.node||(c=new bv(f,z.Nu(f))));!g.node&&k&&(g.node=k.nextSibling,g.node||(g=new bv(k,z.Nu(k))));return z.ku(c.node||d.node.firstChild||d.node,c.offset,g.node||h.node.firstChild||h.node,g.offset)}};
var $u=function(a){var b;if(3==a.node.nodeType)for(b=a.node.previousSibling;b&&3==b.nodeType;b=b.previousSibling)a.offset+=z.Nu(b);else b=a.node.previousSibling;var c=a.node.parentNode;a.node=b?b.nextSibling:c.firstChild;return a};z.cv=function(a){var b=a.bc();return a.aa()!=b.parentElement&&z.Ou(b)||!!z.wf(b,z.Ou)};var bv=function(a,b){this.node=a;this.offset=b};var av=function(a){var b=a.node.parentNode;return new bv(b,z.kb(b.childNodes,a.node))};
var Vu=function(a,b,c,d){for(;1==a.nodeType;){var f=a.childNodes[b];if(f||a.lastChild)if(f){var g=f.previousSibling;if(c&&g){if(d&&dv(g))break;a=g;b=z.Nu(a)}else{if(d&&dv(f))break;a=f;b=0}}else{if(d&&dv(a.lastChild))break;a=a.lastChild;b=z.Nu(a)}else break}return new bv(a,b)};var dv=function(a){return 1==a.nodeType&&!z.$e(a)};z.ev=function(a){z.Ct.call(this,a)};z.fv=function(a,b){var c=a?z.Ie(a):b;z.Q.call(this,c);this.KW=a||this.L().xa().body;this.GB={};z.gv.push(this);this.Bv=!0};
z.hv=function(a,b){(a.Bv=b)?a.Hn():z.iv(a)};var jv=function(a){if(!a.jm){var b=a.m(),c=z.In(b).x,d=z.Qn(b).width;a.GB={};z.Db(kv,function(a){this.GB[a]=b.style[a]},a);z.Db(lv,function(a){this.xc.style[a]=b.style[a]||z.Ng(b,a)||z.Mg(b,a)},a);z.Wg(a.xc,b.offsetWidth,b.offsetHeight);z.Ig(b,{left:c+"px",width:d+"px",cssFloat:"none"});b.parentNode.replaceChild(a.xc,b);a.KW.appendChild(b);b.style.position="fixed";a.Iq();z.S.add(b,"goog-scrollfloater-floating");a.jm=!0}};
z.iv=function(a){if(a.jm){var b=a.m();z.Db(a.GB,function(a,d){b.style[d]=a});a.xc.parentNode.replaceChild(b,a.xc);z.S.remove(b,"goog-scrollfloater-floating");a.jm=!1}};z.mv=function(a,b,c){z.fv.call(this,a,c);this.pX=b;this.tag="";this.uK=100};var nv=function(a){return a&&z.pb(z.gv,function(b){return a===b.tag&&b.jm})};var ov=function(){};var pv=function(a,b){this.H=(0,window.$)(a);this.J=window.$.extend({},this.defaults,b||{});this.hh()};
var qv=function(a,b){window.$.each(rv,function(c,d){var f=b&&(null!==b&&d in b?b[d]:void 0);f?f(a,d):a.removeAttribute(d)})};var sv=function(a,b){(0,window.$)("*",a).each(function(){qv(this,b)})};var tv=function(a){a=a.J;var b=a.GX,c=a.oC;return{id:function(a,c){a.id&&!z.rb(b,a.id)&&a.removeAttribute(c)},"class":function(a,b){if(a.className)if(c.length){var g=z.S.get(a),g=z.lb(g,z.Qo(z.Aa(z.rb,c)));g.length&&z.S.remove.apply(null,[a].concat(g))}else a.removeAttribute(b)}}};
var uv=function(a){z.H.call(this);this.J=window.$.extend(!0,{},this.defaults,a||{});this.Gx();this.Of()};var vv=function(a,b){a.close();a.dispatchEvent({type:"cancel",data:{originalEvent:b}})};var wv=function(a,b){z.H.call(this);this.input=a;z.Mb(this.J={},this.defaults,b||{});this.Pg=new uv({Tn:this.J.Tn,Sk:this.J.Sk});z.Ac(this,this.Pg);this.hh()};var xv=function(a){a=z.L(a.J.Rt,a.input);var b;if(a)return b=window.document.createTextNode("@"),z.Bo(b,a),b};
var yv=function(a,b){var c;z.B&&(c=z.Re(window.document),a.input.focus(),window.scrollTo(c.x,c.y));var d;zv?(c=window.getSelection(),d=window.document.createRange(),d.setStartAfter(b),c.removeAllRanges(),c.addRange(d)):3===b.nodeType&&z.Du(b,b.length).select()};var Av=function(a){return a&&"A"===a.nodeName};
var Bv=function(a,b,c){var d=window.getSelection();if(b(d.anchorNode.parentNode)){b=d.getRangeAt(0);var f=Cv(a);b.insertNode(f);b.selectNode(f);d.removeAllRanges();d.addRange(b);d=window.getSelection().getRangeAt(0);a=Dv(a,d);c(a)}};var Ev=function(a,b,c){var d=window.document.selection.createRange(),f=d.parentElement();b(f)&&(d.pasteHTML(Cv(a).outerHTML),d.moveToElementText(z.L(a.J.Rt,a.input)),d.select(),a=Dv(a,d),"7.0"===z.Jc&&(a.x-=2),c(a))};
var Dv=function(a,b){var c;c=b.getBoundingClientRect();var d;z.C&&(d={width:b.boundingWidth,height:b.boundingHeight},z.Ca(d,c),c=d);d=z.Re(window.document);var f=z.In(a.Pg.Ic());f.x=c.left-f.x+d.x;f.y=c.top-f.y+d.y;a.J.position.call(a,f,c);return f};var Fv=function(a){return a&&1===a.nodeType&&"A"===a.tagName&&z.rb(Gv,a.className)};var Cv=function(a){return z.M("a",{className:a.J.Rt,innerHTML:"@"})};
z.Hv=function(a,b,c){z.Q.call(this);this.status=this.hc=null;this.EI=a;this.oL=b;this.Ns=c;this.isEnabled=!0;this.VG=!1;this.params=[];this.content=null;this.GD=!1;this.bG=window.$.Deferred()};var Iv=function(a){var b=a.Ta;if(b.m)b.on("load",function(){new pv(b.m(),{oC:["video-link"].concat(this.jw?Gv:[])})},!1,a)};var Jv=function(a){var b=a.Ta;b.m&&(a=(0,z.t)(function(){new wv(b.m(),{Sk:this.Wj})},a),b.Kc()?a():b.addEventListener("load",a))};
var Kv=function(a){if(a.dispatchEvent("shouldUpdateContent")){var b=a.content,c=a.Cd,d=a.gH();a.GD?(z.of(c,b),c.appendChild(z.Ye(d))):c.innerHTML=b+d;(0,window.$)("img.lazy",c).lazyload({data_attribute:"actualsrc",threshold:400})}};z.Lv=function(a,b,c){z.Hv.call(this,a,b,c);this.RU="mock"+this.xe();this.Cy=!1;this.Ix=!0;this.Zd=!z.Gm||z.Yl;this.jw=!1;this.IM=this.IZ=!0;this.YA=""};
var Mv=function(a,b,c){var d=b.dc.FullScreenPlugin;if(d){var f=z.yh(c,"toggleFullScreen");d.on("save",a.Kt,!1,a).on("willEnterFullScreen",function(){Nv(this,!1)},!1,a).on("enterFullScreen",function(){f.Rd("閫€鍑哄啓浣滄ā寮�")}).on("exitFullScreen",function(){f.Rd("鍐欎綔妯″紡")}).on("shouldExitFullScreenOnEscape",function(){return!b.Ch})}};
var Nv=function(a,b){if(a.Zg)if(b){z.S.add(a.cm,"zm-editable-editor-field-wrap-active");var c=a.Zg;c.av=z.In(c.m()).y;z.hv(a.Zg,!0)}else z.S.remove(a.cm,"zm-editable-editor-field-wrap-active"),z.hv(a.Zg,!1)};var Ov=function(a){a.hE.toggle();a.Er.toggleClass("no-toolbar")};z.Pv=function(){z.R.call(this);this.lG=!0;this.lB=z.Y.lB;this.rY=-1===window.location.href.indexOf("psq")};z.Qv=function(a,b){a.Uc&&(a.Uc.value=b,a.lK(),a.PK.CM(),a.Ma&&a.Ma.iw())};
var Rv=function(a){var b=Sv.get("add_question_form_title");b&&z.Qv(a,b);(b=Sv.get("add_question_form_des"))&&Tv(a,b);b=a.J.Fn;b||(b=Sv.get("add_question_form_topics"))&&(b=JSON.parse(b));b&&z.A(b,function(b){a.Ma.mj(b)})};
var Uv=function(a){function b(){var a=(0,window.$)('\x3cdiv\x3e\x3cdiv style\x3d"text-align:center"\x3e\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e'),b=(0,window.$)(dq(this)),c=b.data("answer_count"),f=b.data("url_token");window.$.get("/question/"+f+"/answers/summary").done(function(b){if(b&&!b.r){b=d({forEach:z.A,answers:b.msg,question_url_token:f});var g=z.Ja('\x3cdiv class\x3d"zippy-row"\x3e\x3ca class\x3d"zg-link-litblue" href\x3d"/question/%s"\x3e鏌ョ湅璇ラ棶棰�%s\x3c/a\x3e\x3c/div\x3e',
f,0<c?"鐨勫叏閮� "+c+" 涓洖绛�":"");a.html(b+g)}else z.T.message(b.msg)});b.after(a);return a.get(0)}var c=(0,z.Gr)(a.sr.cC),d=(0,z.Gr)(a.sr.SO),f=a.Uc,g=new Ns;a.uE=new z.Ms(f,{source:"/question/autocomplete",dj:z.J("zh-question-suggest-ac-wrap"),sd:window.$.noop,render:function(d,f,g){a.wE&&a.wE.dispose();f=(0,window.$)(d.m());var n=a.wE=new Yr;f.html(c({forEach:z.A,questions:g,token:(0,window.encodeURIComponent)(this.ic)}));f.prepend('\x3cdiv class\x3d"ac-head zg-gray"\x3e浣犵殑闂鍙兘宸茬粡鏈夌瓟妗圽x3c/div\x3e');(0,window.$)(".ac-row",
f).each(function(){n.Ja(new z.bq((0,window.$)(this).get(0),b,!1))});n.w(d.m())},qA:g})};var Vv=function(a,b){(0,window.$)(a.IY).toggle(!!b);(0,window.$)(a.mJ).toggle(!b);b?a.dF.focus():(a.vp(),a.Uc.focus());a.ga()};
var Wv=function(a){if(!z.$h||z.ai){var b=aq.ba(),c=new z.Rp("",b);c.fc(32,!1);a.o().g(c,"action",a.uV);c.w(a.fZ);c.Rd("鍒囨崲宸ュ叿鏍�");c=new z.Rp("",b);c.fc(32,!1);a.o().g(c,"action",function(){this.$b.Ta.execCommand("image")});c.w(a.oO);c.Rd("娣诲姞鍥剧墖");b=new z.Rp("",b);b.fc(32,!1);a.o().g(b,"action",function(){this.$b.Ta.execCommand("video")});b.w(a.sO);b.Rd("娣诲姞瑙嗛")}};
var Xv=function(a){a.Ma=new yt;a.Ma.w(a.kZ);a.o().g(a.Ma,["add_tag","remove_tag"],a.jK);new z.Wj(a.Uc,"鍐欎笅浣犵殑闂");var b=a.qQ;a.$b=new z.Lv;a.$b.YA='\x3cspan style\x3d"font-style: normal;color: #999;"\x3e闂鑳屾櫙銆佹潯浠剁瓑璇︾粏淇℃伅\x3c/span\x3e';a.$b.w(b);a.$b.init();a.$b.Wg();z.$h&&!z.ai||Ov(a.$b);(0,window.setTimeout)(function(){a.ga()});Wv(a);Uv(a)};var Yv=function(a,b,c){"title"===c?a.bU=b:"detail"===c?a.RT=b:a.dU=b;a.lG=a.bU||a.RT||a.dU};var Zv=function(a,b){(0,window.$)(a.Kl).attr("disabled",b)};
var $v=function(a){(0,window.$)(window).on("beforeunload.AddQuestionForm",(0,z.t)(function(){aw(this)},a))};var aw=function(a){a.Uc.value&&Sv.set("add_question_form_title",a.Uc.value);var b=a.$b.yg();b&&Sv.set("add_question_form_des",b);(a=a.Ma.data)&&Sv.set("add_question_form_topics",JSON.stringify(a))};var bw=function(a,b,c){a.Ju.innerHTML=b.Ve;0===b.level?z.P(a.Jk,!1):(3!==b.level&&(z.P(a.Kl,!0),z.P(a.mo,!1)),z.P(a.Jk,c),c&&a.Uc.focus())};
var cw=function(a){var b=z.ar(a.Uc.value).replace(/锛�/g,"?"),c=dw(a);1<c.level||(1>jr(z.ar(a.Uc.value).replace("锛�","?"))?(c.Ve="鎮ㄨ繕娌℃湁缁欓棶棰樻坊鍔犻棶鍙�",c.level=3,c.name="noquestionmark"):1<jr(b)&&(c.Ve="濡傛灉鏈夊涓棶棰橈紝鏈€濂芥媶鍒嗕竴涓�",c.level=1,c.name="multiquestionmark"));return c};
var dw=function(a){var b="#",c=a.Tp||new ew,d=!1;if(!a.uE||!a.rY)return c;var f=a.uE.Oa;f&&f.length?(z.A(f,function(a){4<a.raw.length&&1===+a.raw[4]&&(d=!0,b="/question/"+a.url_token+"?q\x3d"+(0,window.encodeURIComponent)(this.Uc.value)+"\x26psq\x3d0")},a),d?(c.Ve='鎴戜滑鎵惧埌浜嗕竴涓篃璁告槸浣犳兂闂殑闂锛孿x3ca href\x3d"'+b+'"\x3e鏌ョ湅闂\x3c/a\x3e',c.level=3,c.name="duplicatedquestion",c.w0=!0,a.mo.href=b,z.P(a.Kl,!1),z.P(a.mo,!0)):(c=new ew,z.P(a.Kl,!0),z.P(a.mo,!1)),a.Tp=c):(c=new ew,a.Tp=c,z.P(a.Kl,!0),z.P(a.mo,!1));a.Tp||
(a.Tp=c);return a.Tp};var fw=function(a){a=z.ar(a.Uc.value).replace(/锛�/g,"?");a=pr(a);var b=new ew;3>a?(b.level=3,b.Ve="闂瀛楁暟澶皯浜嗗惂",b.name="tooshort"):40<a&&51>=a?(b.level=1,b.Ve='杩樺彲浠ヨ緭鍏� \x3cspan class\x3d"warning"\x3e'+(51-a)+"\x3c/span\x3e 瀛�",b.name="buffer"):51<a&&(b.level=3,b.Ve='宸茶秴鍑� \x3cspan class\x3d"error"\x3e'+(a-51)+"\x3c/span\x3e 瀛�",b.name="toolong");return b};var gw=function(a){a=a.$b;var b=(0,z.ab)(a.yg());return a.isContentEditable()?b:z.La(b)};
var Tv=function(a,b){var c=a.$b;(0,window.setTimeout)(function(){c.X(b);c.Uq()})};var hw=function(a){var b=new z.nr,c=[],d=[];b.add("question_title",a.Uc.value);b.add("question_detail",gw(a));a.sF&&b.add("anon",a.sF.checked?"1":"0");z.A(a.Ma.data,function(a){a[3]?c.push(a[3]):d.push(a[1])});b.add("topic_ids",c.join(","));b.add("new_topics",d.join("$"));z.Kk&&b.add("uid",z.Kk[3]);return b};
var iw=function(a){window.$.get("/organization/ask_question_limit").then(function(b){if(!b.r){b=b.msg;var c=void 0,c=b?(0,window.$)('\x3cspan class\x3d"zm-question-form-notice"\x3e鏈懆杩樿兘鎻� '+b+' 涓棶棰� \x3ca href\x3d"/organization/nacl#RightsWall" target\x3d"_blank"\x3e\x3ci class\x3d"zg-icon zg-icon-question-mark"\x3e\x3c/i\x3e\x3c/a\x3e \x3c/span\x3e'):(0,window.$)('\x3cspan class\x3d"zm-question-form-notice zm-question-form-notice--warning"\x3e宸茶揪鍒版湰鍛ㄦ彁闂笂闄� \x3ca href\x3d"/organization/nacl#RightsWall" target\x3d"_blank"\x3e\x3ci class\x3d"zg-icon zg-icon-question-mark"\x3e\x3c/i\x3e\x3c/a\x3e \x3c/span\x3e');
(0,window.$)(a.mJ).find(".zm-command").prepend(c)}})};var ew=function(){this.level=(0,window.isNaN)(void 0)?0:void 0;this.Ve=""};var jw=function(){};z.kw=function(a){z.dk.call(this,"register");this.Oo=a};var lw=function(a){z.Q.apply(this,arguments)};var mw=function(){z.Pj.call(this,"DownloadAppDialog")};var nw=function(){z.R.call(this)};var ow=function(){};
var pw=function(){var a=(0,window.$)("#rq3-sidenav-link"),b=(0,window.$)(".tour",a);b.length&&(0,window.$)(".close-button",b).click(function(){var a=(0,window.$)(this).data("feature");window.$.get("/notifeature",{feature:a});b.fadeOut(100,function(){b.remove()})})};
var qw=function(){var a=(0,window.$)(".zm-side-my-columns");if(a.length){var b=a.find(".column-homepage-link .icon-column-logo"),c=+z.si.get("navcolumn:entered");a.on("click",".column-unfold",function(b){a.find(".column-list").append((0,window.$)("#SidebarColumnItem-template").html());(0,window.$)(b.currentTarget).parent().remove()});c||(b.addClass("icon-column-logo-active"),a.on("click",".column-homepage-link",function(){b.removeClass("icon-column-logo-active");z.si.set("navcolumn:entered",1)}))}};
var rw=function(a){(0,window.$)(".DownloadApp-button").click(function(b){b.preventDefault();b=new mw;z.V.trackEvent(a,{action:"Download",element:"Button"});b.F(!0)});(0,window.$)(".DownloadApp-link").click(function(b){b.preventDefault();b=new nw;z.V.trackEvent(a,{action:"Download",element:"Button"});b.F(!0)})};var sw=function(a){z.Q.apply(this,arguments)};z.tw=function(a){(new window.Image).src=a};z.uw=function(a){if(z.oa(a))try{a=JSON.parse(a)}catch(b){a={}}return{type:"Ad",is_ad:!0,ad_info:a}};
var vw=function(){(0,window.$)(".shameimaru-placeholder").each(function(){var a=(0,window.$)(this),b=Object.assign({},{loc:a.data("loc")},a.data("params"));window.$.get("/node/Banner",b,function(b){b?(b=(0,window.$)(b),a.replaceWith(b),(new sw).w(b[0])):a.remove()})})};var ww=function(a){z.Q.apply(this,arguments)};
var xw=function(a){var b=!1,c="";"undefined"!==typeof window&&(c=window.navigator.userAgent);var d=new window.Image,c=/micromessenger/.test(c.toLowerCase());d.onload=function(){b||(b=!0,a())};(0,window.setTimeout)(function(){b||(b=!0,a())},500);d.src="https://api.zhihu.com/channel/ad/ge16/link?auth_key\x3d6d13269a14bc76e18df43f05283cf545\x26pub_id\x3dhome"+(c?"\x26sub_pub_id\x3dwechat":"")};var yw=function(a){z.Q.apply(this,arguments)};z.zw=function(a){return"/qrcode?"+window.$.param({url:a+"#showWechatShareTip"})};
z.Aw=function(){Bw=(0,window.$)(".wechat-share-tip");Bw.on("touchstart click",function(a){a.preventDefault();Cw()})};z.Dw=function(){Bw.length&&(Bw.show(),(0,window.$)(window.document.documentElement).addClass("show-wechat-share-tip"))};var Cw=function(){Bw.onTransitionEnd(function(){Bw.hide()},150);(0,window.$)(window.document.documentElement).removeClass("show-wechat-share-tip")};var Ew=function(a){z.Q.apply(this,arguments)};var Fw=function(a){z.Q.apply(this,arguments)};var Gw=function(){};
var Hw=function(a){var b=(0,window.$)("#zh-feedback-form"),c=(0,window.$)(".zg-report-msg",b),d=(0,window.$)("textarea",b),b=(0,window.$)("select",b);a=a.type||b.val();b=window.$.trim(d.val());if(!b)return c.html("璇峰～鍐欏弽棣堝唴瀹�").show(),d.focus(),!1;c.hide();c=new z.dp(!0);d=new z.uj;c.on("success",function(){z.T.message("寤鸿鍙戦€佹垚鍔燂紝鎴戜滑浼氬敖蹇鐞嗭紝鎰熻阿鎮ㄧ殑甯姪");Iw.remove("content")});d.add("type",a).add("content",b);c.ajax("/feedback/report",d.toString())};
var Jw=function(a,b){return window.$.post("/node/ColumnFollowBaseV2",{method:b?"follow_column":"unfollow_column",params:{column_id:a}})};var Kw=function(a,b){return window.$.post("/roundtable/"+a,{action:b?"follow":"unfollow"})};var Lw=function(a){z.H.call(this);this.url=a+"/apilive";this.mX=5E3;this.LX=1E3;this.hy=0;Mw(this)};
var Mw=function(a){a.client=new window.WebSocket(a.url);a.client.onmessage=function(b){try{a.dispatchEvent({type:"message",data:b.data})}catch(c){}};a.client.onclose=function(){(0,window.setTimeout)(function(){a.hy<a.LX&&(Mw(a),a.hy+=1)},a.mX)};a.client.onerror=function(){a.client.close()}};var Nw=function(a){z.Mb(this.J={},this.defaults,a||{});this.Db()};var Ow=function(a){return Pw.every(function(b){return a[b]})};var Qw=function(a,b){return Pw.every(function(c){return a[c]===b[c]})};
var Rw=function(a){return window.$.extend({},{key:a.key},a.hc)};var Sw=function(a,b){a.every(function(a){return!Qw(a,b)})&&a.push(b);return a};var Tw=function(a,b){var c=a[b.group];c?c.push(b):a[b.group]=[b];return a};
var Uw=function(){var a=No(z.dn.map(function(a){return z.Gb(En(a.Jl))})).map(Rw).filter(Ow).reduce(Sw,[]).reduce(Tw,{}),b=['\x3cdiv class\x3d"shortcut-tips"\x3e'],c={QX:/([^\s+])+|([\s+])/g,cR:function(a){return a.replace(this.QX,function(a,b){return b?"\x3ckbd\x3e"+a+"\x3c/kbd\x3e":" "+a+" "})}};z.Db(a,function(a,f){b.push('\x3cdiv class\x3d"group"\x3e\x3ch2\x3e',f,"\x3c/h2\x3e\x3cdl\x3e");z.A(a,function(a){b.push("\x3cdt\x3e",c.cR(a.key),"\x3c/dt\x3e");b.push("\x3cdd\x3e",a.name,"\x3c/dd\x3e")});
b.push("\x3c/dl\x3e\x3c/div\x3e")});b.push("\x3c/div\x3e");return b.join("")};z.Vw=function(a){return Ww("common").then(function(){return Ww(a)})};z.Xw=function(){var a=z.Y;return{signedIn:a.authed(),currentUser:{email:a.email,activated:a.activated,isOrg:a.uc},authRequired:z.Ir}};var Yw=function(){return new window.Promise(function(a){window.$.ajax({url:"//zhstatic.zhihu.com/assets/zfeedback/3.0.12/zfeedback.js",dataType:"script",cache:!0}).then(function(){a(window.zfeedback)})})};
var Zw=function(){Yw().then(function(a){z.Y.authed()&&(window.zfeedbackConfig={user:{hash:z.Y.be}});a.init()})};var $w=function(a,b){ax.push([a,z.pa(b)?b:2]);ax.sort(function(a,b){return a[1]-b[1]})};var bx=function(){sq.call(this);this.queue=[]};var cx=function(){bx.call(this);this.Vy=0};var dx=function(a){return Math.pow(a,3)};var ex=function(a){return 1-Math.pow(1-a,3)};var fx=function(a){return 3*a*a-2*a*a*a};
var gx=function(){z.H.call(this);this.h=null;this.QU=768;this.Sy=this.XX=300;this.kp=!0;this.kx=!1;this.YY=150};var hx=function(){};var ix=function(){z.H.call(this)};z.jx=function(a){a.Lk=new z.dp(!1);a.o().ta(a.Lk,"success",a.LV);a.Lk.ajax("/noti7/new?r\x3d"+ +new Date,null,"GET")};var kx=function(){if(lx)(0,window.$)(window.document).on("click.tabless","a:not(#js-openInApp)",function(a){this.host===window.location.host&&"_blank"===a.currentTarget.target&&(a.currentTarget.target="")})};
z.mx=function(a){a=void 0===a?{}:a;z.H.call(this);this.xr=!0;this.Dn=this.jD=-1;this.iM="";this.Na=null;Object.assign(this.J={},this.defaults,a);this.J.El&&(this.hp=z.Ir(this.hp,this.J.El))};z.nx=function(a,b){a.ji.innerHTML+='\n    \x3ca class\x3d"zm-profile-email-history-link" href\x3d"'+b+'"\x3e绉佷俊璁板綍  禄\x3c/a\x3e\n    '+(z.Y.uc?"\x3cspan class\x3d'OrgIcon sprite-global-icon-org-14' data-tooltip\x3d's$b$宸茶璇佺殑鏈烘瀯' /\x3e":"")+"\n  "};
z.ox=function(a,b,c,d){-1===b?z.dr(a.td,a.ji):b!==z.Y.be&&(a.Dn=b,a.iM=c,a.ji&&a.td&&(a.ji.innerHTML=a.iM+(d?cr():""),z.dr(a.ji,a.td),a.td.value=""))};var px=function(a,b){a.Ju.innerHTML=b;z.P(a.Ju,!0)};var qx=function(){};z.rx=function(a,b,c){this.element=a;this.xf=b;this.FW=c};var sx=function(a,b){this.Di=a instanceof z.Ge?a:new z.Ge(a,b)};var tx=function(a,b){this.WB=4;this.gv=b||void 0;z.xn.call(this,a)};
z.ux=function(a,b){a.aB=null==b||b instanceof z.Gg?b:new z.Gg(b,void 0,void 0,void 0);a.W()&&a.ga()};z.vx=function(a,b,c){this.ca=c||(a?z.Ie(z.J(a)):z.Ie());tx.call(this,this.ca.B("DIV",{style:"position:absolute;display:none;"}));this.Qj=new z.Ge(1,1);this.pb=new Go;this.hl=null;a&&this.attach(a);null!=b&&z.of(this.m(),b)};var xx=function(a,b){z.md(b,"mouseover",a.Id,!1,a);z.md(b,"mouseout",a.xm,!1,a);z.md(b,"mousemove",a.vm,!1,a);z.md(b,"focus",a.ye,!1,a);z.md(b,"blur",a.xm,!1,a)};
var yx=function(a,b){var c=z.xf(a.ca);a.Qj.x=b.clientX+c.x;a.Qj.y=b.clientY+c.y};var zx=function(a,b){try{for(;b&&!a.pb.contains(b);)b=b.parentNode;return b}catch(c){return null}};var Ax=function(a,b){if(0==b){var c=a.Qj.clone();return new Bx(c)}return new Cx(a.oc)};var Dx=function(a){if(a.anchor)for(var b,c=0;b=Ex[c];c++)z.nf(b.m(),a.anchor)&&(b.Ql=a,a.xK=b)};var Fx=function(a,b,c){a.vn||(a.vn=z.vd((0,z.t)(a.cB,a,b,c),a.$q))};var Gx=function(a){a.vn&&(z.wd(a.vn),a.vn=void 0)};
var Bx=function(a,b){sx.call(this,a,b)};var Cx=function(a){z.rx.call(this,a,3)};var Hx=function(a,b,c){z.vx.call(this,a,b,c)};z.Ix=function(a,b){a.pp=b||null};var Jx=function(a,b){if(a.ix&&a.ix.contains(b)||a.fu(b))return!0;var c=a.Ql;return!!c&&c.fu(b)};z.Kx=function(a,b,c,d){z.vx.call(this,null,null,c);z.qa(a)?this.uA=a:this.NE=a;this.wP=0!=b;this.iD=[];this.Ra=d||(c?c.xa():window.document);z.G(this.Ra,"mouseover",this.MH,!1,this)};
var Lx=function(a,b,c){if(b==a.pg)a.Nj();else if(b!=a.anchor){1!=a.getState()&&4!=a.getState()||Mx(a);var d=new Nx("trigger",a,b,void 0);a.Li().contains(b)||(a.attach(b),a.iD.push(b));a.anchor=b;a.Wu(d)?Fx(a,b,c||a.gv):Ox(a)}};var Px=function(a,b){var c=z.kb(a.iD,b);-1!=c&&(a.detach(b),a.iD.splice(c,1))};var Mx=function(a){Gx(a);Ox(a)};var Ox=function(a){a.dispatchEvent(new Nx("canceltrigger",a,a.anchor||null));Px(a,a.anchor);delete a.anchor};
var Nx=function(a,b,c,d){z.Lc.call(this,a,b);this.anchor=c;this.data=d};var Qx=function(a,b,c){z.rx.call(this,a,b);this.FE=c};var Rx=function(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};var Sx=function(){z.H.call(this);this.zY=this.gT=250;this.hb="tooltip";this.Ms="data-"+this.hb};
var Tx=function(a,b){return'\n    \x3cdiv class\x3d"popover-content no-hovercard"\x3e'+a+"\x3c/div\x3e"+('\n    \x3cdiv class\x3d"arrow"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"arrow2'+(b?" loading":"")+'"\x3e\x3c/div\x3e\n  ')+"\n  "};var Ux=function(a){var b=void 0;switch(a.Wl){case "t":b=5;break;case "r":b=4;break;case "b":b=4;break;case "l":b=6}a=a.Ha;a.WB=b;a.W()&&a.ga()};var Vx=function(a,b){a.Ha.ge(b);a.Ha.setPosition(a.VF)};var Wx=function(){Sx.call(this);this.hb="hovercard";this.wi={}};
var Xx=function(a,b,c,d){var f=a.wi[b]&&a.wi[b][c];if(f)Vx(a,Tx(f));else if(f=Yx[b])window.$.get("/node/"+f,{params:{url_token:c}},(0,z.t)(function(a){Zx(this,a,b,c)},a)),Vx(a,a.Fx(d))};var Zx=function(a,b,c,d){a.Xl===c&&a.Eo===d&&Zx(a,b);a.wi[c]=a.wi[c]||{};a.wi[c][d]=b;Ux(a);Vx(a,Tx(b));Lx(a.Ha,a.$F,a.Wl)};var $x=function(a){z.Q.call(this);this.options=window.$.extend({stopPropagation:!0,fP:"#000",rx:.5,OP:"#666",GF:.2,top:2,width:6,right:2,bP:!0},a);this.kB=0;this.Zs=!1};
var ay=function(a){a.tn&&(a.Ie.stop().css({opacity:a.options.rx}).show(),a.io&&((0,window.clearTimeout)(a.io),a.io=!1))};var by=function(a,b){b=b||0;a.io=(0,window.setTimeout)((0,z.t)(function(){this.Ie.stop().fadeOut();this.io=!1},a),b)};var cy=function(a,b){var c=a.Ad.height()-2*a.options.top-a.Ie.height(),d=a.Rb.height()-a.Ad.height();return b/c*d};var dy=function(a,b,c){z.Lc.call(this,"scroll",a);this.scrollTop=b;this.sL=c};
z.ey=function(a){z.Q.call(this);this.J=window.$.extend({},this.defaults,a||{})};var fy=function(){z.H.call(this);this.og=[0,0,0];this.QJ=[0,0,0];this.types=["default","follow","vote_thank"];this.zG=!z.Z.fb;this.HM=z.Z.fb||null!=window.navigator.userAgent.match(/iPad/i);this.cache=[!1,!1,!1];this.Oi=[null,null,null];this.kq=[0,0,0];this.un=[!1,!1,!1]};
var gy=function(a){a.tab=new z.ey({HJ:".zm-noti7-popup-tab-item",wK:".zm-noti7-content",ih:"current"});a.o().g(a.tab,"action",function(a){this.YF=a=a.data.index;hy(this,a);var c=this.Sg&&this.Sg[a];c&&((0,window.setTimeout)(function(){c.update()}),this.tab.index()===a&&c.scrollTop())}).g(a.tab,"select",function(a){this.YF=a=a.data.index;iy(this,a);z.U.Ab({type:"ga_click_top_nav_noti_tab",data:{tab:+a}});this.je||z.si.set("noti7-tab",a)});a.tab.w(a.bj)};
var jy=function(a){var b=void 0,c=void 0,d=z.zr(100,function(c,d){var h=d.target;200>("number"===typeof d.sL?d.sL:h.scrollHeight-h.offsetHeight-h.scrollTop)&&a.UA(c).then(function(a){a||z.nd(b[c])},window.$.noop)},!0),c=a.HM?a.contents:a.Sg,b=z.mb(c,function(a,b){return z.G(a,"scroll",(0,z.t)(d,void 0,b))})};var iy=function(a,b){a.Sg&&z.A(a.Sg,function(a,d){b===d?a.enter():a.Gy&&(a.o().removeAll(),a.he&&a.he.stop(),a.Gy=!1)})};var ky=function(a){a=z.Oo(a.og,Fn);return-1===a?0:a};
var ly=function(a){if(!z.Nm){var b=my(a.je);a=my(a.iI);var c="";b&&a?c="("+a+" 灏佺淇� / "+b+" 鏉℃秷鎭�) ":b?c="("+b+" 鏉℃秷鎭�) ":a&&(c="("+a+" 灏佺淇�) ");window.document.title=c+window.document.title.replace(/^(\(|\uff08)(\d)*(\+)?( )?(\u5c01\u79c1\u4fe1)?( \/ )?(\d)*(\+)?( )?(\u6761\u6d88\u606f)?(\)|\uff09)( )?/g,"")}};var ny=function(a,b){a.je-=a.og[b];a.Fw.eq(b).removeClass("withdot");0>a.je&&(a.je=0);z.P(a.xo,!!a.je);a.xo.innerHTML=a.je};
var hy=function(a,b){a.zG?a.visible&&(a.cache[b]?("$$used$$"!==a.cache[b]&&(a.Yx[b].innerHTML=a.cache[b],a.cache[b]="$$used$$"),a.og[b]&&oy(a.types[b]),ny(a,b),a.Sg&&a.Sg[b].update().scrollTop(),a.je||z.si.set("noti7-tab",b)):(a.un[b]=!0,a.rm(b))):a.cache[b]?("$$used$$"!==a.cache[b]&&(a.Yx[b].innerHTML=a.cache[b],a.cache[b]="$$used$$"),a.og[b]&&oy(a.types[b]),ny(a,b)):(a.un[b]=!0,a.rm(b),oy(a.types[b]))};
var py=function(a,b){b?a.bE.fadeIn(50):a.bE.fadeOut(50);a.visible=b;z.S.enable(a.bj,"open",a.visible);z.S.enable(a.En,"open",a.visible);if(b){a.bj.focus();z.A(a.cache,function(a,b){a||this.rm(b)},a);a.o().g(window.document,"click",a.Dt);var c;a.je?(c=ky(a),a.tab.select(c),a.un[c]=!0):(c=qy(),a.tab.select(c),a.cy||(a.un[c]=!0));iy(a,c);z.U.Ab({type:"ga_click_top_nav_noti",data:{tab:a.YF,zM:+(a.je||0)}})}else a.o().pa(window.document,"click",a.Dt),iy(a,-1)};
var oy=function(a){(new z.dp(!1)).ajax("/noti7/readall","tab\x3d"+a,"POST")};var qy=function(){var a=z.si.get("noti7-tab");return a?+a:0};var my=function(a){return 99<a?"99+":a};var ry=function(a){z.Q.call(this);window.$.extend(this.J={},this.defaults,a||{})};
var sy=function(a){var b=a.dh,c=a.zd,d=c.attr("id");d||(d=z.vh(z.uh.ba()),c.attr("id",d),b.attr("aria-labelledby",d));c.attr("role")||c.attr("role","button");a.zd.attr("aria-haspopup","true").attr("aria-activedescendant","");a.dh.children().find("a").attr("tabindex",-1).attr("id",(0,z.t)(function(a,b){return b||z.vh(z.uh.ba())},a))};var ty=function(a,b){var c=a.dh.children().find("a"),d=c.size();b>=d?b=0:-1>=b&&(b=d-1);c=c.eq(b);a.zd.attr("aria-activedescendant",c.attr("id"));c.focus();a.index=b};
var uy=function(a){z.Q.apply(this,arguments)};var vy=function(a,b){return a?wy[b[0]]!==wy[a[0]]:!0};var xy=function(a,b,c){if(c=wy[c])c=z.M("div",{className:"zu-autocomplete-row-label ac-row"},c),z.cf(c,b),a.o().g(a.O,"suggestionsupdate",yr)};var yy=function(a,b){if(!a.metaKey)try{z.si.set("query",a.O.ic)}catch(c){b+="?q\x3d"+(0,window.encodeURIComponent)(a.O.ic)}return b};
var zy=function(a){a=a.m();var b=Object.values({hi:"Topic",F0:"User",cC:"Question",e0:"Column",b0:"Post"});return{search:{raw_query:a&&a.value,restrict_type:b}}};var Ay=function(){z.H.call(this)};
var By=function(){var a=(0,window.$)("#js-top-nav-link-profile"),b=(0,window.$)("#mobile-top-nav-profile-popup");if(z.$h&&b.length&&b.children("ul").length){var c=function(c){c=c.target;b[0].contains(c)||c.contains(a[0])||d()},d=function(){a.parent().removeClass("open");b.hide();(0,window.$)(window.document.body).off("mousedown",c)};a.click(function(f){f.preventDefault();b.is(":visible")?d():(a.parent().addClass("open"),b.show(),(0,window.$)(window.document.body).mousedown(c))}).attr("href","javascript:;");
b.find(".slide-up").click(d)}};var Cy=function(){z.Q.call(this)};z.Dy=function(){return z.Er(null,{NT:"鎴戜滑妫€娴嬪埌鎮ㄧ殑姝ゆ鐧诲綍寮傚父锛屼负淇濊瘉甯愬彿瀹夊叏锛岃鎮ㄩ獙璇佽韩浠姐€�"})};var Ey=function(){z.Ih.call(this,null,!1);this.iF="zh-lightbox-showing";this.$Y="zh-lightbox-thumb";this.Db()};
var Fy=function(){(0,window.$)(window.document).on("click",".OrgIcon,.icon-badge",function(a){a=(0,window.$)(a.target);a.hasClass("no-badge-explain")||a.closest("a").length||(a.hasClass("OrgIcon")?window.open("/question/48510028/answer/111228381"):a.hasClass("icon-badge-identity")?window.open("/question/48510028/answer/111228361"):(a.hasClass("icon-badge-best_answerer")||a.hasClass("icon-badge-id-an"))&&window.open("/question/48509984/answer/111228361"))})};
var Gy=function(){if(window.location.search.match(/\bdebug_features=(.+?)(&|$)/))Hy(Iy(RegExp.$1));else{if(z.Y.authed()){var a=(0,window.$)("meta[http-equiv\x3dx-za-experiment]").attr("content");if(a){Hy(Iy(a));return}}window.$.ajaxPrefilter(function(a,c,d){Jy||d.complete(function(){Ky(d)})});fp("*",function(a,c){Jy||Ky(c)})}};var Hy=function(a){function b(b){(0,window.setTimeout)(function(){return b.call(null,a)})}Jy=!0;for(var c=void 0;c=Ly.shift();)b(c)};
var Ky=function(a){"HIT"!==a.getResponseHeader("x-cache-status")&&(a=a.getResponseHeader("x-za-experiment"))&&Hy(Iy(a))};var Iy=function(a){var b={};String(a).split(/[,;]\s*/).forEach(function(a){var d=a.indexOf(":"),f=a.slice(0,d).trim();a=a.slice(d+1).trim();if(f||a)b[f]=a});return b};var rr=function(){if(window.console){var a=Array.from(arguments);a.unshift("["+(new Date).toLocaleTimeString()+"]:\t");window.console.log.apply?window.console.log.apply(window.console,a):window.console.log(a[0],a.slice(1).join(","))}};
z.My=function(a){z.Q.apply(this,arguments)};
z.Ny=function(a,b){var c=a.cc,d=c.oa,f=c.Mm;b&&(z.sa(b)?Object.entries(b).forEach(function(a,b){var c=z.ha(a),l=c.next().value,c=c.next().value,n=d.find("[name\x3d"+l+"]").first().addClass("is-error"),l='\x3cp class\x3d"'+f+'-error"\x3e'+c+"\x3c/p\x3e",c=n.parents("\n          ."+f+", ."+f+"-section,\n          ."+f+"-uploader, ."+f+"-radio-group\n        ").first().addClass("is-error"),n=c.find("."+f+"-error-container");n.length?n.html(l):c.hasClass(""+f)?c.find("."+f+"-content").append(l):c.append(l);
0===b&&z.wr(c)}):d.find('[type\x3d"submit"]').after('\x3cspan class\x3d"'+f+'-error is-inline"\x3e\n          '+(b||"鏈嶅姟鍣ㄩ敊璇紝璇风◢鍚庨噸璇�...")+"\n        \x3c/span\x3e").parents("."+f).addClass("is-error"))};
var Oy=function(a,b){b=void 0===b?{}:b;for(var c=window.$.unique(a.find("input, select, textarea").filter(function(){return(0,window.$)(this).data("required")}).map(function(){return(0,window.$)(this).attr("name")}).get()),d={},c=z.ha(c),f=c.next();!f.done;f=c.next()){var f=f.value,g=b[f];if(z.ma(g)&&0===g.length||!g){g=a.find("[name\x3d"+f+"]");g.is("select")?d[f]="蹇呴€夐」":g.is('[type\x3d"file"]')?d[f]="蹇呬紶椤�":d[f]="蹇呭～椤�";var h=g.data("empty-tip");h&&(d[f]="placeholder"===h?g.attr("placeholder"):h)}}return window.$.isEmptyObject(d)?
null:d};
var Py=function(a,b){function c(a){a=a.val();d.OI&&(a=window.$.trim(a));d.cU&&window.$.isNumeric(a)&&(a=Number(a));return a}var d=Object.assign({OI:!1,cU:!1,jR:function(a){return a.attr("name")}},b),f={};a.find("select, textarea, input").not("\n      input[type\x3dcheckbox]:not(:checkbox),\n      input[type\x3dradio]:not(:checked),\n      input[name^\x3d_]\n    ").each(function(){var b=(0,window.$)(this);if(!b.is(":disabled")&&b.parents("form").first().is(a)){var h=d.jR(b);if(h)if(b.is('[type\x3d"checkbox"]'))"undefined"===typeof f[h]&&
(f[h]=[]),f[h].push(c(b));else if(b.is('[type\x3d"file"]')){if("undefined"===typeof f[h]&&(f[h]=[]),b=b.data("file")||b.val()){try{b=JSON.parse(b)}catch(k){}f[h].push(b)}}else f[h]=c(b)}});return f};z.Qy=function(a){return(0,z.Gr)((0,window.$)(a).html()||"")};var Ry=function(a,b){z.H.call(this);this.h=a;var c=z.lf(this.h)?this.h:this.h?this.h.body:null;this.$T=!!c&&z.ch(c);this.eJ=z.G(this.h,z.B?"DOMMouseScroll":"mousewheel",this,b)};var Sy=function(a,b){return z.D&&(z.Uc||z.Ml)&&0!=a%b?a:a/b};
var Ty=function(a,b,c,d){z.Pc.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d};var Uy=function(){z.H.call(this)};var Vy=function(a,b){return null==a.el?b:a.gq+Math.round((b-a.gq)/a.el)*a.el};var Wy=function(a,b){z.Q.call(this,a);this.EE=null;this.Lb=new Uy;this.jU=b||z.Il;z.G(this.Lb,"change",this.FH,!1,this)};
var Xy=function(a,b){b?(a.o().g(a.Ge,"beforedrag",a.Bt).g(a.tg,"beforedrag",a.Bt).g(a.Ge,["start","end"],a.Lt).g(a.tg,["start","end"],a.Lt).g(a.Fb,"key",a.Kf).g(a.m(),"click",a.It).g(a.m(),"mousedown",a.It),a.BI&&Yy(a,!0)):(a.o().pa(a.Ge,"beforedrag",a.Bt).pa(a.tg,"beforedrag",a.Bt).pa(a.Ge,["start","end"],a.Lt).pa(a.tg,["start","end"],a.Lt).pa(a.Fb,"key",a.Kf).pa(a.m(),"click",a.It).pa(a.m(),"mousedown",a.It),a.BI&&Yy(a,!1))};
var Zy=function(a,b){var c=z.Tg(b,a.m());return"vertical"==a.Yb?c.y:a.ue&&a.Ld()?a.m().clientWidth-c.x:c.x};var $y=function(a,b){var c=a.Tc(),d=a.md();if("vertical"==a.Yb){var f=a.nb.offsetHeight,g=a.m().clientHeight-f,f=Zy(a,b)-f/2;return(d-c)*(g-f)/g+c}f=a.nb.offsetWidth;g=a.m().clientWidth-f;f=Zy(a,b)-f/2;return(d-c)*f/g+c};var az=function(a,b){if(b==a.nb)return a.Lb.Y();if(b==a.Yd)return a.Lb.Y()+a.Lb.Mi();throw Error("Illegal thumb element. Neither minThumb nor maxThumb");};
var bz=function(a,b){Math.abs(b)<a.Wo()&&(b=(0,z.Sl)(b)*a.Wo());var c=az(a,a.nb)+b,d=az(a,a.Yd)+b,c=Ko(c,a.Tc(),a.md()-a.Iu),d=Ko(d,a.Tc()+a.Iu,a.md());cz(a,c,d-c)};var dz=function(a,b,c){var d=Vy(a.Lb,c);c=b==a.nb?d:a.Lb.Y();b=b==a.Yd?d:a.Lb.Y()+a.Lb.Mi();c>=a.Tc()&&b>=c+a.Iu&&a.md()>=b&&cz(a,c,b-c)};var cz=function(a,b,c){a.Tc()<=b&&b<=a.md()-c&&a.Iu<=c&&c<=a.md()-b&&(b!=a.Y()||c!=a.Mi())&&(a.Lb.Ku=!0,a.Lb.Gv(0),a.Lb.Fa(b),a.Lb.Gv(c),a.Lb.Ku=!1,a.FH())};
var ez=function(a,b){return b<=a.Lb.Y()+a.Lb.Mi()/2?a.nb:a.Yd};var fz=function(a){if(a.nb&&!a.Ip){var b=gz(a,az(a,a.nb)),c=gz(a,az(a,a.Yd));if("vertical"==a.Yb)a.nb.style.top=b.y+"px",a.Yd.style.top=c.y+"px",a.ec&&(b=hz(c.y,b.y,a.nb.offsetHeight),a.ec.style.top=b.offset+"px",a.ec.style.height=b.size+"px");else{var d=a.ue&&a.Ld()?"right":"left";a.nb.style[d]=b.x+"px";a.Yd.style[d]=c.x+"px";a.ec&&(b=hz(b.x,c.x,a.nb.offsetWidth),a.ec.style[d]=b.offset+"px",a.ec.style.width=b.size+"px")}}};
var hz=function(a,b,c){var d=Math.ceil(c/2);return{offset:a+d,size:Math.max(b-a+c-2*d,0)}};var gz=function(a,b){var c=new z.Ge;if(a.nb){var d=a.Tc(),f=a.md(),f=b==d&&d==f?0:(b-d)/(f-d);"vertical"==a.Yb?(d=a.m().clientHeight-a.nb.offsetHeight,f=Math.round(f*d),c.x=iz(a,a.nb),c.y=d-f):(c.x=Math.round(f*(a.m().clientWidth-a.nb.offsetWidth)),c.y=a.nb.offsetTop)}return c};
var jz=function(a,b){b=Ko(b,a.Tc(),a.md());a.Ip&&(a.Co.stop(!0),a.Co.dispose());var c=new cx,d,f=ez(a,b),g=a.Y(),h=a.Mi(),k=az(a,f),l=gz(a,k);d=a.Wo();Math.abs(b-k)<d&&(b=Ko(k+(b>k?d:-d),a.Tc(),a.md()));dz(a,f,b);k=gz(a,az(a,f));d="vertical"==a.Yb?[iz(a,f),k.y]:[k.x,f.offsetTop];l=new Oq(f,[l.x,l.y],d,100);l.rh(a.ue);c.add(l);a.ec&&kz(a,f,g,h,k,c);a.EE&&(f=a.EE.g0(g,b,100),z.A(f,function(a){c.add(a)}));a.Co=c;a.o().g(c,"end",a.JQ);a.Ip=!0;c.play(!1)};
var kz=function(a,b,c,d,f,g){var h=gz(a,c),k=gz(a,c+d);c=h;d=k;b==a.nb?c=f:d=f;"vertical"==a.Yb?(b=hz(k.y,h.y,a.nb.offsetHeight),h=hz(d.y,c.y,a.nb.offsetHeight),f=new Oq(a.ec,[iz(a,a.ec),b.offset],[iz(a,a.ec),h.offset],100),b=new Rq(a.ec,b.size,h.size,100)):(b=hz(h.x,k.x,a.nb.offsetWidth),h=hz(c.x,d.x,a.nb.offsetWidth),f=new Oq(a.ec,[b.offset,a.ec.offsetTop],[h.offset,a.ec.offsetTop],100),b=new Qq(a.ec,b.size,h.size,100));f.rh(a.ue);b.rh(a.ue);g.add(f);g.add(b)};
var lz=function(a){var b=a.m();b&&(z.vg(b,"valuemin",a.Tc()),z.vg(b,"valuemax",a.md()),z.vg(b,"valuenow",a.Y()),z.vg(b,"valuetext",a.jU(a.Y())||""))};var Yy=function(a,b){b?(a.Ik||(a.Ik=new Ry(a.m())),a.o().g(a.Ik,"mousewheel",a.BH)):a.o().pa(a.Ik,"mousewheel",a.BH)};var iz=function(a,b){return a.ue?z.lh(b):b.offsetLeft};var mz=function(a,b){Wy.call(this,a,b);this.Lb.Gv(0)};var nz=function(a){z.Q.call(this);this.options=window.$.extend({},this.defaults,a)};
var oz=function(a,b){a.zoom=b;pz(a,a.gf.Ar/2+a.gf.x,a.gf.Zo/2+a.gf.y)};var pz=function(a,b,c){var d=a.zoom;a.gf={Ar:a.options.hg/d,Zo:a.options.gg/d,x:b-a.options.hg/d/2,y:c-a.options.gg/d/2};qz(a)};var qz=function(a){var b=a.zoom,c=Ko(a.options.Mn-a.gf.x*b,a.options.hg+a.options.Mn-a.Tt*b,a.options.Mn),d=Ko(a.options.Nn-a.gf.y*b,a.options.gg+a.options.Nn-a.St*b,a.options.Nn),f={width:b*a.Tt,height:b*a.St,left:c,top:d};a.Hr.css(f);a.Cw.css(f);a.gf.x=(a.options.Mn-c)/b;a.gf.y=(a.options.Nn-d)/b};
z.rz=function(a,b,c,d){d=void 0===d?{}:d;z.Q.call(this);this.ks=a||sz;this.FG=b;this.jL=c||"l";this.J=d};var tz=function(){return!!window.FileReader};
var uz=function(a){a.Fm=a.Zz=a.qk="";if(a.dialog)a.dialog.ga();else{a.dialog=new z.R(null);a.dialog.Ea("淇敼鍥剧墖");var b=z.ym.rf,c=z.ym.gh,d=new z.Uh;d.set(b,"鍙栨秷",!1,!0).set(c,"纭畾",!0);z.Rh(a.dialog,d);a.o().g(a.dialog,z.Th,function(a){if(a.key===c){if(tz()){var b=this.dy;a=(0,window.$)("\x3ccanvas\x3e\x3c/canvas\x3e");a.attr("width",b.options.hg);a.attr("height",b.options.gg);var d=a[0];(0,window.$)(window.document.body).append(d);var k=a[0].getContext("2d"),l=b.gf;k.drawImage(b.Ut,l.x,l.y,l.Ar,l.Zo,
0,0,b.options.hg,b.options.gg);b=d.toDataURL("image/png");a.remove();a=b}else a=this.dy.gf;this.qk=a;vz(this);this.dialog.F(!1);return!1}})}wz(a.dialog.S());a.dialog.F(!0);z.S.add(a.dialog.h,"avatar-edit-dialog");a.J.iG&&z.S.add(a.dialog.h,a.J.iG)};var xz=function(a){var b=a.input.cloneNode();z.Bo(b,a.input);a.input=b;a.o().g(a.input,"change",a.Vc)};
var vz=function(a){if(a.qk&&(tz()||a.Zz)){a.dispatchEvent("beforepost");var b={type:a.ks,dest_id:a.ks===sz?z.Y[3]:a.FG,return_size:a.jL};if(tz()){var c=new window.FormData;c.append("handle_mode","upload");c.append("picture",yz(a.qk.replace(/data\:image\/\w{3,4};base64,/,"")),a.file.name);window.$.each(b,function(a,b){c.append(a,b)});window.$.ajax({url:a.BD,data:c,method:"post",processData:!1,contentType:!1,success:window.$.proxy(a.QF,a),dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0})}else{var b=
window.$.extend(b,{handle_mode:"resize",x:Math.round(a.qk.x),y:Math.round(a.qk.y),height:Math.round(a.qk.Zo),width:Math.round(a.qk.Ar),hashval:a.Zz}),d='\x3cform target\x3d"av_up_frame" style\x3d"display:none;" method\x3d"post" action\x3d"'+a.BD+'"\x3e';window.$.each(b,function(a,b){d+='\x3cinput type\x3d"hidden" name\x3d"'+a+'" value\x3d"'+b+'" /\x3e'});d+="\x3c/form\x3e";b=(0,window.$)(d);b.appendTo(a.h);b[0].submit()}}};
var wz=function(a){var b=(0,window.$)("\x3cdiv class\x3d'new-avatar-editor-loading'\x3e\x3cdiv\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv\x3e姝ｅ湪涓婁紶...\x3c/div\x3e\x3c/div\x3e");a=(0,window.$)(a);a.html("");a.append(b)};var yz=function(a){var b,c;c="image/png";b=b||512;a=(0,window.atob)(a);for(var d=[],f=0;f<a.length;f+=b){for(var g=a.slice(f,f+b),h=Array(g.length),k=0;k<g.length;k++)h[k]=g.charCodeAt(k);g=new window.Uint8Array(h);d.push(g)}return new window.Blob(d,{type:c})};
z.zz=function(a){z.Q.call(this);this.xW=Object.assign({QI:!1,Vf:window.$.noop},a)};z.Az=function(a){a=void 0===a?{}:a;"post"===a.type&&(a.type="article");this.options=a;this.submit=z.Ir(this.submit.bind(this),[!0,{activated:!1}]);this.render=z.Ir(this.render.bind(this),[!0,{activated:!1}])};
var Bz=function(a){if(a){var b=z.T({title:"涓炬姤鎴愬姛",content:'\x3cp\x3e鎮ㄧ殑涓炬姤姝ｅ湪绛夊緟浜哄伐瀹℃牳锛屾垜浠細鍦� 24 灏忔椂鍐呭鏍稿畬鎴怽x3cbr\x3e澶勭悊瀹屾垚鍚庝細銆岀淇°€嶉€氱煡鎮╘x3cbr\x3e鎮ㄤ篃鍙互杩涘叆 \x3ca href\x3d"/community/report"\x3e绀惧尯鏈嶅姟涓績\x3c/a\x3e 鏌ョ湅瀹炴椂澶勭悊杩涘害\x3c/p\x3e\x3cp style\x3d"margin-top: 1em"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" name\x3d"neverRemind"\x3e涓嶅啀鎻愰啋\x3c/label\x3e\x3c/p\x3e',modal:!0,ga:!0,buttons:{yes:"鐭ラ亾浜�"}});b.g(z.Sj,function(){b.We().querySelector("[name\x3dneverRemind]").checked&&window.$.post("/community/report/noti",{cancel:!0})})}else{var c=
z.T({title:"涓炬姤鎴愬姛",content:"鎮ㄧ殑涓炬姤姝ｅ湪绛夊緟浜哄伐瀹℃牳锛屾垜浠細鍦� 24 灏忔椂鍐呭鏍稿畬鎴�",modal:!0,buttons:{}});(0,window.setTimeout)(function(){return c.F(!1)},4E3)}};var Cz=function(){};var Dz=function(a,b,c){Kp.call(this,a,c||Cz.ba(),b);this.fc(1,!1);this.fc(2,!1);this.fc(4,!1);this.fc(32,!1);this.N=1};var Ez=function(){this.Ox=[]};var Fz=function(a,b){var c=a.Ox[b];if(!c){switch(b){case 0:c=a.V()+"-highlight";break;case 1:c=a.V()+"-checkbox";break;case 2:c=a.V()+"-content"}a.Ox[b]=c}return c};
var Gz=function(a,b,c){a=Fz(a,2);return c.B("DIV",a,b)};var Hz=function(a,b){var c=a.S(b);if(c){var c=c.firstChild,d=Fz(a,1);return!!c&&z.lf(c)&&z.zg(c,d)}return!1};var Iz=function(a,b,c,d){Cp(a,c,b.Qi());Dp(a,b,c);d!=Hz(a,c)&&(z.po(c,"goog-option",d),c=a.S(c),d?(a=Fz(a,1),c.insertBefore(b.L().B("DIV",a),c.firstChild||null)):c.removeChild(c.firstChild))};z.Jz=function(a,b,c,d){Kp.call(this,a,d||Ez.ba(),c);this.Fa(b)};var Kz=function(){};
z.Lz=function(a,b){Kp.call(this,null,a||Kz.ba(),b);this.fc(1,!1);this.fc(2,!1);this.fc(4,!1);this.fc(32,!1);this.N=1};var Mz=function(a){this.nx=a||"menu"};z.Nz=function(a){z.Lz.call(this,Kz.ba(),a)};z.Oz=function(a,b){z.Pr.call(this,Pz,b||Mz.ba(),a);this.lf(!1)};z.Qz=function(){z.H.call(this);this.ua=null;this.ib=0;this.SA=[];this.yu=[];this.pD="鏈€澶氳緭鍏� 20 瀛�";this.sy="鏈€澶氳緭鍏� 256 瀛�"};
var Rz=function(a,b,c){a.ua||(a.ua=new z.R(null),z.Rh(a.ua,null),a.ua.Ea(b||""),c&&(a.ua.S().innerHTML=c),a.o().g(a.ua,"afterhide",a.Fi))};
var Sz=function(a,b,c){var d=z.J("zh-fav-list-item-place-holder");d&&z.P(d,!1);a.$B=b[5]?"":z.M("span","zm-fav-list-item-lock",[z.M("i","icon icon-lock")]);d=z.M("span","zm-favo-list-item-title");z.of(d,b[1]);d=z.M("a",{"class":"zg-r5px zm-favo-list-item-link",href:"javascript:;"},[a.$B,d,z.M("span",{className:"meta zg-gray",innerHTML:'\x3cspan class\x3d"num"\x3e'+b[3]+'\x3c/span\x3e 鏉″唴瀹� \x3cspan class\x3d"zg-bull"\x3e鈥x3c/span\x3e '+b[4]+" 浜哄叧娉�"})]);a.$B&&a.$B.setAttribute("data-tooltip","s$t$绉佸瘑鏀惰棌澶�");
d.setAttribute("data-lid",b[0]);d.setAttribute("data-is-public",b[5]);z.rb(a.yu,b[0])&&z.S.add(d,"zm-favo-list-item-link-active");b=z.L("zm-favo-list-item-link",a.Jh);c&&b?z.cf(d,b):a.Jh.appendChild(d)};var Tz=function(a,b){if(a.ib!==b&&a.Jh){var c=z.Co("zm-favo-list-item-link",a.Jh);z.A(c,function(a){z.S.remove(a,"zm-favo-list-item-link-active")},a)}a.ib=b};var Uz=function(a,b){z.P(a.fX,b);z.P(a.aX,b);z.P(a.iU,b)};
z.Vz=function(a,b,c,d){var f=z.J("zh-fav-head-title"),g=z.J("zh-fav-head-description-source");b=b||(f?z.qf(f):"");c=c||(g?z.qf(g):"");a.iy=d||z.Jk;Wz(a);a.jc();Xz(a,1);z.P(a.$C,!1);a.xs.innerHTML="鍙栨秷";a.Ww.innerHTML="淇濆瓨";a.ua.Ea("缂栬緫鏀惰棌澶�");a.Xi.value=co(b);a.Ck.value=co(c);a.iy[1]?a.iy[3]?Uz(a,!1):(Uz(a,!0),a.CA.checked=!0):(Uz(a,!0),a.JI.checked=!0);a.yT=Yz(a);a.ua.F(!0);a.Jm=!0};
var Zz=function(a){var b=z.Co("zm-favo-list-item-link",a.Jh);z.A(b,function(a){var b=a.getAttribute("data-lid");z.S.remove(a,"zm-favo-list-item-link-active");z.rb(this.yu,+b)&&z.S.add(a,"zm-favo-list-item-link-active")},a)};var Wz=function(a){a.wQ?Zz(a):a.B()};
var Xz=function(a,b){var c=!!b;a.ua.Ea(0===b?"娣诲姞鍒版敹钘忓す":"鍒涘缓鏂版敹钘忓す");z.P(a.rU,!c);z.P(a.dz,c);(0,window.$)(a.Hy).text("").hide();new z.Wj(a.Xi,a.pD);new z.Wj(a.Ck,a.sy);if(1===b)(0,window.$)(a.dz).on("change.FavoDiag","input, textarea, select",function(){a.sh()});else(0,window.$)(a.dz).off("change.FavoDiag"),a.Fi()};var Yz=function(a){var b=new z.nr,c=z.ar(a.Xi.value),d=z.Ma(a.Ck.value===a.sy?"":a.Ck.value);d||(d=-1);b.add("title",c);b.add("description",d);b.add("is_public",a.CA.checked?1:0);return b};
var $z=function(a){a.ua.F(!1);a.dispatchEvent(aA);z.U.Ab({type:"ga_click_collect_answer",data:{count:(0,window.$)(".zm-favo-list-item-link-active",a.Jh).length}})};var bA=function(a,b,c,d){(0,window.$)(c).addClass("btn-pending").text(d?"淇濆瓨涓�":"鍒涘缓涓�");a.o().ta(b,"complete",function(){(0,window.$)(c).removeClass("btn-pending").text(d?"淇濆瓨":"纭鍒涘缓")})};var cA=function(a,b,c){c=c||(b?"淇濆瓨澶辫触锛岃閲嶈瘯":"鍒涘缓澶辫触锛岃閲嶈瘯");(0,window.$)(a).text(c).show()};
var dA=function(a,b){z.ti({category:"collect",action:a,label:-1<window.location.pathname.indexOf("collection")?"collections_sidebar_create_collection":"collect_answer_box",attributes:b})};z.eA=function(){this.az=["zg-btn-follow","zg-btn-unfollow"];this.bz="people"};z.fA=function(a,b,c,d){z.rx.call(this,a,b);this.Sp=c?5:0;this.IB=d||void 0};var gA=function(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};var hA=function(a,b,c,d){z.fA.call(this,a,b,c||d);(c||d)&&this.nn(65|(d?32:132))};var iA=function(){};
var jA=function(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var f=c.nodeValue;if(""==(0,z.ab)(f))a.removeChild(c);else{c.nodeValue=b?z.Xo(f):z.Wo(f);break}}else break;c=d}};var kA=function(){};var lA=function(a,b,c){return c.B("DIV","goog-inline-block "+(b+"-caption"),a)};
z.mA=function(a,b,c,d,f){z.Rp.call(this,a,c||kA.ba(),d);this.fc(64,!0);this.Gk=new hA(null,5);b&&this.$h(b);this.vJ=null;this.la=new z.td(500);!z.Zk&&!z.ai||z.E("533.17.9")||(this.hu=!0);this.LU=f||Mz.ba()};var nA=function(a){a.vJ=new z.Gg(7,0,7,0)};z.oA=function(a){a.Gk.nn&&a.Gk.nn(33)};
var pA=function(a){if(a.ha.Aa){var b=a.Gk;a.Gk.element=a.RW||a.m();var c=a.ha.m();a.ha.W()||(c.style.visibility="hidden",z.P(c,!0));!a.bv&&a.Gk.Uo&&a.Gk.Uo()&32&&(a.bv=z.Yg(c));b.ga(c,b.xf^1,a.vJ,a.bv);a.ha.W()||(z.P(c,!1),c.style.visibility="visible")}};var qA=function(a,b,c){var d=a.o();c=c?d.g:d.pa;c.call(d,b,"action",a.fp);c.call(d,b,"close",a.yz);c.call(d,b,"highlight",a.Fz);c.call(d,b,"unhighlight",a.Pz)};var rA=function(a,b){var c=a.o();(b?c.g:c.pa).call(c,a.m(),"keydown",a.kS)};
var sA=function(a,b){var c=a.m(),d=z.xg(b,"activedescendant"),d=z.Ke(b).getElementById(d)||b;if(!d.id){var f=z.uh.ba();d.id=z.vh(f)}so(c,d);z.vg(c,"owns",d.id)};var tA=function(a,b){this.Di=a instanceof z.Ge?a:new z.Ge(a,b)};var uA=function(a,b){tA.call(this,a,b)};z.vA=function(a,b){z.Oz.call(this,a,b);this.ao=!0;this.lf(!0);this.F(!1,!0);this.cg=new z.Qd};
z.wA=function(a,b,c,d,f){var g=a.W();a.FI()&&a.gZ?a.hide():(a.pg=f||null,a.dispatchEvent("beforeshow")&&(c="undefined"!=typeof c?c:4,g||(a.m().style.visibility="hidden"),z.P(a.m(),!0),b.ga(a.m(),c,d),g||(a.m().style.visibility="visible"),a.Hb(-1),a.F(!0)))};var xA=function(a,b){for(var c=a.cg.Fd(),d=0;d<c.length;d++){var f=a.cg.get(c[d]);if(f.h==b.currentTarget){a.JL(f,b.clientX,b.clientY);b.preventDefault();b.stopPropagation();break}}};var yA=function(){this.Ox=[]};
var zA=function(a,b,c){var d=b.L().B("SPAN");d.className="goog-submenu-arrow";AA(b,d);a.S(c).appendChild(d)};var AA=function(a,b){a.Ld()?(z.Ag(b,"goog-submenu-arrow-rtl"),z.of(b,a.$r?"鈼�":"鈻�")):(z.Cg(b,"goog-submenu-arrow-rtl"),z.of(b,a.$r?"鈻�":"鈼�"))};var BA=function(a,b,c,d){z.Jz.call(this,a,b,c,d||yA.ba())};var CA=function(a){a.pe&&z.wd(a.pe);a.OC&&z.wd(a.OC)};var DA=function(a){z.Ch(a.getParent(),function(a){a!=this&&"function"==typeof a.oh&&(a.oh(),CA(a))},a)};
var EA=function(a,b){!b&&a.jb()&&a.jb().Hb(-1);a.dispatchEvent(eo(64,b));var c=a.jb();b!=a.dB&&z.po(a.m(),"goog-submenu-open",b);if(b!=c.W()&&(b&&(c.Aa||c.render(),c.Hb(-1)),c.F(b),b)){var c=new z.fA(a.m(),a.$r?6:4,a.YT),d=a.jb(),f=d.m();d.W()||(f.style.visibility="hidden",z.P(f,!0));c.ga(f,a.$r?4:6);d.W()||(z.P(f,!1),f.style.visibility="visible")}a.dB=b};var FA=function(a,b,c){var d=a.o();(c?d.g:d.pa).call(d,b,"enter",a.oV)};z.GA=function(a,b,c){z.Jz.call(this,a,b,c);this.Sq(!0)};
var HA=function(a){z.Q.call(this);this.ri=a;this.Rl=null;this.NF=[];this.RB=[]};var IA=function(a,b,c){["1","2","0"].forEach(function(d){var f=new z.GA(JA[d]);f.Fa(d);f.yc(Number(d)===c);a.NF.push(f);b.Ja(f)})};var KA=function(a,b){z.Db(LA,function(a,d){var f=new z.GA(a);f.Fa(d);f.yc(d===this.Rl);this.RB.push(f);b.Ja(f)},a)};var MA=function(a){z.T.confirm("浣犵‘瀹氳鍒犻櫎鑷繁鐨勭瓟妗堝悧锛�","绛旀鍐呭涓嶄細琚案涔呭垹闄わ紝浣犺繕鍙互鎾ゆ秷鏈鍒犻櫎鎿嶄綔銆�",function(b){b&&window.$.post("/answer/remove",{aid:a.ri.Bb}).then(function(){return a.ri.mk()})})};
var NA=function(a){a.RB.forEach(function(b){b.yc(b.Y()===a.Rl)})};var OA=function(a,b){window.$.post("/answer/comment_permission",{answer_id:a.ri.Bb,permission:b}).then(function(c){c&&!c.r&&(a.Rl=b,NA(a),a.dispatchEvent(PA))})};var QA=function(a){var b=null;try{b=a.cssRules||a.rules}catch(c){if(15==c.code)throw c.styleSheet=a,c;}return b};
var RA=function(a){var b=[];a=a||window.document.styleSheets;var c=z.ja(void 0)?void 0:!1;if(a.imports&&a.imports.length)for(var d=0,f=a.imports.length;d<f;d++)z.wb(b,RA(a.imports[d]));else if(a.length)for(d=0,f=a.length;d<f;d++)z.wb(b,RA(a[d]));else{var g=QA(a);if(g&&g.length)for(var d=0,f=g.length,h;d<f;d++)h=g[d],h.styleSheet&&z.wb(b,RA(h.styleSheet))}!(a.type||a.rules||a.cssRules)||a.disabled&&!c||b.push(a);return b};var SA=function(){this.Ho="";this.Yh=[]};
var TA=function(a,b,c){var d=[],f;for(f in b){var g=b[f];g&&d.push(f,":",g,c?" !important":"",";")}a.Ho=d.join("")};var UA=function(a){this.hx={};if(a){var b=[];a=a.split(/\s+/gm);for(var c=0;c<a.length;c++)if(a[c]){var d=new VA(a[c]);b.push(d)}this.aj=b}};
var VA=function(a){var b=WA[a];if(b)return b;for(var b=a.match(/[#\.]/)?a.split(/(?=[#\.])/):[a],c={},d=0;d<b.length;d++){var f=b[d];"."==f.charAt(0)?c.className=f.substring(1,f.length):"#"==f.charAt(0)?c.id=f.substring(1,f.length):c.tagName=f.toUpperCase()}this.rI=a;this.GU=c;this.bM={};WA[a]=this};
var XA=function(a,b){var c=b.uid,d=a.bM[c];if("undefined"!=typeof d)return d;var f=a.GU,d=f.tagName,g=f.className,f=f.id,h=!0;d&&"*"!=d&&d!=b.nodeName?h=!1:f&&f!=b.id?h=!1:g&&!b.BP[g]&&(h=!1);return a.bM[c]=h};var YA=function(a){var b=z.ta(a),c=ZA[b];if(c)return c;c=[];do{var d={id:a.id,nodeName:a.nodeName};d.uid=z.ta(d);var f={};if(a.className)for(var g=z.yg(a),h=0;h<g.length;h++)f[g[h]]=1;d.BP=f;c.unshift(d)}while(a=a.parentNode);this.NJ=c;this.uid=z.ta(this);ZA[b]=this};
z.$A=function(){z.H.call(this);this.rc=this.Vr()};z.aB=function(a){return a.G&&a.G.qb};var bB=function(a){return a.G&&z.Gc?(a=a.G.qb.eb(),a.scrollTo.bind(a,a.scrollX,a.scrollY)):function(){}};var cB=function(a,b,c,d,f){this.MG=a;this.VC=b;this.ps=c;this.QG=d;this.Ry=f||{}};var dB=function(a,b){this.TZ=a;this.RF=b};
var eB=function(a,b,c,d){var f=[];a.ps&&a.VC&&f.push("\x3c!DOCTYPE HTML\x3e");f.push('\x3chtml style\x3d"background:none transparent;min-width:0;');a.ps&&f.push("height:",a.QG?"100%":"auto");f.push('"\x3e');f.push("\x3chead\x3e\x3cstyle\x3e");c&&c.RF&&f.push(c.RF);z.B&&a.VC&&f.push(" img {-moz-force-broken-image-icon: 1;}");f.push("\x3c/style\x3e\x3c/head\x3e");f.push('\x3cbody g_editable\x3d"true" hidefocus\x3d"true" ');z.fB&&f.push("contentEditable ");f.push('class\x3d"editable ');f.push('" id\x3d"',
a.MG,'" style\x3d"min-width:0;');z.B&&a.ps&&(f.push(";width:100%;border:0;margin:0;background:none transparent;",";height:",a.VC?"100%":"auto"),a.QG?f.push(";overflow:auto"):f.push(";overflow-y:hidden;overflow-x:auto"));z.Lg&&f.push(";outline:hidden");for(var g in a.Ry)f.push(";"+g+":"+a.Ry[g]);f.push('"\x3e',b,"\x3c/body\x3e\x3c/html\x3e");a=f.join("");d=d.contentDocument||d.contentWindow.document;d.open();d.write(a);d.close()};
var gB=function(a,b){z.H.call(this);this.Ah=this.id=a;this.qb=null;this.dc={};this.uk={};for(var c in z.hB)this.uk[c]=[];this.Ul="";this.fl={};this.fl[iB]=1;this.fl[z.jB]=1;this.Rs=new uq(this.oG,kB,this);this.Ps={};for(var d in lB)this.Ps[lB[d]]=0;z.B&&(this.Se=new uq(this.jk,mB,this));this.sc=new z.xd(this);this.UZ=[];this.Om=z.nB;this.Ym=z.Ie(b||window.document);this.Wc=this.Ym.m(this.id);this.ZQ=oB;this.Cl=this.Ym.eb()};
var pB=function(a){var b=!(a.ctrlKey||a.metaKey)&&a.keyCode in qB;return(a.ctrlKey||a.metaKey)&&a.keyCode in rB||b};var sB=function(a,b){a.Om=2;a.La=b;a.qb=z.Ie(b);b.setAttribute("g_editable","true");z.ug(b,"textbox")};
var tB=function(a,b){if(9==b.keyCode&&!a.dispatchEvent({type:"beforetab",shiftKey:b.shiftKey,altKey:b.altKey,ctrlKey:b.ctrlKey})||z.B&&b.metaKey&&!z.E(29)&&(37==b.keyCode||39==b.keyCode))return b.preventDefault(),!1;var c;(c=b.charCode)||(c=pB(b)?!0:!(!z.B||b.ctrlKey||b.metaKey||z.B&&!b.charCode));a.uz=c;a.uz&&a.Gi();return!0};var uB=function(a,b,c){var d={};a=a.pv(8,b||"",d);z.Ig(c,d);z.Pu(c,a)};
var vB=function(a,b){!wB(a,"selectionchange")&&(xB[b.keyCode]||(b.ctrlKey||b.metaKey)&&yB[b.keyCode])&&(a.dispatchEvent("beforeselectionchange"),a.vL.start())};var zB=function(a,b){if(!b.altKey){var c=z.Uc?b.metaKey:b.ctrlKey;if(c||AB[b.keyCode]){var d=b.charCode||b.keyCode;17!=d&&(d=String.fromCharCode(d).toLowerCase(),z.Uc&&z.B&&"`"==d&&" "==b.tc.key&&(d=" "),a.Gp(5,b,d,c)&&b.preventDefault())}}};var BB=function(a){var b;return a.Bc()&&(b=a.qb)?(a=b.eb())&&a.frameElement:null};
z.CB=function(a){return(a=a.qb&&a.qb.eb())&&z.zu(a)};z.DB=function(a,b,c){if(!wB(a,"selectionchange")){var d=z.CB(a),d=d&&d.bc();a.Qf=!!d&&z.nf(a.m(),d);a.dispatchEvent("cvc");a.dispatchEvent({type:"selectionchange",C0:b&&b.type});a.Gp(4,b,c)}};z.EB=function(a,b,c){b&&(a.Se&&vq(a.Se),a.fl[iB]=1);c&&(z.FB(a),a.fl[z.jB]=1)};var GB=function(a,b,c){!b&&a.Se&&vq(a.Se);a.fl[iB]=0;a.fl[z.jB]=0;b&&a.jk();c&&a.oG()};var wB=function(a,b){return!!a.fl[b]||a.Ps[b]&&500>=(0,z.I)()-a.Ps[b]};
z.FB=function(a){a.Se&&vq(a.Se);vq(a.Rs)};var HB=function(a){z.vf(a.target,"A")&&a.preventDefault()};z.IB=function(a){var b=a.m();if(b){var c=z.Hu(b);b==c?z.Du(b,0).select():z.Uu(c,!0);z.DB(a)}};var JB=function(a){if(!z.ja(a.zA)&&(a.zA=!1,z.C&&a.Bc())){for(var b=a.Ym.eb();b!=b.parent;)try{b=b.parent}catch(c){break}b=b.location;a.zA="https:"==b.protocol&&-1==b.search.indexOf("nocheckhttps")}return a.zA};z.KB=function(a,b){gB.call(this,a,b)};
var LB=function(a){if(a.ar?0:a.ar=!0){var b=BB(a),c=a.m(),d=!1;if(b&&c){var f,g=b.parentNode,h=g.offsetWidth;(0,window.parseInt)(lo(b,"width"),10)!=h&&(f=z.fh(c),b.style.width=h+"px",c.style.width=h-f.left-f.right+"px",d=!0);g=g.offsetHeight;a.Mp()&&(0,window.parseInt)(lo(b,"height"),10)!=g&&(f||(f=z.fh(c)),b.style.height=g+"px",c.style.height=g-f.top-f.bottom+"px",d=!0)}a.ar=!1;d&&a.dispatchEvent("ifrsz")}};var MB=function(a){a.m()&&(LB(a),a.Mp()||a.SC())};
z.NB=function(a,b){var c=a.split("!");this.type=c[0]+"!";this.namespace=c[1];this.Oc=new OB(b)};var OB=function(a){this.category=a.category;this.action=a.action;this.label=a.label;this.value=a.value};var PB=function(){z.H.call(this)};z.QB=function(){z.H.call(this)};var RB=function(a,b,c){window.$.post(a,b).done(function(a){if(a.r)z.T.message(a.msg);else{var b=a.msg;(b=b&&b.redirect)?window.location.href=b:(z.T.message("鎿嶄綔鎴愬姛锛�"),c&&c(a))}})};
var SB=function(a,b){var c=window.$.extend({action:"get_member_info",reason:b.value},a.LQ);return window.$.post("/manage",c).then(function(a){return z.Ja("鐢ㄦ埛宸茶璀﹀憡 %s 娆★紝绂佽█ %s 娆�",a.warn_num,a.ban_num)})};var TB=function(a){z.Q.call(this);z.Mb(this.J={},this.defaults,a||{});this.Vn=new z.Qd;this.Pe=null};
var UB=function(a,b){var c=a.J,d=new z.Kx(c.trigger,!1,null,b);d.$q=c.yY;d.lp=c.fT;d.Zh(a.Hj);z.G(d,"trigger",function(a){d.setPosition(new z.rx(a.anchor,1))});z.G(d,"beforeshow",function(a){this.Pe=a.target.anchor;this.render()},!1,a);d.className=c.iO;a.jT=d};var VB=function(a,b){var c=a.J.eU,d=z.gf(a.Hj),f=z.pb(d,function(a){return a.getAttribute("data-action")===b});if(!f||z.S.has(f,c))return!1;z.A(d,function(a){z.S.remove(a,c)});z.S.add(f,c);return!0};
var WB=function(a,b,c,d){a.Vn.set(b,{name:b,na:c,xi:d||z.r})};z.XB=function(a){z.Q.call(this);z.Mb(this.J={},this.defaults,a||{})};var YB=function(a){var b=a.J,c=a.h;ZB(c);b=$B(c,b.PH);b.length&&(a.dispatchEvent("willScrape"),window.$.when.apply(window.$,b).always(function(){a.dispatchEvent("didScrape")}))};var aC=function(a,b,c){for(;a&&a!==b;){if(c(a))return a;a=a.parentNode}};var bC=function(a,b){return aC(a,b,function(a){return cC(a)||"CODE"===a.nodeName||"PRE"===a.nodeName})};
var cC=function(a){return"A"===a.nodeName};var ZB=function(a){var b=z.vo(a,function(b){return 3===b.nodeType&&!bC(b,a)}),c,d=z.zu(),f=d&&z.It(d);z.A(b,function(a){var b=a.nodeValue,d=dC(b);d!==b&&(b=z.Ye(d),f===a&&(c=b.lastChild),z.Bo(b,a))});c&&z.Uu(c)};
var $B=function(a,b){var c=z.lb(a.getElementsByTagName("A"),function(a){var b=a.getAttribute("href");if(b=!(!b||"#"===b)&&!a.getAttribute("data-editable")&&z.rb(eC,a.protocol))b=z.qf(a),z.Ia(a.href,b)?a=void 0:(a.setAttribute("data-editable",!0),a.setAttribute("data-title",b),a=!0),b=!a;return b});return z.mb(c,function(c){return fC(c.href).done(function(f){gC(a,c,f,b)})})};
var gC=function(a,b,c,d){if(c&&a.contains(b)){d=d||{};var f=function(a,b,c){var d=z.zu();if(d){var f=d.aa(),q=d.ya(),v=d.ka(),F=d.Sa();z.nf(b,f)&&(f=a,q=0);z.nf(b,v)&&(v=a,F=0);c(function(){f===a&&v===a?z.Uu(a):z.ku(f,q,v,F).select()})}else c(z.r)};a={link:function(a,b){a.setAttribute("data-editable",!0);b.title===a.href?a.setAttribute("data-title",hC(a.hostname)):(a.setAttribute("data-title",b.title),f(a,a,function(c){z.of(a,b.title);c()}))},image:function(a,b){var c=window.document.createElement("img");
c.src=b.src;c.setAttribute("data-rawwidth",b.width);c.setAttribute("data-rawheight",b.height);f(c,a,function(b){z.Bo(c,a);b()})}};(d=d[c.type]||a[c.type])&&d(b,c)}};var hC=function(a){var b=/(.com|.edu|.gov|.net|.org)$/.test(a)?-2:-3;return a.split(".").slice(b).join(".").replace(/^www\./,"")+" 鐨勯〉闈�"};var dC=function(a){return a.replace(iC,function(a){z.Ia(a,"http")||(a="http://"+a);return a.link(a)})};
var jC=function(a){var b=new TB({});WB(b,"link","閾炬帴",function(a){z.of(a,a.href)});WB(b,"text","鏂囨湰",function(a){z.of(a,a.getAttribute("data-title"))});b.w(a);var c=b.mz();z.ux(c,new z.Gg(2,0,0,0));z.Ix(c,new z.Gg(2,0,0,0));var d=b.o();d.g(c,"beforeshow",function(a){a=a.target.anchor;var c=z.qf(a);c===a.href?VB(b,"link"):(c!==a.getAttribute("data-title")&&a.setAttribute("data-title",c),VB(b,"text"))}).g(c,"beforehide",function(b){if((b=b.target)&&a.contains(b)&&cC(b))return!1});var f;d.g(c,"show",function(a){f=
a.target.anchor;z.S.add(f,"hover")}).g(c,"hide",function(){f&&(z.S.remove(f,"hover"),f=null)});return b};
z.kC=function(a,b,c){z.Q.call(this);this.id=a;this.type=b;this.La=null;this.th=this.ev=!1;this.xc="鍐欎笅浣犵殑璇勮鈥�";this.placeholder='\x3cp style\x3d"color:#999"\x3e'+this.xc+"\x3c/p\x3e";this.Bk="";this.Pa=-1;this.VA=window.$.Deferred().resolve();this.XB=this.Bu=null;this.xF="zm-comment-box";this.yd=null;a=lC[b];if(!a)throw Error("API not found");this.sf=window.$.extend({},lC._default_,a);this.Oj="";z.Mb(this.J={},this.defaults,c||{})};var mC=function(a){return z.Ir(a,!0,function(){return this.Oj})};
var nC=function(a,b,c){if(!z.lf(a)||"TEXTAREA"===a.nodeName)return function(){};var d=new z.XB({PH:{image:z.r}});d.w(a);b=(new z.uj).add("type",b+"_comment").add("resource_id",c);var f=new wv(a,{Tn:{source:"/people/autocomplete?"+b.toString()},Sk:z.L("zu-main")||window.document.body});new pv(a,{oC:Gv});return function(){d.dispose();f.dispose()}};z.oC=function(a,b,c){var d=z.L(a.xF,b);c&&(a.yd=c);d?a.w(d):(a.ev=!0,a.render(b))};
var pC=function(a){z.Db({IE:".load-more",vo:".zm-comment-list",FF:".zm-comment-form",La:".zm-comment-editable"},function(a,c){this[c]=(0,window.$)(a,this.h)[0]},a)};
var qC=function(a){a.La&&a.La.setAttribute("aria-label",a.xc);if(z.Gm){var b=a.La;b.setAttribute("contentEditable",!0);var c=a.Vj={m:function(){return b},mm:function(){return tr(b)?"":b.innerHTML},ge:function(a,c){b.innerHTML=c},vg:function(){z.Tu(b)}};z.Bc(a,nC(c.m(),a.type,a.id))}else rC(a);a.o().g(a.La,["change","keyup"],function(a){27!==a.keyCode&&(z.Lu(this.La)?this.Bk="":this.Bk=this.cb())}).g(a.Vj.m(),"focus",function(){this.sa({action:"click_add_[type]_comment_box"})});sC(a)};
var rC=function(a){var b=z.M("textarea",{placeholder:a.xc,"class":"zm-comment-textarea"});z.Bo(b,a.La);new z.Jr(b);a.La=b;a.Vj={m:function(){return b},mm:function(){return b.value},ge:function(){b.value="";b.style.height=z.Rg(22,!0)},vg:function(){b.focus()}}};
var tC=function(a){var b=a.Vj,c=b.m();if(b.mm()!==a.placeholder){b.ge(!1,a.placeholder);var d=["click","focus","keydown"],f=function(){b.ge(!1,this.Bk||"");this.La.lastChild?z.Uu(this.La.lastChild):b.vg();z.md(c,d,f,!1,this)};z.G(c,d,f,!1,a);var g;window.getSelection?(g=window.getSelection(),g.anchorNode&&z.nf(a.La,g.anchorNode)&&g.removeAllRanges()):window.document.selection&&a.La.blur()}};var uC=function(a){a.focus();a=z.Cu(a);a.collapse();a.select()};
var vC=function(a){var b;(b=z.L("zm-comment-reply-hack"))?(b=z.Ye(z.wo(b)),z.S.Zw(b,"zm-comment-reply-hack","zm-comment-reply-hacked"),z.df(b,a)):(b="",z.Y.authed()&&(b='\x3cimg class\x3d"avatar" src\x3d"'+z.Y.Hf("is")+'"\x3e'),b=z.Ye('\x3cdiv class\x3d"zm-comment-form expanded"\x3e\x3cdiv class\x3d"zm-comment-editable-wrap"\x3e'+b+'\x3cdiv class\x3d"zm-comment-editable" aria-label\x3d"鍐欎笅浣犵殑鍥炲"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zm-command zg-clear"\x3e\x3ca href\x3d"javascript:;" class\x3d"zm-comment-submit zg-right zg-btn-blue"\x3e璇勮\x3c/a\x3e\x3ca href\x3d"javascript:;" class\x3d"zm-comment-close zm-command-cancel"\x3e鍙栨秷\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'),
a.appendChild(b));return b};var wC=function(a,b){return z.pb(xC(a),function(a){return a.getAttribute("data-id")===b})};var xC=function(a){return(0,window.$)(a.vo).children(".zm-item-comment").get()};
var yC=function(a){a.o().g(a.h,"click",a.Ya).g(a.La,"keydown",a.AV).g(z.rp,"anon_change",a.ik).g(a.Vj.m(),["click","focus"],z.Aa(a.Kv,!0)).g(a.Vj.m(),"focus",z.Aa(a.pj,"add_comment_start"));a.Pa=Number(a.h.getAttribute("data-count"));(0,window.$)(a.h).on("focusin focusout","."+a.J.Rf,function(a){(0,window.$)(this).toggleClass("focusin","focusin"===a.type)});!z.$h&&a.IE&&(a.XB=Xq().then(window.$.proxy(a.hJ,a)))};var zC=function(a){0<a.lb()?(a.Bk=a.cb(),a.Kv(!1),tC(a)):a.yd?a.collapse():a.Kv();a.Fi()};
var AC=function(a){if(a.yd){var b=(0,window.$)(a.yd);a.$(a.SE).show().css("left",b.position().left+b.width()/2)}};var BC=function(a){if("pending"!==a.VA.state()){a.Cb();a.h.innerHTML=a.yo();a.expand();var b=a.sf.ek(a.id,a.J.vU).done((0,z.t)(a.yX,a));return a.VA=b}};
var sC=function(a){z.Y.authed()?z.Y.activated||z.Y.eu||CC(a,'\x3cdiv class\x3d"activate-mask-tip-comment"\x3e涓轰簡姝ｅ父浣跨敤鐭ヤ箮鐨勬彁闂€佸洖绛斻€佽瘎璁哄拰缂栬緫鍔熻兘锛岃缁戝畾浣犵殑鎵嬫満銆俓x3c/div\x3e','\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"zg-r3px zg-btn-blue" href\x3d"javascript:;"\x3e鎴戣婵€娲籠x3c/a\x3e\x3c/div\x3e'):CC(a,'\x3cdiv class\x3d"signin-mask-tip-comment"\x3e\x3c/div\x3e',null)};
var CC=function(a,b,c){b=(0,window.$)(b);var d=(0,window.$)(c);c?((0,window.$)(".zm-command, .zm-comment-info",a.h).hide(),(0,window.$)(a.La).hide().after(d).after(b)):b.insertAfter(a.La);a=(0,z.t)(mC(z.r),a);b.on("click",a);d.on("click",a)};var DC=function(a){pC(a);qC(a);tC(a);yC(a);EC(a);AC(a)};var EC=function(a){var b=a.J,c=!a.lb();z.S.enable(a.h,b.By,c);c&&a.La&&b.autofocus&&a.No();a.dispatchEvent("change")};
var FC=function(a,b,c){if(!a.cn||"pending"!==a.cn.state()){var d;z.sa(b)&&(d=b.EX,b=b.content);b=z.La(b);var f=new z.Qd;f.set(a.type+"_id",a.id);f.set("content",b);d&&f.set("reply",d);b=a.sf.add(En(f));b.done(window.$.proxy(a.uR,a)).done(c);a.cn=b;a.Bk=a.cb();a.pj("add_comment_submit")}};
var GC=function(a,b){if(z.qm("auth_f_manage")&&"favlist"!==a.type&&!(0,window.$)(".del, .op.remove",b).length){var c=b.getAttribute("data-id");(0,window.$)("\x3ca\x3e",{href:"#",name:"admin_delcomment","class":"del zm-comment-op-link op needsfocus",html:'\x3ci class\x3d"zg-icon zg-icon-comment-del"\x3e\x3c/i\x3e鍒犻櫎',"data-op":"remove-comment","data-action":"/manage?"+window.$.param({comment_id:c,action:"remove_comment2"})}).appendTo((0,window.$)(".zm-comment-ft, .actions",b))}};
var HC=function(a,b){var c=z.to(b,a.J.Rf);(new z.QB).open(b,{id:c.getAttribute("data-id"),type:"comment"},(0,z.t)(function(){z.N(c);--this.Pa;EC(this)},a))};
var IC=function(a,b){var c=z.to(b,a.J.Rf),d=c.getAttribute("data-id"),f="浣犵‘瀹氳鍒犻櫎杩欐潯璇勮鍚楋紵",g=(0,window.$)(".zm-item-link-avatar",c).prop("href");g&&(f+='\x3cp class\x3d"js-block" style\x3d"margin-top:.2em;color:#999;visibility:hidden"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox"\x3e鍚屾椂灏嗘浜哄睆钄絓x3c/label\x3e\x3c/p\x3e',window.$.get(g+"/block",function(a){a.r||a.msg||(0,window.$)(".js-block",h.m()).css("visibility","visible")}));var h=z.T.confirm("鍒犻櫎璇勮",f,function(a){a&&(a=(0,window.$)(":checkbox",h.m()).prop("checked"),
JC(this,d,Number(a),z.Aa(z.N,c)))},a)};var KC=function(a,b,c){a.sf.remove(b).done((0,z.t)(function(){z.qa(c)&&c();--this.Pa;EC(this)},a))};var JC=function(a,b,c,d){a.sf.$O(b,c).done((0,z.t)(function(){z.qa(d)&&d();--this.Pa;EC(this)},a))};var LC=function(a,b){return a&&(b.length?LC(a[b.shift()],b):a)};z.MC=function(a,b){z.Q.call(this);this.Bb=a;this.entryType=b;this.yk=!1;this.px=!0};var NC=function(a){z.Y.authed()&&0===OC(a)&&(0,window.setTimeout)(function(){return a.No()})};
var PC=function(a){if(!a.im&&!z.Nm){var b=z.to(a.h,"zm-item-meta");if(b){var c=z.L("zm-meta-panel",b);c&&(a.im=new z.mv(null,b),a.im.tag="comment",a.im.w(c))}}};var QC=function(a,b){b&&(a.yd=b,a.Lw=(0,window.$)(b),a.DW=z.qf(a.yd),a.Lw.on("click",function(){NC(a)}))};var OC=function(a){var b;if(b=a.es)a=a.es.store.getState(),b=LC(a,["commentBox","meta","totalCountPure"]);return b};
var RC=function(a){if(a.yd&&(a.yd&&a.yk&&(0,window.$)(".icon-spike",a.h).css("left",a.Lw.position().left+a.Lw.width()/2).removeClass("hidden"),a.yd))if(a.yk)Yq(a.yd,"鏀惰捣璇勮");else{var b=OC(a),c=void 0,c=z.pa(b)?0<b?b+" 鏉¤瘎璁�":"娣诲姞璇勮":a.DW;Yq(a.yd,c)}};var SC=function(a,b,c){var d=a.es;a=d.store;var f=d.actions,d=d.ActionTypes;/[A-Z]/.test(b[0])?a.dispatch({type:d[b],payload:c}):a.dispatch(f[b](c))};
var TC=function(a,b){z.Q.call(this);window.$.extend(this.options={},UC,b||{});this.state={Km:!1,gu:!1,iu:!0,Hp:!1,QB:!1};var c=new z.oi(this.update,17,this);z.Ac(this,c);this.fM=(0,z.t)(c.fire,c)};
var VC=function(a){var b=(0,window.$)(a.h),c=(0,window.$)("\x3cdiv\x3e");window.$.each("display position top right bottom left float margin".split(" "),function(a,f){c.css(f,b.css(f))});c.css({visibility:"hidden",width:b.outerWidth(),height:b.outerHeight()}).insertBefore(b);a.xc=c.get(0);b.addClass(a.options.ih);a.ga();a.options.iK.call(a)};
var WC=function(a){if(!window.Modernizr.csstransitions)return VC(a);var b=(0,window.$)(a.h);a.state.Hp=!0;VC(a);b.css({transition:"none",transform:"translateY("+XC(a)+"px)"});(0,window.setTimeout)(function(){b.css({transition:"",transform:""}).onTransitionEnd(function(){a.onAnimationEnd()},200)})};
var YC=function(a){if(!window.Modernizr.csstransitions)return a.restore();var b=(0,window.$)(a.h);a.state.Hp=!0;b.css("transform","translateY("+XC(a)+"px)").onTransitionEnd(function(){b.css({transition:"none",transform:""});a.restore();a.onAnimationEnd()},200)};var XC=function(a){var b=(0,window.$)(a.h).outerHeight();return null===a.options.bottom?-(b+a.options.top):b+a.options.bottom};
var ZC=function(){function a(a,b){a=z.oa(a)?new RegExp(a):a;return a.test(b)}var b;z.Fb({home:"^/$",collection:"^/collection/\\d+$",roundtable:"^/roundtable/[\\w\\.-]+$",answer:"^/question/\\d+/answer/\\d+$",question:"^/question/\\d+$",search:"^/search$",people:"^/people/[\\w\\.-]+$",people_answers:"^/people/[\\w\\.-]+/answers$",explore_recommendations:"^/explore/recommendations$",explore_daily_hot:{path:"^/explore$",hash:"^(?!monthly-hot$)"},explore_monthly_hot:{path:"^/explore$",hash:"^monthly-hot$"}},
function(c,d){c.path&&c.hash?a(c.path,window.location.pathname)&&a(c.hash,window.location.hash.slice(1))&&(b=d):a(c,window.location.pathname)&&(b=d);return!!b});return b};z.$C=function(a){z.Q.call(this);this.entryType=a;this.OD=aD[a];this.ub=this.Ji=!1;this.Zt=window.setTimeout.bind(window,this.Zt.bind(this))};var bD=function(a,b){return z.Ir(a,b,function(){return this.hz()})};var cD=function(a){a.OD&&z.V.Va(a,{module:a.OD+"Item"},function(){return{card:{card_type:"Content",content:a.tz()}}})};
var dD=function(a){var b=a.m();a.g("trackRequested",function(c){c.label=a.mH();c.value=(0,window.$)(b).index()+1;z.ti(c)});a.Ji&&z.vn(b,function(){a.pJ()});var c=(0,window.$)(b).parent();0===c.closest(".feed-item").length&&z.vn(b,function(){var b="SearchResultList"===c.data("za-module")?"ListItem":"Card";z.V.trackCardShow(a,{element:b})})};
var eD=function(a){a=(0,window.$)(a);var b={};(0,window.$)("[itemprop]",a).each(function(){var a=(0,window.$)(this);a.is("link, a")?b[a.attr("itemprop")]=a.prop("href"):b[a.attr("itemprop")]=a.attr("content")});(0,window.$)("meta[name]",a).each(function(){var a=(0,window.$)(this);b[a.attr("name")]=a.attr("content")});return b};var fD=function(a){var b=eD(a.h);a.Bb=b[a.entryType+"-id"];a.Ue=b[a.entryType+"-url-token"];a.jd=b};
var gD=function(a){if(a.UC)return a.UC;var b=(0,window.$)('meta[itemprop\x3d"ZReactor"]',a.h);b.length||(b=(0,window.$)(a.h).closest(".feed-item").find('meta[itemprop\x3d"ZReactor"]'));b=b.data("meta");a.UC=b&&b.source_type||"";return a.UC};
var hD=function(a){if(a.MA)return a.MA;var b=ZC();a.MA=({home:"feed",search:"search_result_question_answer_tab",explore_daily_hot:"daily_trending",explore_monthly_hot:"monthly_trending",people:"people_profile_activities",people_answers:"people_profile_answers",explore_recommendations:"editor_recommendations"}[b]||b)+({collection:"_feed",roundtable:"_feed",answer:"_more"}[b]||"");return a.MA};
var iD=function(a){return{promotion_answer:"promote",member_voteup_answer:"someone_vote_up",topic_acknowledged_answer:"from_topic",roundtable_add_answer:"from_roundtable",member_answer_question:"someone_add",member_create_article:"someone_add",member_voteup_article:"someone_vote_up"}[gD(a)]};var jD=function(a){return(0,window.$)(a.jO,a.m())[0]};
z.kD=function(a){var b={appkey:"3063806388"};a&&(b.title=a);window.open("http://service.weibo.com/share/share.php?"+window.$.param(b),"_blank","width\x3d615,height\x3d505")||(window.location.href="http://service.weibo.com/share/share.php?"+window.$.param(b))};z.lD=function(a,b,c,d){b=new mD(b,c,d);b.w(a);return b};var mD=function(a,b,c){z.Q.call(this);this.hb=a;this.GM=b;this.EL=c};
var nD=function(a){var b=a.cq=new z.Oz,c=[{label:z.Ye('\x3cspan class\x3d"ico z-ico-weibo-share"\x3e\x3c/span\x3e鏂版氮寰崥'),value:0},{label:z.Ye('\x3cspan class\x3d"ico z-ico-wechat-share"\x3e\x3c/span\x3e寰俊鎵竴鎵玕x3cimg class\x3d"qrcode-image js-qrcode-image"\x3e'),value:1}];"answer"!==a.hb&&"post"!==a.hb||c.push({label:z.Ye('\x3cspan class\x3d"ico z-ico-daily-share"\x3e\x3c/span\x3e璇昏鏃ユ姤'),value:2});window.$.each(c,function(a,c){var g=new z.Jz(c.label,c.value);b.Ja(g)});z.Bh(b,1).gb(!1);c=new z.mA("share",
b);c.cj=!0;c.Tb=z.Hl;c.w(a.m());z.Ac(c,a);b.g("action",a.tR.bind(a));(0,window.$)(b.m()).addClass("share-menu")};var oD=function(a,b,c,d){BA.call(this,a,b,c,d)};z.pD=function(a){z.Q.call(this);z.Mb(this.options={},qD,a||{});this.content="";this.zd=this.Rb=this.ul=null};var rD=function(a){a.getParent()?a.dispatchEvent("expandRequest"):a.expand()};var sD=function(a,b){return window.$.post("/node/PromotionVoteBarV2",{method:b,params:{post_id:a}})};
var tD=function(a,b){return window.$.post("/node/PinVoteBarV2",{method:b,params:{pin_id:a}})};var uD=function(a,b,c){z.Q.call(this);this.Bb=a;this.entryType=b||"answer";this.Ei=null;this.J=window.$.extend({},this.defaults,c||{})};var vD=function(a,b,c){var d=+a.Dr.text(),f=0;(0,window.isNaN)(d)||(c===z.wD.fh?f=1:b===z.wD.fh&&(f=-1),a.Dr.text(d+f))};
var xD=function(a){var b=a.N,c=a.J,d=b===z.wD.fh,b=b===z.wD.xl,f=d?"鍙栨秷璧�":"璧�";"answer"===a.entryType&&(f+="鍚�");var g=b?"鍙栨秷鍙嶅":"鍙嶅锛屼笉浼氭樉绀轰綘鐨勫鍚�";a.Nw.toggleClass(c.iv,d).find(".label").text(f).end().attr("aria-pressed",d).attr("title",f);a.zw.toggleClass(c.iv,b).find(".label").text(g).end().attr("aria-pressed",b).attr("title",g)};
z.yD=function(a,b){z.Q.call(this);this.Bb=a;this.entryType=b||"answer";this.cn=null;switch(this.entryType){case "post":this.sf=zD;break;case "publications":this.sf=z.AD;break;default:this.sf=BD}};z.CD=function(a){a.cn&&"pending"===a.cn.state()||(a.cn=a.sf.oH(a.Bb).done((0,z.t)(a.Th,a)),(0,window.$)(".js-voteCount",a.tb).text(a.lb()))};
var DD=function(a){z.Q.call(this);this.RM="votebar-mobile";this.uy="votebar-mobile-dialog";this.lw=a;this.TM="votebar-"+(["post","promotion"].includes(a.entryType)?"post":"answer");this.SM=z.M("span","_votebar-holder")};var ED=function(a){var b=a.lw;z.Bo(a.SM,b.m());z.Bg(b.m(),[a.RM,a.TM]);a.o().g(b,"action",function(){this.Na&&(0,window.setTimeout)((0,z.t)(function(){this.Na.F(!1)},this),150)})};
z.FD=function(){z.$C.call(this,"answer");this.Gm=window.setTimeout.bind(window,this.Gm.bind(this));this.Dh=window.setTimeout.bind(window,this.Dh.bind(this))};
var GD=function(a){var b=(0,window.$)(".js-administer",jD(a))[0];if(b){a.uO=b;HD=0;var c=new z.vA;a.K(c);c.attach(b,5);var d=a.Vi?new z.Jz("鍙栨秷鎶樺彔"):new oD("鎶樺彔");d.Fa("collapse");var f=function(a,b){var c=new z.Jz(b+1+" "+a.label);c.Fa(a.value);d.Ja(c)};a.Vi||ID("answer","collapse").then(function(a){z.A(a,f);z.S.add(d.jb().m(),"manage-menu")});b=new z.Jz("鍒犻櫎");b.Fa("delete");c.Ja(d);c.Ja(b);c.render(a.h);z.S.add(c.m(),"manage-menu");return c}};
var JD=function(a,b){a.o().g(b,"action",function(a){var b=a.target;a=b.Y();var b=b.m(),f=new z.uj;"collapse"===a?(f.add("answer_id",this.ib).add("action","collapse2").add("collapse",this.Vi?"cancel":"done"),b.setAttribute("data-op",this.Vi?"uncollapse-answer":"collapse-answer"),b.setAttribute("data-action","/manage?"+f.toString()),KD(this,b)):"delete"===a?(f.add("answer_id",this.ib).add("action","remove_answer2"),b.setAttribute("data-op","remove-answer"),b.setAttribute("data-action","/manage?"+f.toString()),
KD(this,b)):z.pa(a)&&(b=new z.uj,b.add("answer_id",this.ib).add("action","collapse2").add("collapse",this.Vi?"cancel":"done").add("reason",a),RB("/manage",b.toString(),(0,z.t)(this.mk,this)))});a.o().g(b,"show",function(){z.S.add(jD(this),"zm-item-meta-has-menu")}).g(b,"hide",function(a){a.currentTarget===a.target&&z.S.remove(jD(this),"zm-item-meta-has-menu")})};var KD=function(a,b){(new z.QB).open(b,{id:a.ib,type:"answer"},(0,z.t)(a.mk,a))};
var LD=function(a){var b=Number(a.jd.copyrightStatus),c=a.jd.own||!1,d=(0,window.$)(".entry-content, .zm-item-rich-text",a.h),f=(0,window.$)(".copyright, .js-copyright",a.h);a=z.MD.EY.bind(z.MD,d,a.jd.disableCopyAvatar);switch(b){case 0:c||a("淇濈暀鎵€鏈夋潈鍒╋紝绂佹杞浇",!0);break;case 2:c||(a("濡傞渶杞浇锛岃鐐瑰嚮鏂囨湯鐨勭敵璇疯浆杞芥寜閽�",!1),f.click(function(a){z.Y.uc&&(a.preventDefault(),z.T.message("鏈烘瀯甯愬彿鏆備笉鏀寔璇ュ姛鑳�"))}))}b=d.data("entryUrl");c=d.data("authorName");z.MD.AE(d,b,c)};z.ND=function(){z.$C.call(this,"post")};
var OD=function(a){var b=(0,window.$)(".Tipjar-entry",a.h);a.o().g(a.fD,"expand",function(){b.show()});a.o().g(a.fD,"collapse",function(){b.hide()});b.on("click",".Tipjar-entryButton",function(){z.W("tipjar","click_tipjar","topstory")})};z.PD=function(){z.$C.call(this,"question")};z.QD=function(){z.$C.call(this,"live")};z.RD=function(){z.$C.call(this,"favorites")};z.SD=function(){z.$C.call(this,"column")};z.TD=function(){z.$C.call(this,"ebook")};var UD=function(){z.$C.call(this,"promotion")};
z.VD=function(){z.$C.call(this,"pin")};var WD=function(a){var b=new z.pD;a.K(b);b.w(a.h);a.fD=b;a.g("expandRequest",(0,z.t)(a.expand,a));a.g("expand",function(a){a.target===a.currentTarget&&b.expand()});a.g("collapse",function(a){a.target===a.currentTarget&&b.collapse()});b.EA&&a.o().ta(b,"expand",a.Yp)};z.XD=function(){z.$C.call(this,"eventcard")};
z.YD=function(a){a=a.getAttribute("data-type");return new ({a:z.FD,Answer:z.FD,c:z.SD,Column:z.SD,p:z.ND,Post:z.ND,q:z.PD,Question:z.PD,l:z.QD,f:z.RD,e:z.TD,Promotion:UD,pin:z.VD,eventcard:z.XD}[a]||z.Q)};z.ZD=function(a){z.H.call(this);this.la=null;this.h=a;a=z.C||z.Gc||z.D&&!z.E("531")&&"TEXTAREA"==a.tagName;this.U=new z.xd(this);this.U.g(this.h,a?["keydown","paste","cut","drop","input"]:"input",this)};var $D=function(a){null!=a.la&&(z.wd(a.la),a.la=null)};
var aE=function(a){a=new z.Pc(a.tc);a.type="input";return a};var bE=function(a,b,c,d){z.H.call(this);this.Hi=a;this.xG=b;this.Fu=c;this.uQ=d||cE;a.removeAttribute("maxlength");this.pA=new z.ZD(a);z.G(this.pA,"input",this.tB,!1,this);this.Pl()};z.dE=function(a){z.H.call(this);this.ua=null;this.qa=a;this.yv=0;this.KK=""};var eE=function(a,b){var c=z.Co("zm-menu-item-link",a.qK);z.A(c,function(a,c){var g=!z.rb(b,c);z.P(a,g)},a)};var fE=function(){z.H.call(this)};
z.gE=function(a){function b(){var b;hE||(hE=new fE,hE.init());b=hE;b.Dj=a;b.hO=a.id.split("-")[1];b.show()}function c(b){if(!a.getAttribute("data-disabled")){var c;iE||(iE=new z.dE,iE.init());c=iE;c.Dj=a;c.qa=a.id.split("-")[1];"redirect"===b?c.show():(z.ep("/question/unredirect",null,"POST","qid\x3d"+c.qa+"\x26rqid\x3d"+c.yv),c.Dj.innerHTML="閲嶅畾鍚戝凡鎾ら攢",c.Dj.setAttribute("data-disabled",1))}}function d(){function b(){var f=d.value,g=a.getAttribute("id").split("-")[1],f=(new z.uj).add("revision",g).add("reason",
f),q=new z.dp(!0);q.on("success",function(){var a=z.Dn(q);c.F(!1);if(!a)return z.T.message("缃戠粶寮傚父");if(a.r)return z.T.message(a.msg);a.msg?window.location.href=a.msg:window.location.reload()});q.ajax("/revert",f.toString())}var c=z.T.confirm("鎾ら攢",'\x3cdiv class\x3d"zg-form-text-input"\x3e\x3ctextarea class\x3d"zg-editor-input content" title\x3d"璇疯緭鍏ユ挙閿€鍘熷洜" placeholder\x3d"璇疯緭鍏ユ挙閿€鍘熷洜"\x3e\x3c/textarea\x3e\x3c/div\x3e',function(a){if(a)return b(),!1}),d=z.L("content",c.S());new z.Wj(d);new z.Jr(d);new bE(d,
null,200)}var f=a&&a.name;if(f)switch(f){case "adminflag":b();break;case "redirect":case "cancel_redirect":c(f);break;case "revert":d()}};z.jE=function(a){(0,window.$)(a).on("click",'a[name\x3d"revert"]',function(){z.gE(this)})};z.kE=function(a,b,c){z.Q.call(this);this.offset=this.Pv=0;this.tY=c;this.Ii=a;this.url=b||window.location.href;this.Hh="zm-item";this.params={}};
z.lE=function(a,b){b?a.rl.html('\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e姝ｅ湪鍔犺浇').prop("disabled",!0):a.rl.html("鏇村").prop("disabled",!1)};var mE=function(a){var b=a.mb();a.offset=a.nB?a.nB(b):b.length;a.Mt?(b=a.Mt(),z.P(a.de,b)):a.de&&("-1"!==a.rl.attr("data-next")&&b?a.rl.removeClass("hidden").show():a.rl.hide())};z.nE=function(a){a.dispatchEvent({data:{Jp:a.Jp,ED:a.ED},type:"afterload"})};
var oE=function(a){var b=a.mb(),c;if(a.tY)if(a.de&&(c=a.de.getAttribute("data-next")),c)a.Pv=c;else if(b=z.jb(b))a.Pv=a.OB(b)};var pE=function(a,b){z.A(b,function(a){var b=this.Su(a);this.dispatchEvent({data:{item:a,fU:b},type:"itemcreated"})},a)};
z.qE=function(a){var b={qr:!1,G0:!1};return function(c){if(!1===c)return!1;c={};z.Mb(c,b,a||{});if(c.qr&&!z.Y.Ot)return z.T.alert('\x3ca href\x3d"/question/23261456" target\x3d"_blank"\x3e濡備綍鍙備笌鐭ヤ箮璇濋鐨勫叕鍏辩紪杈戯紵\x3c/a\x3e'),!1;if(c.Cq){if(!z.X.AQ)return z.T.alert('\x3cp\x3e鍒涘缓杈冧箙鎴栧凡鏈夎緝澶氳璁虹殑闂闄愬埗鍏叡缂栬緫\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"/question/24501563" target\x3d"_blank"\x3e濡備綍鍙備笌鐭ヤ箮闂鐨勫叕鍏辩紪杈戯紵\x3c/a\x3e\x3c/p\x3e'),!1;if(z.X.Lp)return z.T.alert('\x3cp\x3e鍒涘缓杈冧箙鎴栫紪杈戞鏁拌緝澶氱殑闂閿佸畾鍏叡缂栬緫\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"/question/24501563" target\x3d"_blank"\x3e濡備綍鍙備笌鐭ヤ箮闂鐨勫叕鍏辩紪杈戯紵\x3c/a\x3e\x3c/p\x3e'),
!1}}};z.rE=function(a,b,c){z.Jz.call(this,a,b,c);this.nj(!0)};z.sE=function(){};z.tE=function(){this.nx="toolbar"};var uE=function(){};z.vE=function(a,b,c){z.Rp.call(this,a,b||uE.ba(),c)};var wE=function(){};var xE=function(a,b){return b.B("DIV","goog-color-menu-button-indicator",a)};var yE=function(a,b){if(a&&a.firstChild){var c;if(c=b)c=!!(Gq.test("#"==b.charAt(0)?b:"#"+b)||Iq(b).length||Kq&&Kq[b.toLowerCase()]);c=c?Fq(b).Qt:null;a.firstChild.style.borderBottomColor=c||(z.C?"":"transparent")}};
var zE=function(a,b,c,d){z.Et.call(this,a,b,c,null,d)};z.AE=function(){};var BE=function(a,b,c,d){for(var f=[],g=0,h=0;g<c.height;g++){for(var k=[],l=0;l<c.width;l++){var n=b&&b[h++];k.push(CE(a,n,d))}f.push(DE(a,k,d))}return a.by(f,d)};var DE=function(a,b,c){a=c.B("TR",a.V()+"-row",b);z.ug(a,"row");return a};
var CE=function(a,b,c){a=c.B("TD",{"class":a.V()+"-cell",id:a.V()+"-cell-"+EE++},b);z.ug(a,"gridcell");z.vg(a,"selected",!1);if(!z.qf(a)&&!ro(a)){var d;b=new zE(a);for(c="";!c&&(d=Io(b));)1==d.nodeType&&(c=ro(d)||d.title);(d=c)&&z.vg(a,"label",d)}return a};var FE=function(a,b,c){for(b=b.m();c&&1==c.nodeType&&c!=b;){if("TD"==c.tagName&&z.zg(c,a.V()+"-cell"))return c.firstChild;c=c.parentNode}return null};var GE=function(a){z.H.call(this);this.ff=[];HE(this,a)};
var HE=function(a,b){b&&(z.A(b,function(a){this.jn(a,!1)},a),z.wb(a.ff,b))};z.IE=function(a,b,c){Kp.call(this,a,b||z.AE.ba(),c);this.Gj&=-89;this.Do=new JE;this.Do.xb(this);this.OA=-1};z.KE=function(a,b){if(a.m())throw Error("Component already rendered");a.Mc=z.pa(b)?new z.He(b,void 0):b;LE(a)};var ME=function(a){var b=a.cb();return b&&b[a.$a]};
var NE=function(a,b,c){if(a.m()){var d=a.cb();if(d&&0<=b&&b<d.length){var f;f=(f=ME(a))?f.parentNode:null;a.Do.m()!=f&&(a.Do.h=f);f=a.Do;f.Yc(c);!!(f.N&2)==c&&(b=d[b])&&(b=b?b.parentNode:null,z.po(b,a.M.V()+"-cell-hover",c),c?z.vg(a.h,"activedescendant",b.id):b.id==z.xg(a.h,"activedescendant")&&a.h.removeAttribute("aria-activedescendant"))}}};
var LE=function(a){var b=a.cb();if(b)if(a.Mc&&a.Mc.width){if(b=Math.ceil(b.length/a.Mc.width),!z.pa(a.Mc.height)||a.Mc.height<b)a.Mc.height=b}else b=Math.ceil(Math.sqrt(b.length)),a.Mc=new z.He(b,b);else a.Mc=new z.He(0,0)};var JE=function(){Kp.call(this,null);this.cl|=2};var OE=function(a,b,c){this.As=a||[];z.IE.call(this,null,b||z.AE.ba(),c);this.As=this.As;this.Nu=this.mu=null;this.X(PE(this))};
var PE=function(a){return z.mb(a.As,function(a,c){var d=this.L().B("DIV",{"class":this.M.V()+"-colorswatch",style:"background-color:"+a}),f;this.mu&&this.mu[c]?f=this.mu[c]:"#"==a.charAt(0)?(f=Hq(a),f="RGB ("+[(0,window.parseInt)(f.substr(1,2),16),(0,window.parseInt)(f.substr(3,2),16),(0,window.parseInt)(f.substr(5,2),16)].join(", ")+")"):f=a;d.title=f;return d},a)};var QE=function(a){if(a)try{return Fq(a).Qt}catch(b){}return null};var RE=function(a,b,c,d){z.mA.call(this,a,b,c||wE.ba(),d)};
var SE=function(a){var b=new z.Oz(a);z.Db(TE,function(c){c=new OE(c,null,a);z.KE(c,8);b.K(c,!0)});return b};var UE=function(){};var VE=function(){};var WE=function(a,b,c,d){RE.call(this,a,b,c||VE.ba(),d)};var XE=function(a,b,c,d){z.mA.call(this,a,b,c||UE.ba(),d)};var YE=function(a,b,c,d,f){z.mA.call(this,a,b,c,d,f||new Mz("listbox"));this.py=this.cb();this.oA=null;this.Iv("listbox")};var ZE=function(a,b){a.py=b;$E(a)};
var aF=function(a,b){a.ma=new GE;b&&z.Ch(b,function(a){bF(a);this.ma.Ja(a)},a);cF(a)};var cF=function(a){a.ma&&a.o().g(a.ma,"select",a.nk)};var $E=function(a){var b=a.Jf();a.X(b?b.vh():a.py);var c=a.M.S(a.m());c&&a.L().isElement(c)&&(null==a.oA&&(a.oA=ro(c)),b=(b=b?b.m():null)?ro(b):a.oA,z.vg(c,"label",b),dF(a))};
var dF=function(a){var b=a.M;if(b&&(b=b.S(a.m()))){var c=a.h;b.id||(b.id=z.vh(z.uh.ba()));z.ug(b,"option");z.vg(c,"activedescendant",b.id);a.ma&&(c=a.ma.mb(),z.vg(b,"setsize",eF(c)),a=a.ma.gk(),z.vg(b,"posinset",0<=a?eF(z.yb(c,0,a+1)):0))}};var eF=function(a){return Po(a,function(a){return a instanceof z.Jz})};var bF=function(a){a.Iv(a instanceof z.Jz?"option":"separator")};var fF=function(a,b,c,d){YE.call(this,a,b,c||UE.ba(),d)};
var gF=function(a){var b=a.indexOf(",");a:for(a=(-1!=b?a.substring(0,b):a).toLowerCase(),b=0;2>b;b++){var c="\"'".charAt(b);if(a.charAt(0)==c&&a.charAt(a.length-1)==c){a=a.substring(1,a.length-1);break a}}return a};var hF=function(a,b){z.A(b,function(b){var d=b.value,f=gF(d);b=new z.rE(b.caption,d,a.L());An(b,f);a.Ja(b);b.S().style.fontFamily=d})};
var iF=function(a){z.A(jF,function(b){var c=b.value;b=new z.rE(b.caption,c,a.L());a.Ja(b);b=b.S();b.style.fontSize=(kF[c]||10)+"px";b.firstChild.style.height="1.1em"})};var lF=function(a){z.A(mF,function(b){var c=b.caption;b=b.Ca;var d=a.L(),c=new z.rE(d.B("DIV",null,c),b,d);An(c,b);a.Ja(c)})};z.nF=function(a,b,c,d,f,g){c=new z.vE(oF(c,d,g),f,g);An(c,a);c.Rd(b);return c};z.pF=function(a,b,c,d,f,g){a=z.nF(a,b,c,d,f,g);a.fc(16,!0);return a};
var qF=function(a,b,c,d,f,g){f=new fF(null,null,f,g);d&&z.A(d.split(/\s+/),f.pi,f);f.pi("goog-toolbar-select");ZE(f,c);An(f,a);f.Rd(b);return f};var rF=function(a,b,c,d,f,g){c=new WE(oF(c,d,g),null,f,g);An(c,a);c.Rd(b);return c};var oF=function(a,b,c){a&&""!=a||!z.B||z.E("1.9a")||(a="聽");return(c||z.Ie()).B("DIV",b?{"class":b}:null,a)};var sF=function(a){var b="en-us".replace(/_/,"-").toLowerCase(),c=[];b in tF&&(c=tF[b]);c.length&&hF(a,c);hF(a,uF)};
var vF=function(a,b,c,d,f,g){var h=z.nF(a,b,c,d,f,g);h.sj=function(a){h.gb(a)};return h};var wF=function(a,b){var c=b;try{if(z.C)var d="000000"+c.toString(16),f=d.substr(d.length-6,6),c="#"+f.substring(4,6)+f.substring(2,4)+f.substring(0,2);c!=a.Y()&&a.Fa(c)}catch(g){}};z.xF=function(a){z.$A.call(this);this.ea=new z.xd(this);this.YH=z.M("div",{style:"display:none"});this.h=this.Fc=null;this.J={};z.Mb(this.J,this.defaults,a||{})};
var yF=function(a){a.dispatchEvent("willEnterFullScreen")&&(a.EG||(a.iT=window.history.length),a.EG=!0,zF(a,"writing"),a.$M=z.xf(z.Ie((z.u||window).document)),z.Bo(a.YH,a.J.il),a.Fc.appendChild(a.J.il),z.S.add(window.document.body,a.J.Po),a.Nb=z.L(a.J.jZ,a.h),a.Nb.appendChild(a.pr),AF(a),(0,z.ab)(z.qf(a.G.La))||a.G.vg(),a.dispatchEvent("enterFullScreen"))};
var BF=function(a){!z.ai&&a.EG&&a.iT!==window.history.length?window.history.back():zF(a,"");a.Nb.removeChild(a.pr);a.AL(!1);a.h.onscroll=null;a.ea.pa(window.document,"keydown",a.sq);z.Bo(a.J.il,a.YH);z.S.remove(window.document.body,a.J.Po);window.scrollTo(a.$M.x,a.$M.y);a.dispatchEvent("exitFullScreen")};var zF=function(a,b){a.ea.pa(window,"hashchange",a.ZJ);window.location.hash=b||"";(0,window.setTimeout)((0,z.t)(function(){this.ea.g(window,"hashchange",this.ZJ)},a))};
var AF=function(a){var b=a.h;b.scrollTop=0;var c=a.Nb.getBoundingClientRect().top;b.onscroll=z.To((0,z.t)(a.AL,a),function(){return b.scrollTop>c});a.ea.g(window.document,"keydown",a.sq)};z.CF=function(a,b,c){b=void 0===b?"success":b;c=void 0===c?3E3:c;if(a){var d=(0,window.$)("#zh-message-container");d.length||(d=(0,window.$)('\x3cdiv id\x3d"zh-message-container" style\x3d"display:none"\x3e\x3c/div\x3e').prependTo(".zu-main-content-inner"));d.text(a).attr("class",{success:"zg-info-message",error:"zg-error-message"}[b]).show().delay(c).fadeOut()}};
z.DF=function(a,b){z.ma(a)&&z.CF(a[1],a[0]?"error":"success",b)};z.EF=function(a){z.H.call(this);this.Ed=a};z.FF=function(a){this.bm=a;this.vj=new z.Ih("",!0,this.bm.Ed);this.qo=new z.Uh(this.bm.Ed);this.po={};this.pi("tr-dialog")};z.GF=function(a,b){var c=z.w("OK");a.qo.set("ok",b||c,!0);a.po.ok=(0,z.t)(a.bm.yS,a.bm)};z.HF=function(a,b){var c=z.xm,d=z.w("Cancel");a.qo.set(c,b||d,!1,!0);a.po[c]=(0,z.t)(a.bm.bp,a.bm);return a};
z.IF=function(a){a.qo.Fh()&&(z.GF(a),z.HF(a));z.Rh(a.vj,a.qo);var b=a.po;a.po=null;a.vj.g(z.Th,function(a){if(b[a.key])return b[a.key](a)});a.vj.Wq(!0);var c=a.vj;a.vj=null;return c};z.JF=function(a){z.$A.call(this);this.MP=a;this.gL=function(){}};z.KF=function(a){var b=a.G,c=a.pL;c&&c.restore();b.focus();a.pL=null};var LF=function(a){a.Na&&!a.vA&&(a.vA=!0,a.Na.dispose(),a.Na=null,a.vA=!1)};var MF=function(a){z.EF.call(this,a);this.U=new z.xd(this);this.kl=z.Z.In+"/upload";this.vP=!z.C};
var NF=function(a){z.Lc.call(this,"ok");var b=a[0];this.Fm=b;this.sK=b.replace("_m.jpg","_r.jpg");this.RK=a[1];this.QK=a[2]};z.OF=function(){z.JF.call(this,"image");this.U=new z.xd(this)};z.yk.prototype.mn=z.qn(27,function(a){this.Oj=a});z.hj.prototype.uh=z.qn(26,function(a,b){if(!this.h)return null;for(var c=b||"A",d=a;null!=d&&d!==this.h;){if(d.tagName===c)return d;d=d.parentNode}return null});z.R.prototype.kn=z.qn(25,function(a){this.Fl=a;this.Aa&&z.Yh(this)});
z.Ih.prototype.Iv=z.qn(22,function(a){this.zq=a});z.Ih.prototype.cb=z.qn(21,function(){return null!=this.Fc?z.Fd(this.Fc):""});z.Q.prototype.ai=z.qn(20,function(a){if(this.Aa)throw Error("Component already rendered");this.Rg=a});z.Q.prototype.Ld=z.qn(19,function(){null==this.Rg&&(this.Rg=z.ch(this.Aa?this.h:this.ca.xa().body));return this.Rg});z.mh.prototype.gb=z.qn(18,function(a){this.rc=a});z.mh.prototype.GC=z.qn(17,function(a){this.Sz=Math.pow(a,2)});
z.mh.prototype.rh=z.qn(16,function(a){this.tj=a});z.Hg.prototype.wh=z.qn(15,function(){return new z.He(this.width,this.height)});z.Hg.prototype.sA=z.qn(14,function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);if(d<=a)return this.left=b,this.top=d,this.width=c-b,this.height=a-d,!0}return!1});
z.Tf.prototype.Wr=z.qn(13,function(a,b,c){var d=(0,z.I)(),f=c?c:d,g=mn(this.bt);g.dt=2;g.ct=f;g.type=b;g.EF=a;a=(a=this.m0)&&a.isTracing()?a.totalVarAlloc:-1;g.mM=a;this.Tx++;if(c){c=this.rg.length;for(a=0;a<c;a++)if(this.rg[a].ct>f){z.xb(this.rg,a,0,g);break}a==c&&this.rg.push(g)}else this.rg.push(g);if(f=g.type)g=this.dl.get(f),g||(g=mn(this.YC),g.type=f,this.dl.set(f,g)),g.count++;this.dw+=(0,z.I)()-d});
z.Je.prototype.Dg=z.qn(12,function(a){var b;(b="A"==a.tagName||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!gn(a)||fn(a)):on(a))&&z.C?(a=z.qa(a.getBoundingClientRect)?a.getBoundingClientRect():{height:a.offsetHeight,width:a.offsetWidth},a=null!=a&&0<a.height&&0<a.width):a=b;return a});z.Q.prototype.Hq=z.qn(11,function(a){for(var b=[];this.fd&&0!=this.fd.length;)b.push(this.removeChild(z.Bh(this,0),a));return b});
z.Je.prototype.lm=z.qn(10,function(a){return nn(a||this.Ra)});z.Je.prototype.by=z.qn(9,function(a,b,c){var d=this.Ra;c=!!c;for(var f=d.createElement("TABLE"),g=f.appendChild(d.createElement("TBODY")),h=0;h<a;h++){for(var k=d.createElement("TR"),l=0;l<b;l++){var n=d.createElement("TD");c&&z.of(n,"聽");k.appendChild(n)}g.appendChild(k)}return f});z.Je.prototype.xg=z.qn(8,function(a,b){return z.L(a,b||this.Ra)});z.Q.prototype.xg=z.qn(7,function(a){return this.h?this.ca.xg(a,this.h):null});
z.Qd.prototype.Ci=z.qn(6,function(a){for(var b=0;b<this.kb.length;b++){var c=this.kb[b];if(z.Td(this.Qb,c)&&this.Qb[c]==a)return!0}return!1});z.rg.prototype.Ci=z.qn(5,function(a){for(var b=z.sg(this).values,c=0;c<b.length;c++)if(b[c]==a)return!0;return!1});z.uj.prototype.Ci=z.qn(4,function(a){var b=this.nd();return z.rb(b,a)});z.Pc.prototype.bH=z.qn(0,function(){return this.tc});z.y(z.xn,z.H);z.e=z.xn.prototype;z.e.h=null;z.e.Fl=!0;z.e.WE=null;z.e.XE=null;z.e.Ak=!1;z.e.sY=!1;z.e.QA=-1;z.e.NA=-1;
z.e.VH=!1;z.e.IQ=!0;z.e.hb="toggle_display";z.e.Ri=function(){return this.hb};z.e.m=function(){return this.h};z.e.Zh=function(a){ln(this);this.h=a};z.e.kn=function(a){ln(this);this.Fl=a};z.e.BL=function(a,b){this.wn=a;this.Cm=b};z.e.o=function(){return this.ea};z.e.W=function(){return this.Ak};z.e.FI=function(){return this.Ak||150>(0,z.I)()-this.NA};z.e.F=function(a){this.wn&&this.wn.stop();this.Cm&&this.Cm.stop();a?this.PC():this.Dm()};z.e.ga=z.r;
z.e.PC=function(){if(!this.Ak&&this.lq()){if(!this.h)throw Error("Caller must call setElement before trying to show the popup");this.ga();var a=z.Ke(this.h);this.VH&&this.ea.g(a,"keydown",this.tV,!0);if(this.Fl)if(this.ea.g(a,"mousedown",this.YJ,!0),z.C){var b;try{b=a.activeElement}catch(d){}for(;b&&"IFRAME"==b.nodeName;){try{var c=b.contentDocument||b.contentWindow.document}catch(d){break}a=c;b=a.activeElement}this.ea.g(a,"mousedown",this.YJ,!0);this.ea.g(a,"deactivate",this.WJ)}else this.ea.g(a,
"blur",this.WJ);"toggle_display"==this.hb?(this.h.style.visibility="visible",z.P(this.h,!0)):"move_offscreen"==this.hb&&this.ga();this.Ak=!0;this.QA=(0,z.I)();this.NA=-1;this.wn?(z.ld(this.wn,"end",this.Rk,!1,this),this.wn.play()):this.Rk()}};z.e.Dm=function(a){if(!this.Ak||!this.dispatchEvent({type:"beforehide",target:a}))return!1;this.ea&&this.ea.removeAll();this.Ak=!1;this.NA=(0,z.I)();this.Cm?(z.ld(this.Cm,"end",z.Aa(this.LF,a),!1,this),this.Cm.play()):this.LF(a);return!0};
z.e.LF=function(a){"toggle_display"==this.hb?this.sY?z.vd(this.WH,0,this):this.WH():"move_offscreen"==this.hb&&(this.h.style.top="-10000px");this.Qk(a)};z.e.WH=function(){this.h.style.visibility="hidden";z.P(this.h,!1)};z.e.lq=function(){return this.dispatchEvent("beforeshow")};z.e.Rk=function(){this.dispatchEvent("show")};z.e.Qk=function(a){this.dispatchEvent({type:"hide",target:a})};z.e.YJ=function(a){a=a.target;z.nf(this.h,a)||kn(this,a)||this.XE&&!z.nf(this.XE,a)||150>(0,z.I)()-this.QA||this.Dm(a)};
z.e.tV=function(a){27==a.keyCode&&this.Dm(a.target)&&(a.preventDefault(),a.stopPropagation())};z.e.WJ=function(a){if(this.IQ){var b=z.Ke(this.h);if("undefined"!=typeof window.document.activeElement){if(a=b.activeElement,!a||z.nf(this.h,a)||"BODY"==a.tagName)return}else if(a.target!=b)return;150>(0,z.I)()-this.QA||this.Dm()}};z.e.D=function(){z.xn.v.D.call(this);this.ea.dispose();z.Cc(this.wn);z.Cc(this.Cm);delete this.h;delete this.ea;delete this.WE};
var Pn=/&([^;\s<&]+);?/g,Zn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},PF=/[^\d]+$/;Wn.prototype.serialize=function(a){var b=[];Xn(this,a,b);return b.join("")};Wn.prototype.serializeArray=function(a,b){var c=a.length;b.push("[");for(var d="",f=0;f<c;f++)b.push(d),d=a[f],Xn(this,this.uv?this.uv.call(a,String(f),d):d,b),d=",";b.push("]")};z.e=Go.prototype;z.e.lb=function(){return this.Qb.lb()};z.e.add=function(a){this.Qb.set($n(a),a)};
z.e.addAll=function(a){a=z.Hd(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};z.e.removeAll=function(a){a=z.Hd(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};z.e.remove=function(a){return this.Qb.remove($n(a))};z.e.clear=function(){this.Qb.clear()};z.e.Fh=function(){return this.Qb.Fh()};z.e.contains=function(a){return this.Qb.ng($n(a))};z.e.sA=function(a){var b=new Go;a=z.Hd(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};z.e.nd=function(){return this.Qb.nd()};
z.e.clone=function(){return new Go(this)};z.e.equals=function(a){return this.lb()==bo(a)&&Ho(this,a)};z.e.Bd=function(){return this.Qb.Bd(!1)};var np;z.y(z.dp,z.de);var QF=/#.*$/,ip={"*":"*","text/html":"html","text/plain":"text","application/json":"json","application/javascript":"script","application/x-javascript":"script"},gp=[],kp=[];z.dp.prototype.FR=function(){if(this.JM){var a=mp();z.P(a,!1)}hp(this)};
z.dp.prototype.ajax=function(a,b,c){a=(0,window.encodeURI)((0,window.decodeURI)(a));a=a.replace(QF,"");if(!this.da){if(this.JM){var d=mp();z.P(d,!0)}lp(this);c=c||"POST";"POST"===c.toUpperCase()&&(d=z.Ai.get("_xsrf"))&&(b=(b?b+"\x26_xsrf\x3d":"_xsrf\x3d")+d);return this.send(a,c,b,this.headers)}};z.y(op,z.H);op.prototype.o=function(){return this.Nf||(this.Nf=new z.xd(this))};z.y(z.qp,z.Lc);z.rp=new op;z.H.prototype.on=function(){z.H.prototype.addEventListener.apply(this,arguments);return this};z.H.prototype.off=function(){z.H.prototype.removeEventListener.apply(this,arguments);return this};z.H.prototype.Ab=z.H.prototype.dispatchEvent;z.y(sp,z.H);sp.prototype.Db=function(){var a=(0,z.t)(function(a){var c=this.Bs.section;(c=c&&c["home-topstory"])&&(c.content=a)},this);yp(this).always((0,z.t)(function(b){this.fb||(b&&b.Fn&&b.Fn.length&&a("杩欓噷鏄牴鎹綘鍏虫敞鐨勮瘽棰樺拰浜哄畾鍒剁殑鍐呭绮鹃€�"),this.J.Nk(),up(this),wp(this))},this));this.fb||xp()};z.y(zp,z.H);z.e=zp.prototype;z.e.h=null;z.e.ku=null;z.e.GA=null;z.e.lu=null;z.e.Ae=-1;z.e.Wi=-1;z.e.gx=!1;
var RF={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},SF={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},TF=z.C||z.Gc||z.D&&z.E("525"),UF=z.Uc&&z.B;z.e=zp.prototype;
z.e.Kf=function(a){if(z.D||z.Gc)if(17==this.Ae&&!a.ctrlKey||18==this.Ae&&!a.altKey||z.Uc&&91==this.Ae&&!a.metaKey)this.Wi=this.Ae=-1;-1==this.Ae&&(a.ctrlKey&&17!=a.keyCode?this.Ae=17:a.altKey&&18!=a.keyCode?this.Ae=18:a.metaKey&&91!=a.keyCode&&(this.Ae=91));TF&&!no(a.keyCode,this.Ae,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Wi=z.Eg(a.keyCode),UF&&(this.gx=a.altKey))};z.e.oS=function(a){this.Wi=this.Ae=-1;this.gx=a.altKey};
z.e.handleEvent=function(a){var b=a.tc,c,d,f=b.altKey;z.C&&"keypress"==a.type?(c=this.Wi,d=13!=c&&27!=c?b.keyCode:0):(z.D||z.Gc)&&"keypress"==a.type?(c=this.Wi,d=0<=b.charCode&&63232>b.charCode&&z.Sn(c)?b.charCode:0):z.Lg&&!z.D?(c=this.Wi,d=z.Sn(c)?b.keyCode:0):(c=b.keyCode||this.Wi,d=b.charCode||0,UF&&(f=this.gx),z.Uc&&63==d&&224==c&&(c=191));var g=c=z.Eg(c),h=b.keyIdentifier;c?63232<=c&&c in RF?g=RF[c]:25==c&&a.shiftKey&&(g=9):h&&h in SF&&(g=SF[h]);a=g==this.Ae;this.Ae=g;b=new Ap(g,d,a,b);b.altKey=
f;this.dispatchEvent(b)};z.e.m=function(){return this.h};z.e.attach=function(a,b){this.lu&&this.detach();this.h=a;this.ku=z.G(this.h,"keypress",this,b);this.GA=z.G(this.h,"keydown",this.Kf,b,this);this.lu=z.G(this.h,"keyup",this.oS,b,this)};z.e.detach=function(){this.ku&&(z.nd(this.ku),z.nd(this.GA),z.nd(this.lu),this.lu=this.GA=this.ku=null);this.h=null;this.Wi=this.Ae=-1};z.e.D=function(){zp.v.D.call(this);this.detach()};z.y(Ap,z.Pc);var VF;z.ka(Bp);var WF={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};z.e=Bp.prototype;z.e.Gf=function(){};z.e.B=function(a){return a.L().B("DIV",this.wg(a).join(" "),a.cb())};z.e.S=function(a){return a};z.e.Yj=function(a,b,c){if(a=a.m?a.m():a){var d=[b];z.C&&!z.E("7")&&(d=Fp(z.yg(a),b),d.push(b));(c?z.Bg:z.Dg)(a,d)}};z.e.Tb=function(){return!0};
z.e.w=function(a,b){b.id&&An(a,b.id);var c=this.S(b);c&&c.firstChild?a.ln(c.firstChild.nextSibling?z.vb(c.childNodes):c.firstChild):a.ln(null);var d=0,f=this.V(),g=this.V(),h=!1,k=!1,l=!1,n=z.vb(z.yg(b));z.A(n,function(a){h||a!=f?k||a!=g?d|=this.yt(a):k=!0:(h=!0,g==f&&(k=!0));1==this.yt(a)&&on(c)&&z.pf(c,!1)},this);a.N=d;h||(n.push(f),g==f&&(k=!0));k||n.push(g);var q=a.Ef;q&&n.push.apply(n,q);if(z.C&&!z.E("7")){var v=Fp(n);0<v.length&&(n.push.apply(n,v),l=!0)}h&&k&&!q&&!l||qo(b,n.join(" "));return b};
z.e.af=function(a){a.Ld()&&this.ai(a.m(),!0);a.isEnabled()&&this.lf(a,a.W())};z.e.BC=function(a,b){z.vg(a,"label",b)};z.e.Qq=function(a,b){z.fo(a,!b,!z.C&&!z.Lg)};z.e.ai=function(a,b){this.Yj(a,this.V()+"-rtl",b)};z.e.Dg=function(a){var b;return Ep(a,32)&&(b=a.lc())?on(b):!1};z.e.lf=function(a,b){var c;if(Ep(a,32)&&(c=a.lc())){if(!b&&a.N&32){try{c.blur()}catch(d){}a.N&32&&a.od(null)}on(c)!=b&&z.pf(c,b)}};z.e.F=function(a,b){z.P(a,b);a&&z.vg(a,"hidden",!b)};
z.e.zc=function(a,b,c){var d=a.m();if(d){var f=this.Qo(b);f&&this.Yj(a,f,c);this.$g(d,b,c)}};z.e.$g=function(a,b,c){VF||(VF={1:"disabled",8:"selected",16:"checked",64:"expanded"});b=VF[b];var d=a.getAttribute("role")||null;d&&(d=WF[d]||b,b="checked"==b||"selected"==b?d:b);b&&z.vg(a,b,c)};
z.e.X=function(a,b){var c=this.S(a);if(c&&(z.bf(c),b))if(z.oa(b))z.of(c,b);else{var d=function(a){if(a){var b=z.Ke(c);c.appendChild(z.oa(a)?b.createTextNode(a):a)}};z.ma(b)?z.A(b,d):!z.na(b)||"nodeType"in b?d(b):z.A(z.vb(b),d)}};z.e.lc=function(a){return a.m()};z.e.V=function(){return"goog-control"};
z.e.wg=function(a){var b=this.V(),c=[b],d=this.V();d!=b&&c.push(d);b=a.getState();for(d=[];b;){var f=b&-b;d.push(this.Qo(f));b&=~f}c.push.apply(c,d);(a=a.Ef)&&c.push.apply(c,a);z.C&&!z.E("7")&&c.push.apply(c,Fp(c));return c};z.e.Qo=function(a){this.vs||Gp(this);return this.vs[a]};z.e.yt=function(a){this.TL||(this.vs||Gp(this),this.TL=z.Lo(this.vs));a=(0,window.parseInt)(this.TL[a],10);return(0,window.isNaN)(a)?0:a};z.y(z.Hp,Bp);z.ka(z.Hp);z.e=z.Hp.prototype;z.e.Gf=function(){return"button"};z.e.$g=function(a,b,c){switch(b){case 8:case 16:z.vg(a,"pressed",c);break;default:case 64:case 1:z.Hp.v.$g.call(this,a,b,c)}};z.e.B=function(a){var b=z.Hp.v.B.call(this,a);this.Rd(b,a.sm());var c=a.Y();c&&this.Fa(b,c);Ep(a,16)&&this.$g(b,16,a.Cg());return b};z.e.w=function(a,b){b=z.Hp.v.w.call(this,a,b);var c=this.Y(b);a.He=c;a.sD=this.sm(b);Ep(a,16)&&this.$g(b,16,a.Cg());return b};z.e.Y=z.r;z.e.Fa=z.r;z.e.sm=function(a){return a.title};
z.e.Rd=function(a,b){a&&(b?a.title=b:a.removeAttribute("title"))};z.e.kj=z.m(29);z.e.V=function(){return"goog-button"};var Lp={},Jp={};z.y(Kp,z.Q);z.e=Kp.prototype;z.e.Fc=null;z.e.N=0;z.e.kr=39;z.e.Gj=255;z.e.cl=0;z.e.yb=!0;z.e.Ef=null;z.e.kk=!0;z.e.as=!1;z.e.zq=null;z.e.Vq=function(a){this.Aa&&a!=this.kk&&Mp(this,a);this.kk=a};z.e.lc=function(){return this.M.lc(this)};z.e.vt=function(){return this.Fb||(this.Fb=new zp)};z.e.pi=function(a){a&&(this.Ef?z.rb(this.Ef,a)||this.Ef.push(a):this.Ef=[a],this.M.Yj(this,a,!0))};
z.e.Yj=function(a,b){b?this.pi(a):a&&this.Ef&&z.tb(this.Ef,a)&&(0==this.Ef.length&&(this.Ef=null),this.M.Yj(this,a,!1))};z.e.B=function(){var a=this.M.B(this);this.h=a;Cp(this.M,a,this.Qi());this.as||this.M.Qq(a,!1);this.W()||this.M.F(a,!1)};z.e.Qi=function(){return this.zq};z.e.Iv=function(a){this.zq=a};z.e.BC=function(a){this.RE=a;var b=this.m();b&&this.M.BC(b,a)};z.e.S=function(){return this.M.S(this.m())};z.e.Tb=function(a){return this.M.Tb(a)};
z.e.T=function(a){this.h=a=this.M.w(this,a);Cp(this.M,a,this.Qi());this.as||this.M.Qq(a,!1);this.yb="none"!=a.style.display};z.e.C=function(){Kp.v.C.call(this);Dp(this.M,this,this.h);this.M.af(this);if(this.kr&-2&&(this.kk&&Mp(this,!0),Ep(this,32))){var a=this.lc();if(a){var b=this.vt();b.attach(a);this.o().g(b,"key",this.mc).g(a,"focus",this.ye).g(a,"blur",this.od)}}};z.e.Cb=function(){Kp.v.Cb.call(this);this.Fb&&this.Fb.detach();this.W()&&this.isEnabled()&&this.M.lf(this,!1)};
z.e.D=function(){Kp.v.D.call(this);this.Fb&&(this.Fb.dispose(),delete this.Fb);delete this.M;this.qp=this.Ef=this.Fc=null};z.e.cb=function(){return this.Fc};z.e.X=function(a){this.M.X(this.m(),a);this.ln(a)};z.e.ln=function(a){this.Fc=a};z.e.vh=function(){var a=this.cb();if(!a)return"";a=z.oa(a)?a:z.ma(a)?z.mb(a,z.uo).join(""):z.qf(a);return Yo(a)};z.e.Rq=function(a){this.X(a)};z.e.ai=function(a){Kp.v.ai.call(this,a);var b=this.m();b&&this.M.ai(b,a)};
z.e.Qq=function(a){this.as=a;var b=this.m();b&&this.M.Qq(b,a)};z.e.W=function(){return this.yb};z.e.F=function(a,b){if(b||this.yb!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.m();c&&this.M.F(c,a);this.isEnabled()&&this.M.lf(this,a);this.yb=a;return!0}return!1};z.e.isEnabled=function(){return!(this.N&1)};z.e.gb=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!Pp(this,1,!a)||(a||(this.setActive(!1),this.Yc(!1)),this.W()&&this.M.lf(this,a),this.zc(1,!a,!0))};
z.e.Yc=function(a){Pp(this,2,a)&&this.zc(2,a)};z.e.Jc=function(){return!!(this.N&4)};z.e.setActive=function(a){Pp(this,4,a)&&this.zc(4,a)};z.e.JC=function(a){Pp(this,8,a)&&this.zc(8,a)};z.e.Cg=function(){return!!(this.N&16)};z.e.yc=function(a){Pp(this,16,a)&&this.zc(16,a)};z.e.Eb=function(){return!!(this.N&64)};z.e.Mb=function(a){Pp(this,64,a)&&this.zc(64,a)};z.e.getState=function(){return this.N};
z.e.zc=function(a,b,c){c||1!=a?Ep(this,a)&&b!=!!(this.N&a)&&(this.M.zc(this,a,b),this.N=b?this.N|a:this.N&~a):this.gb(!b)};z.e.fc=function(a,b){if(this.Aa&&this.N&a&&!b)throw Error("Component already rendered");!b&&this.N&a&&this.zc(a,!1);this.kr=b?this.kr|a:this.kr&~a};z.e.Id=function(a){(!a.relatedTarget||!z.nf(this.m(),a.relatedTarget))&&this.dispatchEvent("enter")&&this.isEnabled()&&Op(this,2)&&this.Yc(!0)};
z.e.wm=function(a){a.relatedTarget&&z.nf(this.m(),a.relatedTarget)||!this.dispatchEvent("leave")||(Op(this,4)&&this.setActive(!1),Op(this,2)&&this.Yc(!1))};z.e.cp=z.r;z.e.ze=function(a){this.isEnabled()&&(Op(this,2)&&this.Yc(!0),z.Tc(a)&&(Op(this,4)&&this.setActive(!0),this.M&&this.M.Dg(this)&&this.lc().focus()));!this.as&&z.Tc(a)&&a.preventDefault()};z.e.Mf=function(a){this.isEnabled()&&(Op(this,2)&&this.Yc(!0),this.Jc()&&this.ee(a)&&Op(this,4)&&this.setActive(!1))};
z.e.sH=function(a){this.isEnabled()&&this.ee(a)};z.e.ee=function(a){Op(this,16)&&this.yc(!this.Cg());Op(this,8)&&this.JC(!0);Op(this,64)&&this.Mb(!this.Eb());var b=new z.Lc("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.SB=a.SB);return this.dispatchEvent(b)};z.e.ye=function(){Op(this,32)&&Pp(this,32,!0)&&this.zc(32,!0)};z.e.od=function(){Op(this,4)&&this.setActive(!1);Op(this,32)&&Pp(this,32,!1)&&this.zc(32,!1)};
z.e.mc=function(a){return this.W()&&this.isEnabled()&&this.Lf(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};z.e.Lf=function(a){return 13==a.keyCode&&this.ee(a)};if(!z.qa(Kp))throw Error("Invalid component class "+Kp);if(!z.qa(Bp))throw Error("Invalid renderer class "+Bp);var XF=z.ta(Kp);Lp[XF]=Bp;z.Ip("goog-control",function(){return new Kp(null)});z.y(Np,z.xc);Np.prototype.um=function(){this.ws=!1};Np.prototype.Jt=function(){this.ws=!0};
Np.prototype.tm=function(a){if(this.ws)this.ws=!1;else{var b=a.tc,c=b.button,d=b.type;b.button=0;b.type="mousedown";this.Fs.ze(new z.Pc(b,a.currentTarget));b.type="mouseup";this.Fs.Mf(new z.Pc(b,a.currentTarget));b.button=c;b.type=d}};Np.prototype.D=function(){this.Fs=null;Np.v.D.call(this)};z.y(Qp,z.Hp);z.ka(Qp);z.e=Qp.prototype;z.e.Gf=function(){};z.e.B=function(a){a.Vq(!1);a.Gj&=-256;a.fc(32,!1);return a.L().B("BUTTON",{"class":this.wg(a).join(" "),disabled:!a.isEnabled(),title:a.sm()||"",value:a.Y()||""},a.vh()||"")};z.e.Tb=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};z.e.w=function(a,b){a.Vq(!1);a.Gj&=-256;a.fc(32,!1);if(b.disabled){var c=this.Qo(1);z.Ag(b,c)}return Qp.v.w.call(this,a,b)};
z.e.af=function(a){a.o().g(a.m(),"click",a.ee)};z.e.Qq=z.r;z.e.ai=z.r;z.e.Dg=function(a){return a.isEnabled()};z.e.lf=z.r;z.e.zc=function(a,b,c){Qp.v.zc.call(this,a,b,c);(a=a.m())&&1==b&&(a.disabled=c)};z.e.Y=function(a){return a.value};z.e.Fa=function(a,b){a&&(a.value=b)};z.e.$g=z.r;z.y(z.Rp,Kp);z.e=z.Rp.prototype;z.e.Y=function(){return this.He};z.e.Fa=function(a){this.He=a;this.M.Fa(this.m(),a)};z.e.sm=function(){return this.sD};z.e.Rd=function(a){this.sD=a;this.M.Rd(this.m(),a)};z.e.kj=z.m(28);z.e.D=function(){z.Rp.v.D.call(this);delete this.He;delete this.sD};z.e.C=function(){z.Rp.v.C.call(this);if(Ep(this,32)){var a=this.lc();a&&this.o().g(a,"keyup",this.Lf)}};z.e.Lf=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.ee(a):32==a.keyCode};
z.Ip("goog-button",function(){return new z.Rp(null)});z.y(Sp,Bp);z.ka(Sp);Sp.prototype.B=function(a){var b=a.L().B("SPAN",this.wg(a).join(" "));Tp(this,b,a.Ai);return b};Sp.prototype.w=function(a,b){b=Sp.v.w.call(this,a,b);var c=z.yg(b),d=Yp;z.rb(c,Up(this,Wp))?d=Wp:z.rb(c,Up(this,Xp))?d=Xp:z.rb(c,Up(this,Yp))&&(d=Yp);a.Ai=d;z.vg(b,"checked",d==Wp?"mixed":d==Xp?"true":"false");return b};Sp.prototype.Gf=function(){return"checkbox"};Sp.prototype.V=function(){return"goog-checkbox"};z.y(Zp,Kp);var Xp=!0,Yp=!1,Wp=null,Vp={f_:Xp,Q_:Yp,S_:Wp};z.e=Zp.prototype;z.e.Xb=null;z.e.Cg=function(){return this.Ai==Xp};z.e.yc=function(a){a!=this.Ai&&(this.Ai=a,Tp(this.M,this.m(),this.Ai))};z.e.toggle=function(){this.yc(this.Ai?Yp:Xp)};
z.e.C=function(){Zp.v.C.call(this);if(this.kk){var a=this.o();this.Xb&&a.g(this.Xb,"click",this.xz).g(this.Xb,"mouseover",this.Id).g(this.Xb,"mouseout",this.wm).g(this.Xb,"mousedown",this.ze).g(this.Xb,"mouseup",this.Mf);a.g(this.m(),"click",this.xz)}a=this.h;if(this.Xb&&a!=this.Xb&&z.ap(ro(a))){if(!this.Xb.id){var b=this.Xb,c;c=this.xe()+".lbl";b.id=c}z.vg(a,"labelledby",this.Xb.id)}};z.e.gb=function(a){Zp.v.gb.call(this,a);if(a=this.m())a.tabIndex=this.isEnabled()?0:-1};
z.e.xz=function(a){a.stopPropagation();var b=this.Ai?"uncheck":"check";this.isEnabled()&&!a.target.href&&this.dispatchEvent(b)&&(a.preventDefault(),this.toggle(),this.dispatchEvent("change"))};z.e.Lf=function(a){32==a.keyCode&&(this.ee(a),this.xz(a));return!1};z.Ip("goog-checkbox",function(){return new Zp});z.y(z.$p,z.Hp);z.ka(z.$p);z.e=z.$p.prototype;z.e.B=function(a){var b={"class":"goog-inline-block "+this.wg(a).join(" ")},b=a.L().B("DIV",b,a.cb());this.Rd(b,a.sm());return b};z.e.Gf=function(){return"button"};z.e.Tb=function(a){return"DIV"==a.tagName};z.e.w=function(a,b){z.Ag(b,"goog-inline-block");return z.$p.v.w.call(this,a,b)};z.e.Y=function(){return""};z.e.V=function(){return"goog-flat-button"};z.Ip("goog-flat-button",function(){return new z.Rp(null,z.$p.ba())});z.y(aq,z.$p);z.ka(aq);aq.prototype.V=function(){return"goog-link-button"};z.Ip("goog-link-button",function(){return new z.Rp(null,aq.ba())});z.y(z.bq,z.H);z.e=z.bq.prototype;z.e.kk=!0;z.e.D=function(){z.bq.v.D.call(this);z.Cc(this.TI);z.Cc(this.jB)};z.e.Gf=function(){return"tab"};z.e.S=function(){return this.dm};z.e.expand=function(){this.Lc(!0)};z.e.collapse=function(){this.Lc(!1)};z.e.toggle=function(){this.Lc(!this.ub)};
z.e.Lc=function(a){this.dm?z.P(this.dm,a):a&&this.su&&(this.dm=this.su());this.dm&&z.Ag(this.dm,"goog-zippy-content");this.Xj?(z.P(this.qg,!a),z.P(this.Xj,a)):this.qg&&(z.po(this.qg,"goog-zippy-expanded",a),z.po(this.qg,"goog-zippy-collapsed",!a),z.vg(this.qg,"expanded",a));this.ub=a;this.dispatchEvent(new eq("toggle",this,this.ub))};z.e.pd=function(){return this.ub};z.e.Vq=function(a){this.kk!=a&&((this.kk=a)?(cq(this,this.qg),cq(this,this.Xj)):this.jB.removeAll())};
z.e.zV=function(a){if(13==a.keyCode||32==a.keyCode)this.toggle(),this.dispatchEvent(new z.Lc("action",this)),a.preventDefault(),a.stopPropagation()};z.e.yV=function(){this.toggle();this.dispatchEvent(new z.Lc("action",this))};z.y(eq,z.Lc);z.y(fq,z.R);z.e=fq.prototype;z.e.B=function(){fq.v.B.call(this);var a=(0,window.$)(".activate-dialog-template").html();this.X(a)};z.e.C=function(){fq.v.C.call(this);z.Zh(this,420);this.Ea("婵€娲诲笎鍙�");this.wa=(0,window.$)(this.We()).addClass("activate-dialog");this.Db()};z.e.Db=function(){this.ZD=(0,window.$)(".link-activate-view",this.wa);this.wj=(0,window.$)(".code-activate-view",this.wa);this.ZD.length?gq(this):hq(this)};
z.e.BB=function(a){var b=this,c=(0,window.$)(a);a=c.Zb();var d=a.account,f=this.df(d),g=f?"/settings/account/send_new_email_digits":"/settings/account/send_new_phone_digits";f?this.Gb(a,"account","email"):this.Gb(a,"account","phone_no");return window.$.post(g,a,function(a){a.success?(c.hide(),(0,window.$)('input[name\x3d"account"]',b.Pn).val(d),b.Pn.show(),jq(b,f)):(a=a.payload.fields,f?b.Gb(a,"email","account"):b.Gb(a,"phone_no","account"),c.data("validator").showErrors(a))})};
z.e.pB=function(a){var b=this,c=(0,window.$)(a);a=c.Zb();var d=this.df(a.account),f=d?"/settings/account/update_email":"/settings/account/update_phone";d?this.Gb(a,"account","email"):this.Gb(a,"account","phone_no");return window.$.post(f,a,function(a){a.success?(b.X("婵€娲绘垚鍔熴€備綘鍙互姝ｅ父浣跨敤鎻愰棶銆佸洖绛斻€佽瘎璁虹瓑鍔熻兘鍟︼紒"),(0,window.setTimeout)(function(){window.location.reload()},1E3)):(a=a.payload.fields,d?b.Gb(a,"email","account"):b.Gb(a,"phone_no","account"),c.data("validator").showErrors(a))})};
z.e.$t=function(a,b,c){var d=a.text();a=z.Bi(a,b,function(a){return a?"%s 绉掑悗鍗冲彲閲嶅彂":d},window.$.proxy(c,this));z.Ac(this,a)};z.e.Gb=function(a,b,c){a[b]&&(a[c]=a[b],delete a[b])};z.e.df=function(a){return!/^\+?[0-9]+$/.test(a)};var iq={onkeyup:!1,onfocusout:!1,validClass:"",focusInvalid:!1,highlight:z.r,messages:{account:{required:"璇峰～鍐欐墜鏈哄彿鎴栭偖绠�"},digits:{required:"璇峰～鍐欓獙璇佺爜"}},errorPlacement:function(a,b){var c=b.parent(".input-wrapper");a.appendTo(c).click(function(){b.focus()});b.focus(function(){a.remove()})}};z.p(kq,z.Pj);z.e=kq.prototype;z.e.B=function(){z.Pj.prototype.B.call(this);this.X('\n\x3cdiv class\x3d"zhihuapp-login"\x3e\n  \x3cdiv class\x3d"title"\x3e娉ㄥ唽/鐧诲綍鍚庣户缁搷浣淺x3c/div\x3e\n  \x3cbutton class\x3d"reg-button"\x3e娉ㄥ唽\x3c/button\x3e\n  \x3cbutton class\x3d"login-button"\x3e鐧诲綍\x3c/button\x3e\n\x3c/div\x3e\n')};z.e.C=function(){z.Pj.prototype.C.call(this);this.H=(0,window.$)(".zhihuapp-login");this.H.on("click",".reg-button",this.GS.bind(this));this.H.on("click",".login-button",this.sS.bind(this))};
z.e.GS=function(){window.location.href="zhihu://signup?next\x3d"+(0,window.encodeURIComponent)(window.location.href)};z.e.sS=function(){window.location.href="zhihu://signin?next\x3d"+(0,window.encodeURIComponent)(window.location.href)};z.e.mn=function(){};z.e.show=function(){this.F(!0)};z.p(mq,z.H);mq.prototype.D=function(){z.H.prototype.D.call(this);this.Wv&&((0,window.clearTimeout)(this.Wv),this.Wv=null)};mq.prototype.TB=function(){if(!this.promise||"pending"!==this.promise.state()){var a=this.FO;this.promise=(window.$.support.cors?window.$.ajax(a):lq(a)).done(this.onMessage.bind(this)).fail(this.uB.bind(this))}};mq.prototype.onMessage=function(a){try{this.dispatchEvent({type:"message",data:a})}catch(b){}this.Wv=(0,window.setTimeout)(this.TB.bind(this),this.PW)};
mq.prototype.uB=function(){this.dispatchEvent("error");this.xv<this.tJ&&(this.xv=Math.min(this.xv*this.pT,this.tJ));this.Wv=(0,window.setTimeout)(this.TB.bind(this),this.xv)};var nq={type:"GET",url:"",data:{},timeout:6E4,xhrFields:{withCredentials:!0}};z.p(oq,z.Q);oq.prototype.B=function(){this.h=z.M("div",{innerHTML:(0,window.$)(".unblock-dialog-template").html()})};z.p(pq,z.R);pq.prototype.B=function(){z.R.prototype.B.call(this);this.Ea("甯愬彿瑙ｅ皝");z.Rh(this,null);this.ud(!0)};pq.prototype.C=function(){var a=this;z.R.prototype.C.call(this);this.xD=new oq;z.Ac(this,this.xD);this.xD.render(this.S());this.xD.g("complete",function(){return a.F(!1)})};z.y(qq,z.R);qq.prototype.B=function(){qq.v.B.call(this);var a=(0,window.$)(".bind-email-notification-dialog-template").html();this.X(a)};qq.prototype.C=function(){qq.v.C.call(this);z.Zh(this,420);this.Ea("鎵嬫満鍙风粦瀹氭垚鍔�");this.wa=this.We();this.Db()};qq.prototype.D=function(){qq.v.D.call(this);z.V.trackEvent((0,window.$)(".js-reload",this.Ii),{action:"Cancel"});window.location.reload()};
qq.prototype.Db=function(){var a=(0,window.$)(this.Ii),b=(0,window.$)(".js-reload",this.Ii);b.click(function(){z.V.trackEvent(b,{action:"Cancel"});window.location.reload()});this.o().g(this,"beforeshow",function(){z.V.trackCardShow((0,window.$)(".bind-email-notification-dialog",a))})};z.y(z.rq,z.R);z.e=z.rq.prototype;z.e.B=function(){z.rq.v.B.call(this);var a=(0,window.$)(".bind-phone-dialog-template").html();this.X(a)};z.e.C=function(){z.rq.v.C.call(this);z.Zh(this,450);this.Ea("缁戝畾鎵嬫満");this.wa=(0,window.$)(this.We()).addClass("activate-dialog");this.Db()};
z.e.Db=function(){var a=this.wa;this.wj=(0,window.$)(".code-activate-view",a);this.o().g(this,"beforeshow",function(){z.V.trackCardShow((0,window.$)(".code-activate-view",a))});var b=(0,window.$)("form.send-code",this.wj),c=this.Pn=(0,window.$)("form.activate",this.wj),d=(0,window.$)(".submit",b);b.validate(window.$.extend({},YF,{submitHandler:z.Ci(d,window.$.proxy(this.BB,this))}));b=(0,window.$)(".submit",c);c.validate(window.$.extend({},YF,{submitHandler:z.Ci(b,window.$.proxy(this.pB,this))}));
var f=(0,window.$)("button.resend-code",c);this.$t(f,60,function(){var a=(0,window.$)('input[name\x3d"new_phone_no"]',c).val();if(""===a)return c.data("validator").showErrors({new_phone_no:"璇峰～鍐欐墜鏈�"}),!1;z.V.trackEvent(f,{action:"GetCaptcha"});window.$.ajax({url:"https://account.zhihu.com/api/account/phone_no",data:{new_phone_no:a},method:"POST",xhrFields:{withCredentials:!0},error:function(a){a=a.responseJSON.error.message;c.data("validator").showErrors({new_phone_no:a})}})})};
z.e.BB=function(a){var b=this,c=(0,window.$)(a);z.V.trackEvent((0,window.$)("form.send-code .submit",this.wj),{action:"GetCaptcha"});var d=c.Zb().new_phone_no;return window.$.ajax({url:"https://account.zhihu.com/api/account/phone_no",data:{new_phone_no:d},method:"POST",xhrFields:{withCredentials:!0},success:function(){c.hide();(0,window.$)('input[name\x3d"new_phone_no"]',b.Pn).val(d);b.Pn.show()},error:function(a){a=a.responseJSON.error.message;c.data("validator").showErrors({new_phone_no:a})}})};
z.e.pB=function(a){var b=this,c=(0,window.$)(a);z.V.trackEvent((0,window.$)("form.activate .submit",this.wj),{action:"Ok"});a=c.Zb();var d=a.new_phone_no;return window.$.ajax({type:"PUT",url:"https://account.zhihu.com/api/account/phone_no",data:{new_phone_no:d,digits:a.digits},xhrFields:{withCredentials:!0},error:function(a){a=a.responseJSON.error.message;return c.data("validator").showErrors({new_phone_no:a})},success:function(a){if(a=a.data){var c=a.binded_account_fullname;a=a.request_account_fullname;
b.F(!1);var h=z.T.confirm({title:"缁戝畾澶辫触",content:"\x3cp\x3e浣犳墍杈撳叆鐨勬墜鏈哄彿 "+d+" 宸茬粡琚粦瀹氬埌甯愬彿銆�"+c+"銆嶃€� \x3c/p\x3e\n    \x3cp\x3e浣犲彲浠ラ€夋嫨灏嗚鎵嬫満鍙蜂粠璇ュ笎鍙蜂腑瑙ｇ粦锛屽苟缁戝畾鑷冲綋鍓嶅笎鍙枫€�"+a+"銆嶃€� \x3c/p\x3e\n    \x3cp\x3e\x3cb\x3e瑙ｇ粦鍚庯紝浣犲皢鏃犳硶鍐嶉€氳繃鎵嬫満鍙风櫥褰曞師甯愬彿銆�"+c+"銆嶃€俓x3c/b\x3e\x3c/p\x3e",buttons:{yes:"鏆備笉缁戝畾",cancel:"纭缁戝畾"}},function(a){if(a)z.V.trackEvent((0,window.$)('[name\x3d"yes"]',h.m()),{action:"Click",name:"鏆備笉瑙ｇ粦"});else{z.V.trackEvent((0,window.$)('[name\x3d"cancel"]',h.m()),{action:"Click",name:"纭瑙ｇ粦"});var b=z.T.confirm({title:"瑙ｇ粦鎵嬫満",content:"\x3cp\x3e\x3cb\x3e瑙ｇ粦鎿嶄綔鏃犳硶鎾ら攢銆� \x3c/b\x3e\x3c/p\x3e\n\x3cp\x3e濡傛灉浣犳病鏈夊叾浠栫櫥褰曟柟寮忥紝浣犲皢鏃犳硶鍐嶄娇鐢ㄥ笎鍙枫€�"+
c+"銆嶃€俓x3c/p\x3e",buttons:{yes:"鏆備笉缁戝畾",cancel:"纭缁戝畾"}},function(a){a?z.V.trackEvent((0,window.$)('[name\x3d"yes"]',b.m()),{action:"Click",name:"鏆備笉缁戝畾"}):(z.V.trackEvent((0,window.$)('[name\x3d"cancel"]',b.m()),{action:"Click",name:"纭瑙ｇ粦"}),window.$.ajax({url:"https://account.zhihu.com/api/account/phone_no/cover",method:"POST",xhrFields:{withCredentials:!0},success:function(){z.Y.email&&!z.Y.activated?(new qq).F(!0):window.location.reload()}}))});z.V.Va(b.m(),{module:"BindPhoneVerifyForm"});z.V.trackCardShow(b.m())}});
z.V.Va(h.m(),{module:"BindPhoneFailForm"});z.V.trackCardShow(h.m())}else{if(z.Y.email&&!z.Y.activated)return(new qq).F(!0);b.X("缁戝畾鎵嬫満鎴愬姛銆備綘鍙互姝ｅ父浣跨敤鎻愰棶銆佸洖绛斻€佽瘎璁虹瓑鍔熻兘鍟︼紒");(0,window.setTimeout)(function(){window.location.reload()},1E3)}}})};z.e.$t=function(a,b,c){var d=a.text();a=z.Bi(a,b,function(a){return a?"%s 绉掑悗鍗冲彲閲嶅彂":d},window.$.proxy(c,this));z.Ac(this,a)};
var YF={onkeyup:!1,onfocusout:!1,validClass:"",focusInvalid:!1,highlight:z.r,messages:{account:{required:"璇峰～鍐欐墜鏈哄彿"},digits:{required:"璇峰～鍐欓獙璇佺爜"}},errorPlacement:function(a,b){var c=b.parent(".input-wrapper");a.appendTo(c).click(function(){b.focus()});b.focus(function(){a.remove()})}};z.Fr={digits:{required:"璇峰～鍐欐暟瀛楅獙璇佺爜"},password:{required:"璇峰～鍐欏瘑鐮�"},password_repeat:{required:"璇峰～鍐欏瘑鐮�"},email:{required:"璇峰～鍐欓偖绠�"},phone_no:{required:"璇峰～鍐欐墜鏈哄彿"}};z.y(sq,z.H);var tq=0;sq.prototype.Jg=function(){this.Dd("begin")};sq.prototype.Kg=function(){this.Dd("end")};sq.prototype.Dd=function(a){this.dispatchEvent(a)};z.y(uq,z.xc);z.e=uq.prototype;z.e.vb=0;z.e.D=function(){uq.v.D.call(this);this.stop();delete this.Dk;delete this.ea};z.e.start=function(a){this.stop();this.vb=z.vd(this.Nl,z.ja(a)?a:this.Eh)};z.e.stop=function(){this.Jc()&&z.wd(this.vb);this.vb=0};z.e.fire=function(){this.stop();this.ph()};z.e.Jc=function(){return 0!=this.vb};z.e.ph=function(){this.vb=0;this.Dk&&this.Dk.call(this.ea)};var xq={},yq=null;z.y(Cq,sq);z.e=Cq.prototype;z.e.rh=function(a){this.tj=a};z.e.play=function(a){if(a||this.N==tq)this.progress=0,this.coords=this.fr;else if(1==this.N)return!1;wq(this);this.startTime=a=(0,z.I)();-1==this.N&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.progress||this.Jg();this.Dd("play");-1==this.N&&this.Dd("resume");this.N=1;var b=z.ta(this);b in xq||(xq[b]=this);zq();Bq(this,a);return!0};
z.e.stop=function(a){wq(this);this.N=tq;a&&(this.progress=1);Dq(this,this.progress);this.Dd("stop");this.Kg()};z.e.pause=function(){1==this.N&&(wq(this),this.N=-1,this.Dd("pause"))};z.e.D=function(){this.N==tq||this.stop(!1);this.Dd("destroy");Cq.v.D.call(this)};z.e.destroy=function(){this.dispose()};z.e.qB=function(){this.Dd("animate")};z.e.Dd=function(a){this.dispatchEvent(new Eq(a,this))};z.y(Eq,z.Lc);var Kq={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var Lq=/#(.)(.)(.)/,Gq=/^#(?:[0-9a-f]{3}){1,2}$/i,Mq=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;z.y(Nq,Cq);z.e=Nq.prototype;z.e.ii=z.r;z.e.Ld=function(){z.ja(this.Rg)||(this.Rg=z.ch(this.element));return this.Rg};z.e.qB=function(){this.ii();Nq.v.qB.call(this)};z.e.Kg=function(){this.ii();Nq.v.Kg.call(this)};z.e.Jg=function(){this.ii();Nq.v.Jg.call(this)};z.y(Oq,Nq);Oq.prototype.ii=function(){var a=this.tj&&this.Ld()?"right":"left";this.element.style[a]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};z.y(Pq,Nq);
Pq.prototype.ii=function(){if(this.tj){var a=this.element,b=Math.round(this.coords[0]),b=Math.max(b,0);z.ch(a)?z.B?a.scrollLeft=-b:z.Ll&&z.E("8")?a.scrollLeft=b:a.scrollLeft=a.scrollWidth-b-a.clientWidth:a.scrollLeft=b}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};z.y(Qq,Nq);Qq.prototype.ii=function(){this.element.style.width=Math.round(this.coords[0])+"px"};z.y(Rq,Nq);
Rq.prototype.ii=function(){this.element.style.height=Math.round(this.coords[0])+"px"};z.y(Sq,Nq);var ZF=1/1024,Tq=-1;z.e=Sq.prototype;z.e.ii=function(){var a=this.coords[0];Math.abs(a-this.pu)>=ZF&&(z.$g(this.element,a),this.pu=a)};z.e.Jg=function(){this.pu=Tq;Sq.v.Jg.call(this)};z.e.Kg=function(){this.pu=Tq;Sq.v.Kg.call(this)};z.e.show=function(){this.element.style.display=""};z.e.hide=function(){this.element.style.display="none"};z.y(Uq,Sq);Uq.prototype.Jg=function(){this.show();Uq.v.Jg.call(this)};
Uq.prototype.Kg=function(){this.hide();Uq.v.Kg.call(this)};z.y(Vq,Sq);Vq.prototype.Jg=function(){this.show();Vq.v.Jg.call(this)};z.y(Wq,Nq);Wq.prototype.ii=function(){for(var a=[],b=0;b<this.coords.length;b++)a[b]=Math.round(this.coords[b]);a="rgb("+a.join(",")+")";this.element.style.backgroundColor=a};var $F={hidden:"visibilitychange",msHidden:"msvisibilitychange",mozHidden:"mozvisibilitychange",webkitHidden:"webkitvisibilitychange"},hr;a:{var aG=function(a,b){return b in window.document},bG;for(bG in $F)if(aG.call(void 0,0,bG)){hr=bG;break a}hr=void 0}var ir=$F[hr],gr=z.ja(hr);z.ur=function(a){return function(b){return b.replace(a,"")}}(/^鈦�+|鈦�+$/);z.nr.prototype.add=function(a,b){!1===this.UT?this.data.set(a,b):this.data.set((0,window.encodeURIComponent)(a),(0,window.encodeURIComponent)(b))};z.nr.prototype.Gd=function(){var a=[];z.A(this.data.Fd(),function(b){a.push(b+"\x3d"+this.data.get(b))},this);return a.join("\x26")};
z.Gr=function(){function a(a){return a.replace(/\\\\/g,"\\").replace(/\\'/g,"'")}var b={UY:{evaluate:/<%([\s\S]+?)%>/g,MT:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},escape:function(a){return(""+a).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#x27;").replace(/\//g,"\x26#x2F;")}},c=/.^/;return function(d,f){var g=b.UY,g="var __p\x3d[],print\x3dfunction(){__p.push.apply(__p,arguments);};with(data||{}){__p.push('"+d.replace(/\\/g,
"\\\\").replace(/'/g,"\\'").replace(g.escape||c,function(b,c){return"',_.escape("+a(c)+"),'"}).replace(g.MT||c,function(b,c){return"',"+a(c)+",'"}).replace(g.evaluate||c,function(b,c){return"');"+a(c).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",h=new Function("data","_",g);return f?h(f,b):function(a){return h.call(this,a,b)}}}();z.vr.defaults={paddingTop:0};var xr={offsetTop:0,paddingTop:0,jx:!1};
(0,window.$)(function(){xr.paddingTop=z.fh(window.document.body).top});z.cG=z.Wh(function(){return(+new Date).toString(32).slice(-5)+Math.random().toString(32).slice(-3)});z.x("ZH.ui.requestUnlock",z.Er);z.y(Hr,z.R);Hr.prototype.B=function(){Hr.v.B.call(this);var a=(0,window.$)(".bind-phone-confirmation-dialog-template").html();this.X(a)};Hr.prototype.C=function(){Hr.v.C.call(this);z.Zh(this,420);this.Ea("缁戝畾鎵嬫満");this.wa=this.We();this.Db()};
Hr.prototype.Db=function(){var a=this,b=z.Z.TK?"鏆備笉缁戝畾":"鍙栨秷";(0,window.$)(".bind-phone-tip",this.Ii).text(z.Z.jX);var c=(0,window.$)(".not-to-bind-phone",this.Ii);c.text(b).click(function(){a.F(!1);z.V.trackEvent(c,{action:"Cancel",name:b})});var d=(0,window.$)(".go-to-bind-phone",this.Ii);d.click(function(){z.V.trackEvent(d,{action:"OpenUrl",name:"鍘荤粦瀹氭墜鏈�"});a.F(!1);z.Z.eC?(new z.rq).F(!0):z.Er().then(function(){(new z.rq).F(!0)})});this.o().g(this,"beforeshow",function(){z.V.trackCardShow((0,window.$)(".bind-phone-confirmation-dialog",
a.Ii))})};z.y(z.Jr,z.hj);z.Jr.prototype.CM=function(){return Kr(this)};z.ka(Mr);z.e=Mr.prototype;z.e.Gf=function(){return this.nx};z.e.B=function(a){return a.L().B("DIV",this.wg(a).join(" "))};z.e.S=function(a){return a};z.e.Tb=function(a){return"DIV"==a.tagName};z.e.w=function(a,b){b.id&&An(a,b.id);var c=this.V(),d=!1,f=z.yg(b);f&&z.A(f,function(b){b==c?d=!0:b&&(b==c+"-disabled"?a.gb(!1):b==c+"-horizontal"?a.setOrientation(z.dG):b==c+"-vertical"&&a.setOrientation(Pz))},this);d||z.Ag(b,c);Or(this,a,this.S(b));return b};
z.e.Ro=function(a){a:{var b;a=z.yg(a);for(var c=0,d=a.length;c<d;c++)if(b=a[c],b=b in Jp?Jp[b]():null){a=b;break a}a=null}return a};z.e.af=function(a){a=a.m();z.fo(a,!0,z.B);z.C&&(a.hideFocus=!0);var b=this.Gf();b&&z.ug(a,b)};z.e.lc=function(a){return a.m()};z.e.V=function(){return"goog-container"};z.e.wg=function(a){var b=this.V(),c=[b,a.Yb==z.dG?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};z.e.dH=function(){return Pz};var Pz;z.y(z.Pr,z.Q);z.dG="horizontal";Pz="vertical";z.e=z.Pr.prototype;z.e.HA=null;z.e.Fb=null;z.e.M=null;z.e.Yb=null;z.e.yb=!0;z.e.rc=!0;z.e.Zy=!0;z.e.$a=-1;z.e.wc=null;z.e.Sf=!1;z.e.HO=!1;z.e.pW=!0;z.e.jh=null;z.e.lc=function(){return this.HA||this.M.lc(this)};z.e.vt=function(){return this.Fb||(this.Fb=new zp(this.lc()))};z.e.B=function(){this.h=this.M.B(this)};z.e.S=function(){return this.M.S(this.m())};z.e.Tb=function(a){return this.M.Tb(a)};
z.e.T=function(a){this.h=this.M.w(this,a);"none"==a.style.display&&(this.yb=!1)};z.e.C=function(){z.Pr.v.C.call(this);z.Ch(this,function(a){a.Aa&&Rr(this,a)},this);var a=this.m();this.M.af(this);this.F(this.yb,!0);this.o().g(this,"enter",this.Cz).g(this,"highlight",this.Fz).g(this,"unhighlight",this.Pz).g(this,"open",this.zS).g(this,"close",this.yz).g(a,"mousedown",this.ze).g(z.Ke(a),"mouseup",this.LR).g(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.DR);this.Dg()&&Qr(this,!0)};
z.e.Cb=function(){this.Hb(-1);this.wc&&this.wc.Mb(!1);this.Sf=!1;z.Pr.v.Cb.call(this)};z.e.D=function(){z.Pr.v.D.call(this);this.Fb&&(this.Fb.dispose(),this.Fb=null);this.M=this.wc=this.jh=this.HA=null};z.e.Cz=function(){return!0};z.e.Fz=function(a){var b=yn(this,a.target);if(-1<b&&b!=this.$a){var c=Sr(this);c&&c.Yc(!1);this.$a=b;c=Sr(this);this.Sf&&c.setActive(!0);this.pW&&this.wc&&c!=this.wc&&(Ep(c,64)?c.Mb(!0):this.wc.Mb(!1))}b=this.m();null!=a.target.m()&&z.vg(b,"activedescendant",a.target.m().id)};
z.e.Pz=function(a){a.target==Sr(this)&&(this.$a=-1);this.m().removeAttribute("aria-activedescendant")};z.e.zS=function(a){(a=a.target)&&a!=this.wc&&a.getParent()==this&&(this.wc&&this.wc.Mb(!1),this.wc=a)};z.e.yz=function(a){a.target==this.wc&&(this.wc=null);var b=this.m(),c=a.target.m();b&&a.target.N&2&&c&&so(b,c)};z.e.ze=function(a){this.rc&&(this.Sf=!0);var b=this.lc();b&&on(b)?b.focus():a.preventDefault()};z.e.LR=function(){this.Sf=!1};
z.e.DR=function(a){var b;a:{b=a.target;if(this.jh)for(var c=this.m();b&&b!==c;){var d=b.id;if(d in this.jh){b=this.jh[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.ze(a);break;case "mouseup":b.Mf(a);break;case "mouseover":b.Id(a);break;case "mouseout":b.wm(a);break;case "contextmenu":b.cp(a)}};z.e.ye=function(){};z.e.od=function(){this.Hb(-1);this.Sf=!1;this.wc&&this.wc.Mb(!1)};
z.e.mc=function(a){return this.isEnabled()&&this.W()&&(0!=z.Ah(this)||this.HA)&&this.Lf(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
z.e.Lf=function(a){var b=Sr(this);if(b&&"function"==typeof b.mc&&b.mc(a)||this.wc&&this.wc!=b&&"function"==typeof this.wc.mc&&this.wc.mc(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Dg())this.lc().blur();else return!1;break;case 36:z.Tr(this);break;case 35:Vr(this);break;case 38:if(this.Yb==Pz)Xr(this);else return!1;break;case 37:if(this.Yb==z.dG)this.Ld()?Wr(this):Xr(this);else return!1;break;case 40:if(this.Yb==Pz)Wr(this);else return!1;break;
case 39:if(this.Yb==z.dG)this.Ld()?Xr(this):Wr(this);else return!1;break;default:return!1}return!0};z.e.K=function(a,b){z.Pr.v.K.call(this,a,b)};z.e.zl=function(a,b,c){a.cl|=2;a.cl|=64;!this.Dg()&&this.HO||a.fc(32,!1);a.Vq(!1);var d=a.getParent()==this?yn(this,a):-1;z.Pr.v.zl.call(this,a,b,c);a.Aa&&this.Aa&&Rr(this,a);a=d;-1==a&&(a=z.Ah(this));a==this.$a?this.$a=Math.min(z.Ah(this)-1,b):a>this.$a&&b<=this.$a?this.$a++:a<this.$a&&b>this.$a&&this.$a--};
z.e.removeChild=function(a,b){if(a=z.oa(a)?z.yh(this,a):a){var c=yn(this,a);-1!=c&&(c==this.$a?(a.Yc(!1),this.$a=-1):c<this.$a&&this.$a--);(c=a.m())&&c.id&&this.jh&&z.Kb(this.jh,c.id)}a=z.Pr.v.removeChild.call(this,a,b);a.Vq(!0);return a};z.e.setOrientation=function(a){if(this.m())throw Error("Component already rendered");this.Yb=a};z.e.W=function(){return this.yb};
z.e.F=function(a,b){if(b||this.yb!=a&&this.dispatchEvent(a?"show":"hide")){this.yb=a;var c=this.m();c&&(z.P(c,a),this.Dg()&&Nr(this.lc(),this.rc&&this.yb),b||this.dispatchEvent(this.yb?"aftershow":"afterhide"));return!0}return!1};z.e.isEnabled=function(){return this.rc};
z.e.gb=function(a){this.rc!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.rc=!0,z.Ch(this,function(a){a.WM?delete a.WM:a.gb(!0)})):(z.Ch(this,function(a){a.isEnabled()?a.gb(!1):a.WM=!0}),this.Sf=this.rc=!1),this.Dg()&&Nr(this.lc(),a&&this.yb))};z.e.Dg=function(){return this.Zy};z.e.lf=function(a){a!=this.Zy&&this.Aa&&Qr(this,a);this.Zy=a;this.rc&&this.yb&&Nr(this.lc(),a)};z.e.Hb=function(a){(a=z.Bh(this,a))?a.Yc(!0):-1<this.$a&&Sr(this).Yc(!1)};z.e.Yc=function(a){this.Hb(yn(this,a))};
z.e.nF=function(a){return a.W()&&a.isEnabled()&&Ep(a,2)};z.y(Yr,z.Q);Yr.prototype.Ja=function(a){this.rw.push(a);a.xb(this)};Yr.prototype.C=function(){Yr.v.C.call(this);this.o().g(this,"toggle",this.QS)};Yr.prototype.QS=function(a){z.A(this.rw,function(b){a.target!==b&&b.pd()&&b.Lc(!1,!0)},this)};Yr.prototype.D=function(){Yr.v.D.call(this);z.A(this.rw,function(a){a.dispose()},this);this.rw=[]};z.Zr.prototype.fj=function(a,b,c){if(this.JD){var d=this.Oa,f=$r(a,b,d);0==f.length&&(f=as(a,b,d));b=f}else b=$r(a,b,this.Oa);c(a,b)};var cs,es;z.y(z.bs,z.H);z.e=z.bs.prototype;z.e.Fk=10;z.e.fo=!0;z.e.JE=!1;z.e.bN=!1;z.e.uM=!1;cs="hilite";z.ds="select";z.fs="dismiss";es="canceldismiss";z.e=z.bs.prototype;z.e.getToken=function(){return this.ic};z.e.handleEvent=function(a){var b=this.ae;if(a.target==this.M)switch(a.type){case cs:this.Bg(a.gj);break;case z.ds:var c=!1;if(z.pa(a.gj)){a=a.gj;var d=this.Oa[js(this,a)],c=!!d&&b.DA&&b.DA(d);d&&!c&&this.Bh!=a&&this.Bg(a)}c||this.ij();break;case es:z.is(this);break;case z.fs:this.Rj()}};
z.e.Zq=function(a,b){this.ic!=a&&(this.ic=a,this.ae.fj(this.ic,this.Fk,(0,z.t)(this.FU,this),b),z.is(this))};z.e.sz=function(){return this.Nc};z.e.Eb=function(){return this.M.W()};z.e.Bg=function(a){var b=js(this,a),c=this.Oa[b];return c&&this.ae.DA&&this.ae.DA(c)?!1:(this.Bh=a,this.M.Bg(a),-1!=b)};
z.e.ij=function(){var a=js(this,this.Bh);if(-1!=a){var b=this.Oa[a],c=this.Zf.jj(b);this.uM?(this.ic=null,this.Rj()):this.Rc();c||(this.dispatchEvent({type:"update",gj:b,index:a}),this.uM&&this.Zf.update(!0));return!0}this.Rc();this.dispatchEvent({type:"update",gj:null,index:null});return!1};z.e.Rc=function(){this.Bh=-1;this.ic=null;this.kd+=this.Oa.length;this.Oa=[];window.clearTimeout(this.pe);this.pe=null;this.M.Rc();this.dispatchEvent("suggestionsupdate");this.dispatchEvent(z.fs)};
z.e.Rj=function(){this.pe||(this.pe=window.setTimeout((0,z.t)(this.Rc,this),100))};z.e.hI=function(){return this.pe?(window.clearTimeout(this.pe),this.pe=null,!0):!1};z.e.D=function(){z.bs.v.D.call(this);delete this.sI;this.M.dispose();this.Zf.dispose();this.ae=null};z.e.FU=function(a,b,c){this.ic==a&&this.gn(b,c)};
z.e.gn=function(a,b){var c="object"==z.la(b)&&b,d=(c?c.q0():b)?js(this,this.Bh):-1;this.kd+=this.Oa.length;this.Oa=a;for(var f=[],g=0;g<a.length;++g)f.push({id:this.kd+g,data:a[g]});g=null;this.Nc&&(g=this.sI[z.ta(this.Nc)]||this.Nc);this.M.LE=g;this.M.gn(f,this.ic,this.Nc);g=this.fo;c&&void 0!==c.gR()&&(g=c.gR());this.Bh=-1;(g||0<=d)&&0!=f.length&&this.ic&&(0<=d?this.Bg(this.kd+d):z.gs(this));this.dispatchEvent("suggestionsupdate")};z.e.Dl=function(a){var b=this.Zf;b.Dl.apply(b,arguments)};
z.e.update=function(a){this.Zf.update(a)};z.y(z.ps,z.xc);var eG=(z.Zk||z.ai)&&!z.E("533.17.9");z.e=z.ps.prototype;z.e.QZ=!0;z.e.eR=!0;z.e.FM=!1;z.e.nY=!0;z.e.mY=!0;z.e.Vw=null;z.e.ob=null;z.e.Vp="";z.e.uj=!1;z.e.tC=!1;z.e.BM=!0;z.e.qt=function(){return this.Z};z.e.lm=function(){return this.ob};z.e.Y=function(){return this.ob.value};z.e.Fa=function(a){this.ob.value=a};
z.e.gs=function(a){z.lf(a)&&(z.ug(a,"combobox"),z.vg(a,"autocomplete","list"));this.qc.g(a,"focus",this.ye);this.qc.g(a,"blur",this.od);this.ob||(this.Sw.g(a,"keydown",this.BV),z.lf(a)&&nn(z.Ke(a))==a&&vs(this,a))};z.e.Dl=function(a){for(var b=0;b<arguments.length;b++)this.gs(arguments[b])};z.e.jj=function(a,b){this.ob&&qs(this,a.toString(),b);return!1};
z.e.D=function(){z.ps.v.D.call(this);null!=this.Vw&&window.clearTimeout(this.Vw);this.qc.dispose();delete this.qc;this.Sw.dispose();this.Fb.dispose();z.Cc(this.la)};
z.e.mc=function(a){switch(a.keyCode){case 40:if(this.Z.Eb())return this.FM?hs(this.Z):z.gs(this.Z),a.preventDefault(),!0;if(!this.Rm)return this.update(!0),a.preventDefault(),!0;break;case 38:if(this.Z.Eb())return this.FM?z.gs(this.Z):hs(this.Z),a.preventDefault(),!0;break;case 9:if(!this.Z.Eb()||a.shiftKey||this.ZW)this.Z.Rc();else if(this.update(),this.Z.ij()&&this.YW)return a.preventDefault(),!0;break;case 13:if(this.Z.Eb()){if(this.update(),this.Z.ij())return a.preventDefault(),a.stopPropagation(),
!0}else this.Z.Rc();break;case 27:if(this.Z.Eb())return this.Z.Rc(),a.preventDefault(),a.stopPropagation(),!0;break;case 229:if(!this.uj)return this.uj||(this.qc.g(this.ob,"keyup",this.cK),this.qc.g(this.ob,"keypress",this.bK),this.uj=!0),!0;break;default:this.la&&!this.BM&&(this.la.stop(),this.la.start())}return ts(this,a)};z.e.Gt=function(){return!1};z.e.ye=function(a){vs(this,a.target||null)};z.e.od=function(){eG?this.Vw=window.setTimeout((0,z.t)(this.IK,this),0):this.IK()};
z.e.IK=function(){this.ob&&(this.qc.pa(this.Fb,"key",this.tq),this.Fb.detach(),this.qc.pa(this.ob,"keyup",this.Gt),this.qc.pa(this.ob,"mousedown",this.dK),z.C&&this.qc.pa(this.ob,"keypress",this.aK),this.uj&&ws(this),this.ob=null,this.la&&(this.la.stop(),this.qc.pa(this.la,"tick",this.wq)),this.Z&&this.Z.Rj())};z.e.wq=function(){this.update()};z.e.BV=function(a){this.ye(a)};z.e.tq=function(a){this.XI=a.keyCode;this.Z&&this.mc(a)};z.e.bK=function(){this.uj&&229!=this.XI&&ws(this)};
z.e.cK=function(a){this.uj&&(13==a.keyCode||77==a.keyCode&&a.ctrlKey)&&ws(this)};z.e.dK=function(a){this.Z&&this.ze(a)};z.e.ze=function(){};z.e.aK=function(a){ts(this,a)};z.e.update=function(a){if(this.ob&&(a||this.Y()!=this.Vp)){if(a||!this.tC){a=z.ks(this.ob)[0];var b=this.Y();a=ss(this,b)[rs(this,b,a)];a=this.vM?String(a).replace(this.vM,""):a;this.Z&&(this.Z.Nc=this.ob,this.Z.Zq(a,this.Y()))}this.Vp=this.Y()}this.tC=!1};z.y(z.xs,z.xc);z.e=z.xs.prototype;z.e.AJ="GET";z.e.Fc=void 0;z.e.cT=null;z.e.PA=null;z.e.IC=function(a){this.AJ=a};z.e.X=function(a){this.Fc=a};z.e.VZ=function(a,b,c){c=z.se(c.target);var d=[];if(c)try{d=Fo(c)}catch(f){}b(a,d)};
z.e.fj=function(a,b,c){var d,f=this.JD;d=new z.oj(this.CD);z.qj(d);d.Ee.set("token",a);b=String(b);z.qj(d);d.Ee.set("max_matches",b);f=String(Number(f));z.qj(d);d.Ee.set("use_similar",f);if(d=d.toString())a=(0,z.t)(this.VZ,this,a,c),this.da.Jc()&&this.da.abort(),this.PA&&z.nd(this.PA),this.PA=z.ld(this.da,"success",a),this.da.send(d,this.AJ,this.Fc,this.cT)};z.e.D=function(){this.da.dispose();z.xs.v.D.call(this)};z.y(z.Cs,z.H);z.e=z.Cs.prototype;z.e.m=function(){return this.h};z.e.Ug=function(a){this.KM=a};z.e.pt=function(){return this.LE};z.e.gn=function(a,b,c){this.ic=b;this.Oa=a;this.Em=-1;this.RL=(0,z.I)();this.Nc=c;this.kf=[];Gs(this)};z.e.Rc=function(){this.yb&&(this.yb=!1,Ds(this,!1),0<this.fq?(z.Cc(this.Bl),this.Bl=new Uq(this.h,this.fq),this.Bl.play()):z.P(this.h,!1))};
z.e.show=function(){this.yb||(this.yb=!0,Ds(this,!0),0<this.fq?(z.Cc(this.Bl),this.Bl=new Vq(this.h,this.fq),this.Bl.play()):z.P(this.h,!0))};z.e.W=function(){return this.yb};z.e.Bg=function(a){if(-1==a)Es(this,-1);else for(var b=0;b<this.Oa.length;b++)if(this.Oa[b].id==a){Es(this,b);break}};
z.e.ga=function(){if(this.Nc&&this.Iq){var a=this.LE||this.Nc,b;b=this.OX?3:1;this.cw&&(b^=1);var c=65;this.KL&&(this.h.style.height="",c|=32);z.ys(a,b,this.h,b^1,null,null,c);this.cw&&(this.h.style.visibility="visible")}};z.e.sz=function(){return this.Nc||null};z.e.D=function(){this.h&&(z.md(this.h,"click",this.tm,!1,this),z.md(this.h,"mousedown",this.um,!1,this),z.md(this.h,"mouseover",this.AH,!1,this),this.ca.removeNode(this.h),this.h=null,this.yb=!1);z.Cc(this.Bl);this.Wa=null;z.Cs.v.D.call(this)};
z.e.aL=function(a,b,c){z.of(c,a.data.toString())};z.e.tm=function(a){var b=Ks(this,a.target);0<=b&&this.dispatchEvent({type:z.ds,gj:this.Oa[b].id});a.stopPropagation()};z.e.um=function(a){a.stopPropagation();a.preventDefault()};z.e.AH=function(a){a=Ks(this,a.target);0<=a&&!(300>(0,z.I)()-this.RL)&&this.dispatchEvent({type:cs,gj:this.Oa[a].id})};z.y(z.Ls,z.bs);z.Ls.prototype.Ug=function(a){this.M.Ug(a)};z.Ls.prototype.IC=function(a){this.ae.IC(a)};z.Ls.prototype.X=function(a){this.ae.X(a)};z.y(z.Ms,z.Ls);z.Ms.prototype.defaults={source:"",Ce:10,JZ:!1,filter:null,format:null,qA:null,delay:300,separator:null,oQ:null,multiple:!1,dj:null,H0:null,placeholder:"",sd:null,render:null};z.Ms.prototype.defaults.format=function(a){return function(b,c){return(0,z.ab)(c)&&z.ma(b)?z.ma(b[0])?z.mb(b[0].slice(1),a,this):b:[]}}(function(a){var b;return(b=fG[this.J.source])||(b=fG[gG][a[0]])?b(a):a});var gG="/autocomplete",fG={};
fG[gG]={topic:function(a){return{type:a[0],name:a[1],url_token:a[2],avatar:a[3],id:a[4],answers:a[6],alias:a[7],raw:a,value:a[4],label:a[1]}},question:function(a){return{type:a[0],title:a[1],id:a[2],url_token:a[3],answers:a[4],is_star:!!a[5],raw:a,label:a[1],value:a[2]}},people:function(a){return{type:a[0],fullname:a[1],url_token:a[2],avatar:a[3],id:a[4],headline:a[5],badges:a[6],raw:a,label:a[1],value:a[4]}},search_link:function(a){return{type:a[0],raw:a,label:a[1],value:a[1]}}};
fG["/topic/autocomplete"]=function(a){return{type:a[0],name:a[1],url_token:a[2],avatar:a[3],id:a[4],followers:a[5],alias:a[6],label:a[1]}};fG["/question/autocomplete"]=function(a){return{type:a[0],title:a[1],id:a[2],url_token:a[3],is_duplicated:Boolean(+a[4]),answer_count:a[5],raw:a,label:a[1],value:a[2]}};z.y(Ns,z.ps);Ns.prototype.od=z.r;Ns.prototype.mc=z.r;Ns.prototype.jj=function(){return!1};z.y(z.Os,z.H);z.e=z.Os.prototype;z.e.GC=function(a){this.aI=a};z.e.EC=z.m(30);z.e.init=function(){if(!this.CI){for(var a=0,b=this.hd.length;a<b;a++)for(var c=z.gf(this.hd[a]),d=0,f=c.length;d<f;++d){var g=c[d],h=g,k=z.ta(h);this.xy[k]=g;this.yy&&(this.U.g(g,"mouseover",this.SR),this.U.g(g,"mouseout",this.RR));this.uG&&(this.U.g(h,"mouseover",this.QR),this.U.g(h,"mouseout",this.PR));this.am.push(g);this.U.g(h,["mousedown","touchstart"],this.ES)}this.CI=!0}};
z.e.D=function(){this.U.dispose();for(var a=0,b=this.hd.length;a<b;a++){var c=this.hd[a];c.sG=void 0;c.Sj=void 0}this.hd.length=0;this.am.length=0;this.xy=null;Ss(this);z.Os.v.D.call(this)};
z.e.ES=function(a){var b=z.ta(a.currentTarget);this.Qa=this.xy[b];a:{for(var b=this.Qa,c=b.cloneNode(!0),d=b.getElementsByTagName("TEXTAREA"),f=c.getElementsByTagName("TEXTAREA"),g=0;g<d.length;g++)f[g].value=d[g].value;switch(b.tagName){case "TR":b=z.M("TABLE",null,z.M("TBODY",null,c));break a;case "TD":case "TH":b=z.M("TABLE",null,z.M("TBODY",null,z.M("TR",null,c)));break a;case "TEXTAREA":c.value=b.value;default:b=c}}this.Sc=b;this.vG&&z.Bg(this.Sc,this.vG||[]);this.Sc.style.margin="0";this.Sc.style.position=
"absolute";this.Sc.style.visibility="hidden";z.Ke(this.Qa).body.appendChild(this.Sc);b=z.In(this.Qa);ho(this.Sc,b);this.Ub=new z.mh(this.Sc);this.Ub.GC(this.aI);z.G(this.Ub,"start",this.Az,!1,this);z.G(this.Ub,"end",this.NR,!1,this);z.G(this.Ub,"earlycancel",this.Px,!1,this);this.Ub.zn(a)};
z.e.Az=function(a){if(this.dispatchEvent(new $s("beforedragstart",0,a.kF,this.Qa,0,null))){this.$u=this.Qa.parentNode;this.TF=this.FB=Ao(this.Qa);this.gy=this.$u;this.fy?z.Bg(this.Qa,this.fy||[]):this.Qa.style.visibility="hidden";var b=z.Yg(this.Sc);this.Sc.rR=b.width/2;this.Sc.qR=b.height/2;this.Sc.style.visibility="";this.AD&&(this.Qa.style.display="none");Rs(this,this.Qa);this.Qa.style.display="";z.G(this.Ub,"drag",this.UR,!1,this);this.dispatchEvent(new $s("dragstart",0,a.kF,this.Qa,0,this.Ub))}else a.preventDefault(),
this.Px()};
z.e.UR=function(a){var b=z.In(this.Sc),b=new z.Ge(b.x+this.Sc.rR,b.y+this.Sc.qR),c;a:{c=null;if("none"!=this.Qa.style.display){c=this.Qa.parentNode;var d=go(c);if(Ts(b,d))break a}for(var d=0,f=this.hd.length;d<f;d++){var g=this.hd[d];if(g!=c&&Ts(b,g.$l)){c=g;break a}}c=null}var h;if(c){if(null==c)throw Error("getHoverNextItem_ called with null hoverList.");var k,l,d=!1,f=void 0;switch(c.sG){case 0:h=b.y;k=Vs;l=Ys;break;case 4:d=!0;case 2:h=b.x;k=Ws;l=Ys;break;case 5:d=!0;case 3:h=b.x,k=Xs,l=Zs}for(var g=
null,n,q=z.gf(c),v=0,F=q.length;v<F;v++){var K=q[v];if(K!=this.Qa){var O=k(K.$l);if(d){var ca=Us(K,b);z.ja(f)||(f=ca);l(h,O)&&(void 0==n||ca<f||ca==f&&(l(O,n)||O==n))&&(g=K,n=O);ca<f&&(f=ca)}else l(h,O)&&(void 0==n||l(O,n))&&(g=K,n=O)}}h=null!==g&&Us(g,b)>f?null:g}else h=null;if(!this.dispatchEvent(new $s("beforedragmove",0,a,this.Qa,0,this.Ub)))return!1;if(c)this.AD?this.Qa.parentNode==c&&Ao(this.Qa)==h||c.insertBefore(this.Qa,h):h&&(this.TF=h),this.Qa.style.display="",c.Sj&&z.Ag(c,c.Sj);else for(this.QT||
(this.Qa.style.display="none"),h=0,k=this.hd.length;h<k;h++)l=this.hd[h],l.Sj&&z.Cg(l,l.Sj);c!=this.gy&&(this.gy=c,Rs(this,this.Qa));this.dispatchEvent(new $s("dragmove",0,a,this.Qa,0,this.Ub));return!1};z.e.Px=function(){Ss(this);this.Ub=this.Sc=this.FB=this.$u=this.gy=this.Qa=null;for(var a=0,b=this.hd.length;a<b;a++)this.hd[a].$l=null;a=0;for(b=this.am.length;a<b;a++)this.am[a].$l=null};
z.e.NR=function(a){if(!this.dispatchEvent(new $s("beforedragend",0,a,this.Qa,0,this.Ub)))return!1;this.AD||this.$u.insertBefore(this.Qa,this.TF);Ss(this);this.dispatchEvent(new $s("dragend",0,a,this.Qa,0,this.Ub));this.Px();return!0};z.e.SR=function(a){z.Bg(a.currentTarget,this.yy||[])};z.e.RR=function(a){z.Dg(a.currentTarget,this.yy||[])};z.e.QR=function(a){z.Bg(a.currentTarget,this.uG||[])};z.e.PR=function(a){z.Dg(a.currentTarget,this.uG||[])};z.y($s,z.Lc);var ct;z.y(z.at,z.Q);z.e=z.at.prototype;z.e.ug=null;z.e.lU=10;z.e.ym=!1;z.e.B=function(){this.h=this.L().B("INPUT",{type:"text"})};z.e.T=function(a){z.at.v.T.call(this,a);this.Xb||(this.Xb=a.getAttribute("label")||"");nn(z.Ke(a))==a&&(this.ym=!0,z.Cg(this.m(),this.Rp));bt()&&(this.m().placeholder=this.Xb);z.vg(this.m(),"label",this.Xb)};
z.e.C=function(){z.at.v.C.call(this);var a=new z.xd(this);a.g(this.m(),"focus",this.xH);a.g(this.m(),"blur",this.vz);bt()?this.U=a:(z.B&&a.g(this.m(),["keypress","keydown","keyup"],this.aS),a.g(z.Te(z.Ke(this.m())),"load",this.XS),this.U=a,dt(this));this.zi();this.m().kU=this};z.e.Cb=function(){z.at.v.Cb.call(this);this.U&&(this.U.dispose(),this.U=null);this.m().kU=null};z.e.D=function(){z.at.v.D.call(this);this.U&&(this.U.dispose(),this.U=null)};z.e.Rp="label-input-label";
z.e.xH=function(){this.ym=!0;z.Cg(this.m(),this.Rp);if(!bt()&&!et(this)&&!this.oT){var a=this,b=function(){a.m()&&(a.m().value="")};z.C?z.vd(b,10):b()}};z.e.vz=function(){bt()||(this.U.pa(this.m(),"click",this.xH),this.ug=null);this.ym=!1;this.zi()};z.e.aS=function(a){27==a.keyCode&&("keydown"==a.type?this.ug=this.m().value:"keypress"==a.type?this.m().value=this.ug:"keyup"==a.type&&(this.ug=null),a.preventDefault())};z.e.eS=function(){et(this)||(this.m().value="",z.vd(this.wR,10,this))};
z.e.wR=function(){et(this)||(this.m().value=this.Xb)};z.e.XS=function(){this.zi()};z.e.hasFocus=function(){return this.ym};z.e.clear=function(){this.m().value="";null!=this.ug&&(this.ug="")};z.e.reset=function(){et(this)&&(this.clear(),this.zi())};z.e.Fa=function(a){null!=this.ug&&(this.ug=a);this.m().value=a;this.zi()};z.e.Y=function(){return null!=this.ug?this.ug:et(this)?this.m().value:""};
z.e.zi=function(){var a=this.m();bt()?this.m().placeholder!=this.Xb&&(this.m().placeholder=this.Xb):dt(this);z.vg(a,"label",this.Xb);et(this)?(a=this.m(),z.Cg(a,this.Rp)):(this.oT||this.ym||(a=this.m(),z.Ag(a,this.Rp)),bt()||z.vd(this.JX,this.lU,this))};z.e.gb=function(a){this.m().disabled=!a;z.po(this.m(),this.Rp+"-disabled",!a)};z.e.isEnabled=function(){return!this.m().disabled};z.e.JX=function(){!this.m()||et(this)||this.ym||(this.m().value=this.Xb)};var BD={oH:function(a,b){return window.$.get(b?"/node/AnswerFullVoteInfoV2":"/node/AnswerVoteInfoV2",{params:{answer_id:a}})},Ln:function(a,b){return window.$.post("/node/AnswerVoteBarV2",{method:b,params:{answer_id:a}},function(a){a&&a.r&&1991832!==a.errcode&&z.T.alert("\x3cp\x3e"+a.msg+"\x3c/p\x3e")})},DC:function(a,b){return window.$.post("/node/AnswerMetaV2",{method:"set_copyright",params:{answer_id:a,copyright_status:Number(b)}})}};z.y(kt,z.ps);kt.prototype.jj=function(a){var b=kt.v.jj.call(this,a);a.select(this.Z.sz());return b};z.y(lt,z.xs);lt.prototype.bX=["鏍硅瘽棰�","鏈綊绫昏瘽棰�"];lt.prototype.pn=function(a){this.sC=a};lt.prototype.fj=function(a,b,c){var d=(0,z.t)(function(a,b){for(var d=[],k,l=0;l<b.length;l++)for(var n=1;n<b[l].length;n++){k=b[l][n];var q=!0;this.NG&&z.A(this.bX,function(a){k[2]===a&&(q=!1)});q&&d.push(k)}this.sC&&(d=this.sC(d,a));c(a,d)},this);lt.v.fj.call(this,a,b,d);this.Z.dispatchEvent({type:hG})};z.y(mt,z.ps);z.e=mt.prototype;
z.e.jj=function(a){var b=kt.v.jj.call(this,a),c=this.Z.sz(),d=this.qt();d.tL=a;d.dispatchEvent("select");c.value="";return b};z.e.Fa=function(){};z.e.update=z.zr(300,function(a){var b=z.ar(this.Y());!b||"鎼滅储鐢ㄦ埛"===b||"鎼滅储璇濋"===b||"鍦ㄨ繖閲岃緭鍏ラ棶棰�"===b||z.rb(this.Z.My||[],b)||(b?(0,window.unescape)((0,window.encodeURIComponent)(b)).length:0)<this.BJ||b===this.lJ?(this.Z.Rj(),this.Vp=b):(this.lJ=null,this.Z.dispatchEvent({type:iG}),mt.v.update.call(this,a))},!1);
z.e.ye=function(a){this.Z&&z.is(this.Z);a.target!==this.ob&&(this.ob=a.target||null,this.la&&(this.la.start(),this.qc.g(this.la,"tick",this.wq)),this.Vp=this.Y(),us(this));this.la&&this.la.start();this.update(!0)};z.e.od=function(){this.la&&this.la.stop();this.Z&&this.Z.Rj()};
z.e.mc=function(a){if(13===a.keyCode){if(this.Z.Eb()){if(this.Z.ij())return a.preventDefault(),a.stopPropagation(),!0;a.preventDefault();a.stopPropagation();this.Z.ic="";this.Z.Rc();this.update(!0);return!1}a.stopPropagation();a.preventDefault();return!1}mt.v.mc.call(this,a)};z.e.gs=function(a){mt.v.gs.call(this,a);this.qc.g(a,"mousedown",function(a){a.stopPropagation();return!0})};z.y(nt,mt);nt.prototype.jj=function(a){var b=this.qt();b.tL=a;b.dispatchEvent("select");return!1};z.y(z.ot,z.Ls);
var iG="before_update",hG="before_request";z.e=z.ot.prototype;z.e.mG=!0;z.e.BX=function(a,b,c){z.Od(c,function(a){a=Hs(this,a,this.ic);this.ca.appendChild(this.h,a)},a);z.ef(a.h,a.ca.B("div","zh-question-suggest-info",[a=a.ca.B("a",{href:"javascript:;",title:"鍏抽棴",name:"close",id:"zh-question-suggest-info-close"},[a.ca.B("span","x-m"),"涓嶆槸"]),"鎮ㄦ兂闂殑鏄笉鏄笅闈㈢殑闂锛�"]),0);z.G(a,"click",function(){var a=this.Zf;a.od();this.Rc();a.lJ=a.Y()},!1,this)};
z.e.DX=function(a,b,c){0===c.length?this.Rc():(z.Od(c,function(a){a=Hs(this,a,this.ic);this.ca.appendChild(this.h,a)},a),b=a.ca.B("div","zh-question-topic-autocomplete-plaintext",["寤鸿娣诲姞鐨勮瘽棰�",a.ca.B("span","x-m")]),z.ef(a.h,b,0),z.Z.fb&&z.G(b,"click",function(){this.Zf.od();this.Rc()},!1,this))};z.e.zg=function(){return this.tL};z.e.pn=function(a){this.ae.pn(a)};z.e.Rc=function(){if(this.mG)return z.ot.v.Rc.call(this)};z.e.ij=function(){return-1===js(this,this.Bh)?!1:z.ot.v.ij.call(this)};
z.e.Rj=function(){z.Z.fb?z.ld(window.document,"click",(0,z.t)(this.Rc,this)):z.ot.v.Rj.call(this)};z.y(z.pt,z.hj);var qt="view",jG="闆朵竴浜屼笁鍥涗簲鍏竷鍏節鍗�".split("");z.e=z.pt.prototype;z.e.w=function(a){this.h=a;this.Yg=z.L("zm-tag-editor-labels",this.h);this.Mu&&(this.data=rt(this));z.st(this);this.oe();this.jc()};
z.e.em=function(){this.Hc||(this.Hc=z.M("div","zm-tag-editor-editor",[this.Io=z.M("div","zg-section zg-clear"),this.qe=z.M("div","zg-section zm-tag-editor-command-buttons-wrap",[this.ab=z.M("input",{"class":"zg-form-text-input zg-mr15",type:"text"}),z.M("a",{"class":"zg-mr15 zg-btn-blue",href:"#",name:"add",style:"display:none;"},"娣诲姞"),this.PG=z.M("a",{href:"#",name:"close"},"瀹屾垚")]),this.Eu=z.M("div",{className:"zm-tag-editor-maxcount zg-section",style:"display:none;"},[z.M("span",{},"鏈€澶氬彧鑳戒负涓€涓棶棰樼粦瀹� "+
this.Zp+" 涓瘽棰�"),z.M("a",{href:"#",name:"close"},"瀹屾垚")])]),z.df(this.Hc,this.Yg),this.bf&&(this.LA=new z.at(this.bf),this.LA.w(this.ab),this.ab.title=this.bf),this.Of(this.qe))};z.e.Of=function(a,b){this.O=new z.ot(b||"/topic/autocomplete",this.ab,null,null,a,!0);this.O.Ug(!0);this.O.Fk=this.Ce;this.O.pn(this.Yf());this.O.My=[this.bf];this.o().g(this.O,"select",this.Tf);this.o().g(this.O,"suggestionsupdate",this.Yn)};z.e.Py=function(a){return z.ob(this.data,function(b){return b[0]===a[1]})};
z.e.Yf=function(){return(0,z.t)(function(a,b){return ut(this,tt(this,a),b)},this)};z.e.Yn=function(){1<this.O.Oa.length&&!this.O.Oa[0][4]&&z.gs(this.O)};z.e.jc=function(){this.o().g(this.h,"click",this.Ya);z.rp&&this.o().g(z.rp,"anon_change",this.ik)};z.e.ik=function(a){a.wb?z.S.add(this.h,"zm-tag-editor-disabled"):z.S.remove(this.h,"zm-tag-editor-disabled")};
z.e.Ya=function(a){var b=this.uh(a.target);if(b&&b.name)switch(a.preventDefault(),b.name){case "edit":this.Be(!0);break;case "add":(a=z.ar(br(this.ab.value)))&&a!==this.ab.title&&this.Ne("",a);break;case "close":this.Be(!1);break;case "remove":this.yB(b)}};z.e.Be=z.Ir(function(a){if(a&&(this.dispatchEvent("start_editing"),!1===this.dispatchEvent("beforeedit")))return;this.status=a?"edit":qt;this.em();this.Od();this.oe();z.vt(this)},!0);
z.e.yB=function(a){var b=a.id.split("-")[1],c=z.zo(a).innerHTML;this.Hu&&this.data.length<=this.Hu?z.T.message("璇疯嚦灏戠粦瀹�"+jG[this.Hu]+"涓瘽棰�"):(this.data=z.lb(this.data,function(a){return b?String(a[3])!==b:a[1]!==c}),this.Wm(b))};z.e.Wm=function(a){if(!this.sv||!this.sv.Jc()){this.sv=new z.dp(!0);var b=new z.uj;b.add("qid",this.qa).add("question_id",this.qa).add("topic_id",a);this.o().ta(this.sv,"complete",this.HS);this.sv.ajax(this.xX,b.toString())}};
z.e.HS=function(a){a=z.Dn(a.target);a.r?z.T.message(a.msg):(this.dispatchEvent("remove_tag"),z.st(this),this.Od(),z.vt(this))};z.e.oe=function(){this.status===qt?(z.P(this.Yg,!0),this.Hc&&z.P(this.Hc,!1)):(z.P(this.Yg,!1),this.Hc&&this.isEnabled&&z.P(this.Hc,!0),this.Eu&&z.P(this.Eu,!1))};
z.e.Ne=function(a,b){this.Pb||(this.dispatchEvent("add_tag"),this.Pb=!0,this.xhr=new z.dp(!0),this.o().ta(this.xhr,"complete",this.$w),this.xhr.ajax(this.nO,"qid\x3d"+this.qa+"\x26question_id\x3d"+this.qa+"\x26topic_id\x3d"+a+"\x26topic_text\x3d"+(0,window.encodeURIComponent)(b)))};z.e.Tf=function(){var a="",b="",c=this.O.zg().slice(1);3<c.length?(a=c[3],b=c[0]):b=c[1];z.ob(this.data,function(c){return c[3]&&String(c[3])===a||c[0]===b})||(a||b)&&this.Ne(a,b,c)};
z.e.$w=function(){this.Pb=!1;var a=z.Dn(this.xhr);this.mj(a);z.vt(this)};z.e.Al=z.m(32);z.e.mj=function(a){var b=null;a&&a.r?a.notify?z.tn(a.notify):z.T.message(a.msg):(4<a.length&&z.tn(a[4]),this.yC=b=a,this.data.push(b),z.wt(this),z.st(this),this.Od(),this.ab.value="",this.dispatchEvent("select"))};z.e.YG=function(a){return z.$q(a,"nor",!1)};
z.e.Od=function(){var a=z.mb(this.data,function(a){return['\x3cspan class\x3d"zm-tag-editor-edit-item"\x3e',this.YG(a),a.tZ?"":'\x3ca id\x3d"rmid-'+a[3]+'" href\x3d"#" class\x3d"zg-r3px zm-tag-editor-remove-button" name\x3d"remove"\x3e\x3c/a\x3e',"\x3c/span\x3e"].join("")},this);this.Io.innerHTML=a.join("")};z.e.zg=function(){return this.yC};z.e.gb=function(a){this.isEnabled=a;this.status=qt;this.oe()};z.y(z.xt,z.pt);z.e=z.xt.prototype;
z.e.w=function(a){if(this.isEnabled=!a.getAttribute("data-disabled"))z.xt.v.w.call(this,a),this.Be(!0),z.P(this.PG,!1)};z.e.Of=function(a){var b;this.BA&&(b="/topic/autocomplete?no_create\x3dtrue");z.xt.v.Of.call(this,a,b);this.O.ae.NG=!1};z.e.Yf=function(){return(0,z.t)(function(a,b){return z.lb(a,function(a){return 3>=a.length?!1:z.Mn(this.data,function(d){return d[1]===a[2]?b===a[1]?(a[0]="plain_text",a[1]='"'+b+'"宸插湪鐜版湁鍒楄〃涓�',!0):!1:!0})},this)},this)};
z.e.Ne=function(a,b){this.Pb||(this.Pb=!0,this.xhr=new z.dp(!0),this.o().ta(this.xhr,"complete",this.$w),a||(a=-1),this.BA?this.xhr.ajax("/topic/add","tid\x3d"+this.dg+"\x26pid\x3d"+a+"\x26topic_text\x3d"+(0,window.encodeURIComponent)(b)):this.xhr.ajax("/topic/add","tid\x3d"+this.dg+"\x26cid\x3d"+a+"\x26topic_text\x3d"+(0,window.encodeURIComponent)(b)))};z.e.YG=function(a){return'\x3ca class\x3d"nor" href\x3d"/topic/'+a[1]+'/organize"\x3e'+a[0]+"\x3c/a\x3e"};
z.e.Wm=function(a){if(!this.da||!this.da.Jc()){var b=new z.dp(!0);this.o().g(b,"success",function(){var c=z.Dn(b);c.r?z.T.message(c.msg):(z.st(this),this.Od(),this.dispatchEvent({type:"remove_tag",data:{id:a}}))});this.BA?b.ajax(this.$K,"cid\x3d"+this.dg+"\x26pid\x3d"+a):b.ajax(this.$K,"pid\x3d"+this.dg+"\x26cid\x3d"+a);this.da=b}};z.y(yt,z.pt);z.e=yt.prototype;
z.e.w=function(a){yt.v.w.call(this,a);this.Be(!0);z.A(z.Me("a",null,a),function(a){z.P(a,!1)});this.o().g(this.ab,"focus",function(){this.Kr.val()&&!this.AG&&(this.AG=!0,this.iw());this.placeholder&&(this.placeholder.al("鎼滅储璇濋"),rn(this.placeholder))});this.SI=new zp;this.SI.attach(this.ab);this.o().g(this.SI,"key",function(a){8===a.keyCode&&(1===this.ab.value.length&&(this.bF=!0,this.eP=(0,window.setTimeout)((0,z.t)(function(){this.bF=!1;(0,window.clearTimeout)(this.eP)},this))),this.ab.value.length||
this.bF||(this.data.pop(),this.Od(),this.dispatchEvent("remove_tag")))});this.OY=new z.oi(this.iw,2E3,this);this.o().g(this.Kr[0],"keyup",function(){var a=this.Kr.val();this.Tv!==a&&(this.OY.fire(),this.Tv=a)});this.o().g(this,["remove_tag","add_tag"],function(){zt(this);0<this.data.length&&this.placeholder&&(this.placeholder.al("鎼滅储璇濋"),rn(this.placeholder));5<=this.data.length?(this.gb(!1),this.Fr.show(),this.placeholder&&this.placeholder.hide(),this.Iw.hide()):(this.gb(!0),this.Fr.hide(),this.placeholder&&
this.placeholder.show(),this.Iw.show(),this.Fr.removeClass("light"))})};z.e.Py=function(a){return z.ob(this.data,function(b){return b[1]===a[1]})};z.e.Wm=function(){this.dispatchEvent("remove_tag");z.st(this);this.Od()};
z.e.em=function(){this.Hc||(yt.v.em.call(this),z.S.add(this.Hc,"zg-clear"),z.S.set(this.Io,"zg-inline"),z.S.add(this.qe,"zg-left"),z.S.remove(this.qe,"zg-section"),z.S.set(this.ab,"zu-question-suggest-topic-input"),z.S.add(this.ab,"label-input-label"),this.Nr=(0,window.$)("\x3cdiv class\x3d'sug-con zg-clear' style\x3d'display:none;'\x3e\x3c/div\x3e").append("\x3cspan class\x3d'zg-gray-normal zg-left tip'\x3e鎺ㄨ崘娣诲姞\x3c/span\x3e").append(this.zN=(0,window.$)("\x3cspan class\x3d'sugs zg-clear zg-inline'\x3e\x3c/span\x3e")).append(this.Jw=
(0,window.$)('\x3cimg data-src\x3d"'+z.Z.ZC+'/img/spinner2.gif"\x3e')),this.Nr.insertAfter(this.h),this.Nr.on("click","a[name\x3d'add']",(0,z.t)(function(a){a=a.currentTarget;5>this.data.length?this.Ne((0,window.$)(a).attr("data-id"),(0,window.$)(a).attr("data-text")):this.Fr.addClass("light")},this)),this.Iw=(0,window.$)('\x3clabel for\x3d"topic" class\x3d"zg-icon icon-magnify"\x3e\x3c/label\x3e'),(0,window.$)(this.qe).prepend(this.Iw),this.placeholder=new z.Wj(this.ab,{text:"鎼滅储璇濋",ZE:!0}),(0,window.$)(this.qe).append(this.Fr=
(0,window.$)("\x3clabel class\x3d'err-tip' style\x3d'display:none;'\x3e鏈€澶氭坊鍔犱簲涓瘽棰榎x3c/label\x3e")),this.o().g(this.Hc,"click",this.oZ))};z.e.oZ=function(a){z.mr(this.h,a.target)||(a=z.L("zu-question-suggest-topic-input",this.Hc),z.ah(a)&&a.focus())};
z.e.iw=function(){this.AG&&(this.Tv=this.Kr.val(),8>this.Tv.length?(this.ir=[],zt(this)):(this.jr&&this.jr.abort(),this.jr=new z.dp(!1),this.o().g(this.jr,"success",this.$V),this.jr.ajax("/topic-question/autocomplete?token\x3d"+this.Tv+"\x26max_matches\x3d5\x26use_similar\x3d0","GET"),this.Jw.attr("src",this.Jw.attr("data-src")).show()))};z.e.$V=function(){this.ir=z.Dn(this.jr)[0].slice(1);zt(this)};
z.e.Od=function(){var a=[];z.A(this.data,function(b){a.push(['\x3cdiv class\x3d"zm-tag-editor-edit-item"\x3e\x3cspan\x3e',b[0],'\x3c/span\x3e\x3ca id\x3d"rmid-',b[3],'" href\x3d"#" class\x3d"zg-r3px zm-tag-editor-remove-button" name\x3d"remove"\x3e\x3c/a\x3e\x3c/div\x3e'].join(""))},this);this.Io.innerHTML=a.join("")};z.e.reset=function(){this.data=[];z.st(this);this.Od()};
z.e.yB=function(a){var b=a.id.split("-")[1],c=z.zo(a).innerHTML;this.data=z.lb(this.data,function(a){return b?String(a[3])!==b:a[1]!==c});this.Wm(b)};z.e.Ne=function(a,b){var c=[b,b,"",a];this.yC=c;this.data.push(c);z.st(this);this.Od();this.ab.value="";this.dispatchEvent("select");this.dispatchEvent("add_tag")};z.e.gb=function(a){this.ab&&z.P(this.ab,a)};
z.e.trackEvent=function(){if(this.ir){var a=0,b=this.data.length;z.A(this.data,function(b){z.A(this.ir,function(d){b[1]===d[1]&&a++},this)},this);z.U.Ab({type:"ga_click_add_question",data:{Uv:a,total:b}})}};z.y(z.At,z.xt);z.At.prototype.Ne=function(a){this.Pb||(this.Pb=!0,this.xhr=new z.dp(!0),this.o().ta(this.xhr,"complete",this.$w),this.xhr.ajax(this.hF,"tid\x3d"+a+"\x26method\x3dadd"))};
z.At.prototype.Wm=function(a){this.Pb||(this.Pb=!0,this.xhr=new z.dp(!0),this.o().g(this.xhr,"complete",function(){z.st(this);this.Od();this.Pb=!1}),this.xhr.ajax(this.hF,"tid\x3d"+a+"\x26method\x3ddel"))};z.y(Bt,z.xc);Bt.prototype.restore=function(a){var b=this.wv();a||this.dispose();return b};z.y(z.Ct,Bt);z.Ct.prototype.Gq=function(a){z.N(z.Dt(this,!0));z.N(z.Dt(this,!1));return a};z.Ct.prototype.wv=function(){var a=null,b=z.Dt(this,!this.rC),c=z.Dt(this,this.rC);if(b&&c){var a=b.parentNode,b=z.kb(a.childNodes,b),d=c.parentNode,c=z.kb(d.childNodes,c);d==a&&(this.rC?b--:c--);a=z.ku(a,b,d,c);a=this.Gq(a);a.select()}else this.Gq();return a};z.Ct.prototype.D=function(){this.Gq();this.ca=null};z.y(z.Et,z.Ld);z.e=z.Et.prototype;z.e.setPosition=function(a,b,c){if(this.node=a)this.gc=z.pa(b)?b:1!=this.node.nodeType?0:this.Xc?-1:1;z.pa(c)&&(this.depth=c)};z.e.lh=function(a){this.node=a.node;this.gc=a.gc;this.depth=a.depth;this.Xc=a.Xc;this.Ds=a.Ds};z.e.clone=function(){return new z.Et(this.node,this.Xc,!this.Ds,this.gc,this.depth)};z.e.cr=z.m(34);
z.e.next=function(){var a;if(this.bl){if(!this.node||this.Ds&&0==this.depth)throw z.Nd;a=this.node;var b=this.Xc?-1:1;if(this.gc==b){var c=this.Xc?a.lastChild:a.firstChild;c?this.setPosition(c):this.setPosition(a,-1*b)}else(c=this.Xc?a.previousSibling:a.nextSibling)?this.setPosition(c):this.setPosition(a.parentNode,-1*b);this.depth+=this.gc*(this.Xc?-1:1)}else this.bl=!0;a=this.node;if(!this.node)throw z.Nd;return a};z.e.Km=function(){return this.bl};
z.e.equals=function(a){return a.node==this.node&&(!this.node||a.gc==this.gc)};z.e.splice=function(a){var b=this.node,c=this.Xc?1:-1;this.gc==c&&(this.gc=-1*c,this.depth+=this.gc*(this.Xc?-1:1));this.Xc=!this.Xc;z.Et.prototype.next.call(this);this.Xc=!this.Xc;for(var c=z.na(arguments[0])?arguments[0]:arguments,d=c.length-1;0<=d;d--)z.df(c[d],b);z.N(b)};z.e=Ft.prototype;z.e.bc=function(){var a=this.Ic();return 1==a.nodeType?a:a.parentNode};z.e.Gh=function(){return!1};z.e.xa=function(){return z.Ke(z.C?this.Ic():this.aa())};z.e.eb=function(){return z.Te(this.xa())};z.e.containsNode=function(a,b){return this.kh(z.Cu(a),b)};z.e.ej=function(a){this.isCollapsed()||this.Xf();return this.insertNode(a,!0)};z.y(Mt,z.Et);z.y(Nt,Ft);Nt.prototype.kh=function(a,b){var c=z.Ht(this),d=z.Ht(a);return(b?z.ob:z.Mn)(d,function(a){return z.ob(c,function(c){return c.kh(a,b)})})};Nt.prototype.insertNode=function(a,b){b?z.cf(a,this.aa()):z.df(a,this.ka());return a};Nt.prototype.lr=function(a,b){this.insertNode(a,!0);this.insertNode(b,!1)};z.y(z.Ot,Mt);z.e=z.Ot.prototype;z.e.xt=function(){return 3!=this.node.nodeType?-1:this.node==this.Ba?this.Ga:0};z.e.tt=function(){return 3!=this.node.nodeType?-1:this.node==this.va?this.Da:this.node.nodeValue.length};z.e.aa=function(){return this.Ba};z.e.ka=function(){return this.va};z.e.Np=function(){return this.Km()&&this.node==this.va&&(!this.Da||1!=this.gc)};z.e.next=function(){if(this.Np())throw z.Nd;return z.Ot.v.next.call(this)};z.e.cr=z.m(33);
z.e.lh=function(a){this.Ba=a.Ba;this.va=a.va;this.Ga=a.Ga;this.Da=a.Da;this.Pf=a.Pf;z.Ot.v.lh.call(this,a)};z.e.clone=function(){var a=new z.Ot(this.Ba,this.Ga,this.va,this.Da,this.Pf);a.lh(this);return a};z.e=Pt.prototype;z.e.Lj="";z.e.set=function(a){this.Lj=""+a};z.e.append=function(a,b,c){this.Lj+=a;if(null!=b)for(var d=1;d<arguments.length;d++)this.Lj+=arguments[d];return this};z.e.clear=function(){this.Lj=""};z.e.toString=function(){return this.Lj};z.e=Qt.prototype;z.e.rz=function(){return Rt(this,!0)};z.e.iz=function(){return Rt(this,!1)};z.e.kh=function(a,b){var c=b&&!a.isCollapsed(),d=a.R;try{return c?0<=this.Te(d,0,1)&&0>=this.Te(d,1,0):0<=this.Te(d,0,0)&&0>=this.Te(d,1,1)}catch(f){if(!z.C)throw f;return!1}};z.e.containsNode=function(a,b){return this.kh(au(a),b)};
z.e.To=function(){var a=new Pt;z.Od(this,function(b,c,d){3==b.nodeType?a.append(z.Ma(b.nodeValue.substring(d.xt(),d.tt()))):1==b.nodeType&&(-1==d.gc?z.$e(b)&&a.append("\x3c/"+b.tagName+"\x3e"):(c=b.cloneNode(!1),c=z.wo(c),z.C&&"LI"==b.tagName?a.append(c):(b=c.lastIndexOf("\x3c"),a.append(b?c.substr(0,b):c))))},this);return a.toString()};z.e.Bd=function(){return new z.Ot(this.aa(),this.ya(),this.ka(),this.Sa())};z.y(St,Qt);z.e=St.prototype;z.e.clone=function(){return new this.constructor(this.R.cloneRange())};z.e.Ic=function(){return this.R.commonAncestorContainer};z.e.aa=function(){return this.R.startContainer};z.e.ya=function(){return this.R.startOffset};z.e.ka=function(){return this.R.endContainer};z.e.Sa=function(){return this.R.endOffset};
z.e.Te=function(a,b,c){return this.R.compareBoundaryPoints(1==c?1==b?z.u.Range.START_TO_START:z.u.Range.START_TO_END:1==b?z.u.Range.END_TO_START:z.u.Range.END_TO_END,a)};z.e.isCollapsed=function(){return this.R.collapsed};z.e.$d=function(){return this.R.toString()};
z.e.Ag=function(){var a=z.Ie(this.R.startContainer).B("DIV");a.appendChild(this.R.cloneContents());a=a.innerHTML;if(z.Ia(a,"\x3c")||!this.isCollapsed()&&!z.Wa(a,"\x3c"))return a;var b=this.Ic(),b=1==b.nodeType?b:b.parentNode;return z.wo(b.cloneNode(!1)).replace("\x3e","\x3e"+a)};z.e.select=function(a){var b=z.Te(z.Ke(this.aa()));this.Oq(b.getSelection(),a)};z.e.Oq=function(a){a.removeAllRanges();a.addRange(this.R)};
z.e.Xf=function(){var a=this.R;a.extractContents();if(a.startContainer.hasChildNodes()){var b=a.startContainer.childNodes[a.startOffset];if(b){var c=b.previousSibling;""==z.uo(b)&&z.N(b);c&&""==z.uo(c)&&z.N(c)}}if(z.Ll){var b=this.aa(),c=this.ya(),d=this.ka(),f=this.Sa(),g=b.nextSibling;b==d&&b.parentNode&&3==b.nodeType&&g&&3==g.nodeType&&(b.nodeValue+=g.nodeValue,z.N(g),a.setStart(b,c),a.setEnd(d,f))}};z.e.surroundContents=function(a){this.R.surroundContents(a);return a};
z.e.insertNode=function(a,b){var c=this.R.cloneRange();c.collapse(b);c.insertNode(a);c.detach();return a};
z.e.lr=function(a,b){var c=z.Te(z.Ke(this.aa()));if(c=z.zu(c))var d=c.aa(),f=c.ka(),g=c.ya(),h=c.Sa();var k=this.R.cloneRange(),l=this.R.cloneRange();k.collapse(!1);l.collapse(!0);k.insertNode(b);l.insertNode(a);k.detach();l.detach();if(c){if(3==d.nodeType)for(;g>d.length;){g-=d.length;do d=d.nextSibling;while(d==a||d==b)}if(3==f.nodeType)for(;h>f.length;){h-=f.length;do f=f.nextSibling;while(f==a||f==b)}z.ku(d,g,f,h).select()}};z.e.collapse=function(a){this.R.collapse(a)};z.y(Wt,St);Wt.prototype.Oq=function(a,b){!b||this.isCollapsed()?Wt.v.Oq.call(this,a,b):(a.collapse(this.ka(),this.Sa()),a.extend(this.aa(),this.ya()))};z.y(z.Xt,Qt);z.e=z.Xt.prototype;z.e.clone=function(){var a=new z.Xt(this.R.duplicate(),this.Ws);a.Og=this.Og;a.Ba=this.Ba;a.va=this.va;return a};z.e.Vd=function(){this.Og=this.Ba=this.va=null;this.Ga=this.Da=-1};
z.e.Ic=function(){if(!this.Og){var a=this.R.text,b=this.R.duplicate(),c=a.replace(/ +$/,"");(c=a.length-c.length)&&b.moveEnd("character",-c);c=b.parentElement();b=z.Zo(b.htmlText).length;if(this.isCollapsed()&&0<b)return this.Og=c;for(;b>z.Zo(c.outerHTML).length;)c=c.parentNode;for(;1==c.childNodes.length&&c.innerText==cu(c.firstChild)&&Ut(c.firstChild);)c=c.firstChild;0==a.length&&(c=Zt(this,c));this.Og=c}return this.Og};
z.e.aa=function(){this.Ba||(this.Ba=$t(this,1),this.isCollapsed()&&(this.va=this.Ba));return this.Ba};z.e.ya=function(){0>this.Ga&&(this.Ga=bu(this,1),this.isCollapsed()&&(this.Da=this.Ga));return this.Ga};z.e.ka=function(){if(this.isCollapsed())return this.aa();this.va||(this.va=$t(this,0));return this.va};z.e.Sa=function(){if(this.isCollapsed())return this.ya();0>this.Da&&(this.Da=bu(this,0),this.isCollapsed()&&(this.Ga=this.Da));return this.Da};
z.e.Te=function(a,b,c){return this.R.compareEndPoints((1==b?"Start":"End")+"To"+(1==c?"Start":"End"),a)};z.e.Eg=z.m(38);z.e.isCollapsed=function(){return 0==this.R.compareEndPoints("StartToEnd",this.R)};z.e.$d=function(){return this.R.text};z.e.Ag=function(){return this.R.htmlText};z.e.select=function(){this.R.select()};
z.e.Xf=function(){if(!this.isCollapsed()&&this.R.htmlText){var a=this.aa(),b=this.ka(),c=this.R.text,d=this.R.duplicate();d.moveStart("character",1);d.moveStart("character",-1);d.text==c&&(this.R=d);this.R.text="";this.Vd();c=this.aa();d=this.ya();try{var f=a.nextSibling;a==b&&a.parentNode&&3==a.nodeType&&f&&3==f.nodeType&&(a.nodeValue+=f.nodeValue,z.N(f),this.R=Yt(c),this.R.move("character",d),this.Vd())}catch(g){}}};
z.e.surroundContents=function(a){z.N(a);a.innerHTML=this.R.htmlText;(a=du(this.R,a))&&this.R.moveToElementText(a);this.Vd();return a};z.e.insertNode=function(a,b){var c=eu(this.R.duplicate(),a,b);this.Vd();return c};z.e.lr=function(a,b){var c=this.R.duplicate(),d=this.R.duplicate();eu(c,a,!0);eu(d,b,!1);this.Vd()};z.e.collapse=function(a){this.R.collapse(a);a?(this.va=this.Ba,this.Da=this.Ga):(this.Ba=this.va,this.Ga=this.Da)};z.y(fu,St);fu.prototype.Oq=function(a){a.collapse(this.aa(),this.ya());this.ka()==this.aa()&&this.Sa()==this.ya()||a.extend(this.ka(),this.Sa());0==a.rangeCount&&a.addRange(this.R)};z.y(gu,St);gu.prototype.Te=function(a,b,c){return z.E("528")?gu.v.Te.call(this,a,b,c):this.R.compareBoundaryPoints(1==c?1==b?z.u.Range.START_TO_START:z.u.Range.END_TO_START:1==b?z.u.Range.START_TO_END:z.u.Range.END_TO_END,a)};gu.prototype.Oq=function(a,b){b?a.setBaseAndExtent(this.ka(),this.Sa(),this.aa(),this.ya()):a.setBaseAndExtent(this.aa(),this.ya(),this.ka(),this.Sa())};z.y(z.iu,Ft);z.e=z.iu.prototype;z.e.clone=function(){var a=new z.iu;a.vi=this.vi&&this.vi.clone();a.Ba=this.Ba;a.Ga=this.Ga;a.va=this.va;a.Da=this.Da;a.Pf=this.Pf;return a};z.e.Ri=function(){return"text"};z.e.we=function(){return z.mu(this).R};z.e.Vd=function(){this.Ba=this.Ga=this.va=this.Da=null};z.e.hk=function(){return 1};z.e.Ye=function(){return this};z.e.Ic=function(){return z.mu(this).Ic()};z.e.aa=function(){return this.Ba||(this.Ba=z.mu(this).aa())};
z.e.ya=function(){return null!=this.Ga?this.Ga:this.Ga=z.mu(this).ya()};z.e.rz=function(){return z.mu(this).rz()};z.e.ka=function(){return this.va||(this.va=z.mu(this).ka())};z.e.Sa=function(){return null!=this.Da?this.Da:this.Da=z.mu(this).Sa()};z.e.iz=function(){return z.mu(this).iz()};z.e.Gh=function(){return this.Pf};z.e.kh=function(a,b){var c=a.Ri();return"text"==c?z.mu(this).kh(z.mu(a),b):"control"==c?(c=a.Li(),(b?z.ob:z.Mn)(c,function(a){return this.containsNode(a,b)},this)):!1};z.e.Eg=z.m(37);
z.e.isCollapsed=function(){return z.mu(this).isCollapsed()};z.e.$d=function(){return z.mu(this).$d()};z.e.To=function(){return z.mu(this).To()};z.e.Ag=function(){return z.mu(this).Ag()};z.e.Bd=function(){return new z.Ot(this.aa(),this.ya(),this.ka(),this.Sa())};z.e.select=function(){z.mu(this).select(this.Pf)};z.e.Xf=function(){z.mu(this).Xf();this.Vd()};z.e.surroundContents=function(a){a=z.mu(this).surroundContents(a);this.Vd();return a};
z.e.insertNode=function(a,b){var c=z.mu(this).insertNode(a,b);this.Vd();return c};z.e.lr=function(a,b){z.mu(this).lr(a,b);this.Vd()};z.e.uC=function(){return new nu(this)};z.e.collapse=function(a){a=this.Gh()?!a:a;this.vi&&this.vi.collapse(a);a?(this.va=this.Ba,this.Da=this.Ga):(this.Ba=this.va,this.Ga=this.Da);this.Pf=!1};z.y(nu,Bt);nu.prototype.wv=function(){return z.ku(this.ME,this.MO,this.SG,this.WQ)};nu.prototype.D=function(){nu.v.D.call(this);this.SG=this.ME=null};z.y(z.ou,Nt);z.e=z.ou.prototype;z.e.Vd=function(){this.dr=this.pb=null};z.e.clone=function(){return qu.apply(this,this.Li())};z.e.Ri=function(){return"control"};z.e.we=function(){return this.R||window.document.body.createControlRange()};z.e.hk=function(){return this.R?this.R.length:0};z.e.Ye=function(a){a=this.R.item(a);return ju(au(a),void 0)};z.e.Ic=function(){return xo.apply(null,this.Li())};z.e.aa=function(){return ru(this)[0]};z.e.ya=function(){return 0};
z.e.ka=function(){var a=ru(this),b=z.jb(a);return z.pb(a,function(a){return z.nf(a,b)})};z.e.Sa=function(){return this.ka().childNodes.length};z.e.Li=function(){if(!this.pb&&(this.pb=[],this.R))for(var a=0;a<this.R.length;a++)this.pb.push(this.R.item(a));return this.pb};z.e.Eg=z.m(36);z.e.isCollapsed=function(){return!this.R||!this.R.length};z.e.$d=function(){return""};z.e.To=function(){return z.mb(ru(this),z.wo).join("")};z.e.Ag=function(){return this.To()};z.e.Bd=function(){return new tu(this)};
z.e.select=function(){this.R&&this.R.select()};z.e.Xf=function(){if(this.R){for(var a=[],b=0,c=this.R.length;b<c;b++)a.push(this.R.item(b));z.A(a,z.N);this.collapse(!1)}};z.e.ej=function(a){a=this.insertNode(a,!0);this.isCollapsed()||this.Xf();return a};z.e.uC=function(){return new su(this)};z.e.collapse=function(){this.R=null;this.Vd()};z.y(su,Bt);
su.prototype.wv=function(){for(var a=(this.pb.length?z.Ke(this.pb[0]):window.document).body.createControlRange(),b=0,c=this.pb.length;b<c;b++)a.addElement(this.pb[b]);return pu(a)};su.prototype.D=function(){su.v.D.call(this);delete this.pb};z.y(tu,Mt);z.e=tu.prototype;z.e.xt=function(){return 0};z.e.tt=function(){return 0};z.e.aa=function(){return this.Ba};z.e.ka=function(){return this.va};z.e.Np=function(){return!this.depth&&!this.pb.length};
z.e.next=function(){if(this.Np())throw z.Nd;if(!this.depth){var a=this.pb.shift();this.setPosition(a,1,1);return a}return tu.v.next.call(this)};z.e.lh=function(a){this.pb=a.pb;this.Ba=a.Ba;this.va=a.va;tu.v.lh.call(this,a)};z.e.clone=function(){var a=new tu(null);a.lh(this);return a};z.y(z.uu,Nt);z.e=z.uu.prototype;z.e.Vd=function(){this.dn=[];this.Es=this.xn=null};z.e.clone=function(){var a=this.lg,b=new z.uu;b.lg=z.vb(a);return b};z.e.Ri=function(){return"mutli"};z.e.we=function(){return this.lg[0]};z.e.hk=function(){return this.lg.length};z.e.Ye=function(a){this.dn[a]||(this.dn[a]=ju(hu(this.lg[a]),void 0));return this.dn[a]};z.e.Ic=function(){if(!this.Es){for(var a=[],b=0,c=this.hk();b<c;b++)a.push(this.Ye(b).Ic());this.Es=xo.apply(null,a)}return this.Es};z.e.aa=function(){return wu(this)[0].aa()};
z.e.ya=function(){return wu(this)[0].ya()};z.e.ka=function(){return z.jb(wu(this)).ka()};z.e.Sa=function(){return z.jb(wu(this)).Sa()};z.e.Eg=z.m(35);z.e.isCollapsed=function(){return 0==this.lg.length||1==this.lg.length&&this.Ye(0).isCollapsed()};z.e.$d=function(){return z.mb(z.Ht(this),function(a){return a.$d()}).join("")};z.e.To=function(){return this.Ag()};z.e.Ag=function(){return z.mb(z.Ht(this),function(a){return a.Ag()}).join("")};z.e.Bd=function(){return new yu(this)};
z.e.select=function(){var a=Gt(this.eb());a.removeAllRanges();for(var b=0,c=this.hk();b<c;b++)a.addRange(this.Ye(b).we())};z.e.Xf=function(){z.A(z.Ht(this),function(a){a.Xf()})};z.e.uC=function(){return new xu(this)};z.e.collapse=function(a){if(!this.isCollapsed()){var b=a?this.Ye(0):this.Ye(this.hk()-1);this.Vd();b.collapse(a);this.dn=[b];this.xn=[b];this.lg=[b.we()]}};z.y(xu,Bt);xu.prototype.wv=function(){var a=z.mb(this.vC,function(a){return a.restore()});return vu(a)};
xu.prototype.D=function(){xu.v.D.call(this);z.A(this.vC,function(a){a.dispose()});delete this.vC};z.y(yu,Mt);z.e=yu.prototype;z.e.xt=function(){return this.Fg[this.Vl].xt()};z.e.tt=function(){return this.Fg[this.Vl].tt()};z.e.aa=function(){return this.Fg[0].aa()};z.e.ka=function(){return z.jb(this.Fg).ka()};z.e.Np=function(){return this.Fg[this.Vl].Np()};
z.e.next=function(){try{var a=this.Fg[this.Vl],b=a.next();this.setPosition(a.node,a.gc,a.depth);return b}catch(c){if(c!==z.Nd||this.Fg.length-1==this.Vl)throw c;this.Vl++;return this.next()}};z.e.lh=function(a){this.Fg=z.vb(a.Fg);yu.v.lh.call(this,a)};z.e.clone=function(){var a=new yu(null);a.lh(this);return a};z.y(z.Fu,z.Ld);z.Fu.prototype.next=function(){var a=this.MJ;if(!a)throw z.Nd;this.MJ=this.MX?a.previousSibling:a.nextSibling;return a};z.y(Gu,z.Fu);var Mu={IMG:!0,IFRAME:!0,EMBED:!0};var kG=function(){if(z.Xl)return Qu(/Firefox\/([0-9.]+)/);if(z.C||z.Gc||z.Lg)return z.Jc;if(z.Kf)return Qu(/Chrome\/([0-9.]+)/);if(z.Zl&&!(z.Ec()||z.Ab("iPad")||z.Ab("iPod")))return Qu(/Version\/([0-9.]+)/);if(z.Zk||z.ai){var a;if(a=/Version\/(\S+).*Mobile\/(\S+)/.exec(z.Bb))return a[1]+"."+a[2]}else if(z.Yl)return(a=Qu(/Android\s+([0-9.]+)/))?a:Qu(/Version\/([0-9.]+)/);return""}();var nG,oG,qG,oB,vG,wG;z.lG=z.C&&!(9<=z.jh);z.mG=z.B||z.D||z.Lg||z.Gc||z.C&&9<=z.jh;z.fB=z.C||z.D||z.Lg||z.Gc||!1;nG=z.D||!1;oG=z.C||z.D||z.Lg;z.pG=z.B||z.D;z.D&&z.E("534.16");qG=z.B&&!0;z.rG=z.B||z.D||z.Lg;z.sG=z.B||z.Lg;z.C&&z.E("7.0");z.tG=z.B&&z.E("1.8")||z.D||z.Lg;oB=z.D||z.C&&z.E("9");z.C||z.Gc||z.Lg||z.B&&z.E("1.9");z.uG=z.B||z.D&&!z.E("527");vG=z.C||z.Lg;wG=z.C||z.Gc||z.D&&z.E("525");z.xG=z.D&&!z.E("531");z.yG=z.D&&!z.E("528");z.B&&z.E("1.9")||z.C||z.Gc||z.Lg||z.D&&z.E("531");
z.zG=z.C||z.Gc||z.B||z.Lg;z.AG=z.B||z.D&&!z.E("526");z.BG=z.C||z.Lg;z.CG=!z.C&&!z.Lg;z.DG=!z.D&&!z.Gc;z.Kf&&0<=z.$a(kG,"4")||z.Zl&&z.E("533")||z.B&&z.E("2.0")||z.C&&z.E("10");z.EG=z.Lg&&z.E("11.10");z.Kf&&z.$a(kG,"12");z.y(z.ev,z.Ct);z.ev.prototype.Gq=function(a){var b=z.Dt(this,!0),c=z.Dt(this,!1),b=b&&c?xo(b,c):b||c;z.ev.v.Gq.call(this);if(a)return Xu(b,a);b&&(a=z.zu(z.Te(z.Ke(b))),(a=Xu(b,a))&&a.select())};z.y(z.fv,z.Q);z.FG=0;z.gv=[];z.fv.prototype.xc=null;z.fv.prototype.jm=!1;z.fv.prototype.av=0;var GG=z.C?"styleFloat":"cssFloat",kv=["position","top","left","width",GG],lv=["position","top","left","display",GG,"marginTop","marginLeft","marginRight","marginBottom"];z.e=z.fv.prototype;z.e.B=function(){z.fv.v.B.call(this);this.T(this.m())};z.e.T=function(a){z.fv.v.T.call(this,a);z.S.add(a,"goog-scrollfloater")};
z.e.C=function(){z.fv.v.C.call(this);this.zx=z.fh(window.document.body).top-2;this.xc||(this.xc=this.L().B("div",{style:"visibility:hidden"}));this.av=z.In(this.m()).y;z.hv(this,this.Bv);var a=this.mr=new z.oi(this.Hn,150,this);this.o().g(window,"scroll",(0,z.t)(a.fire,a));this.o().g(window,"resize",z.zr(150,this.Kz,!0))};z.e.D=function(){z.fv.v.D.call(this);z.tb(z.gv,this);this.mr.dispose();this.yA&&(z.FG-=this.WF);delete this.xc};
z.e.Hn=function(){this.Bv&&(z.xf(this.L()).y+this.zx>this.av?jv(this):z.iv(this))};z.e.Iq=function(){var a=this.m(),b=this.zx;!this.yA&&0<z.FG&&(b+=z.FG);a.style.top=b+"px"};z.e.Kz=function(){z.iv(this);this.av=z.In(this.m()).y;this.Hn()};z.y(z.mv,z.fv);z.mv.prototype.Hn=function(){var a=nv(this.tag);if(this.Bv&&(!a||a===this)){var a=this.pX.getBoundingClientRect(),b=this.zx+z.FG,c=b+this.uK;a.top<b&&a.bottom>c?jv(this):z.iv(this)}};z.mv.prototype.update=function(){return this.Hn()};z.ka(ov);ov.prototype.yf=function(a,b,c){z.qg("richtexteditor",function(){var d=window.ZH.createRichTextEditor(a,b),f=d[0],d=d[1];c&&c(f,d)})};pv.prototype.defaults={GX:[],oC:[],FP:!0};var rv="data-tooltip data-hovercard class style id bgcolor color size width height".split(" ");pv.prototype.hh=function(){var a=this;if(this.J.FP)this.H.on("paste",function(){(0,window.setTimeout)(function(){sv(a.H,tv(a))})})};z.y(uv,z.H);z.e=uv.prototype;z.e.defaults={Tn:{Ce:6,content:"",method:"GET",source:"/people/autocomplete"},QW:"mention-popup",Sk:window.document.body,yE:"activated"};z.e.D=function(){this.Os();z.N(this.h);this.h=null;uv.v.D.call(this)};z.e.Gx=function(){var a=this.h=z.Ye(this.pZ);this.Bq=a.getElementsByTagName("input")[0];a.className=this.J.QW;a.style.display="none";this.J.Sk.appendChild(a)};z.e.Ic=function(){return this.J.Sk};z.e.pZ='\x3cdiv\x3e\x3cdiv class\x3d"writing-bg"\x3e\x3cinput\x3e\x3c/div\x3e\x3cdiv class\x3d"tip"\x3e鎯崇敤 @ 鎻愬埌璋侊紵\x3c/div\x3e\x3c/div\x3e';
z.e.template=(0,z.Gr)('\n    \x3c% if (data.id) { %\x3e\n        \x3cimg class\x3d"avatar" src\x3d"\x3c%\x3davatar%\x3e"\x3e\n        \x3cdiv class\x3d"body"\x3e\n            \x3cdiv class\x3d"name"\x3e\n              \x3c%\x3d label %\x3e\n              \x3c% if (badges[0]) { %\x3e\n                  \x3cspan class\x3d"OrgIcon sprite-global-icon-org-14"\n                      data-tooltip\x3d"s$b$宸茶璇佺殑鏈烘瀯"\x3e\x3c/span\x3e\n              \x3c% } %\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"bio"\x3e\x3c%\x3d headline %\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c% } %\x3e\n');
z.e.Eb=function(){return z.ah(this.h)};z.e.open=function(){this.Eb()||(z.P(this.h,!0),this.Bq.focus(),this.hh(),this.dispatchEvent("open"))};z.e.close=function(){this.Eb()&&(z.P(this.h,!1),z.S.remove(this.h,this.J.yE),this.Bq.value="",this.Bq.blur(),this.Os(),this.dispatchEvent("close"))};z.e.XJ=function(a){this.Eb()&&!z.nf(this.h,a.target)&&vv(this,a)};z.e.sq=function(a){var b=a.keyCode,c=this.Bq;if(27===b||c===a.target&&""===c.value&&(8===b||32===b))vv(this,a),a.preventDefault(),a.stopPropagation()};
z.e.hh=function(){z.G(window.document,"click",this.XJ,!1,this);z.G(this.h,"keydown",this.sq,!1,this)};z.e.Os=function(){z.md(window.document,"click",this.XJ,!1,this);z.md(this.h,"keydown",this.sq,!1,this)};
z.e.Of=function(){var a=this,b=this.J.Tn,c=new z.Ms(this.Bq,{dj:this.h,Ce:b.Ce,source:b.source,select:function(b){(0,window.setTimeout)(function(){a.close();a.dispatchEvent({type:"select",data:{OW:b}})});return""},sd:function(b,c,g){g.innerHTML=a.template(b.data)}});c.IC(b.method);c.X(b.content);c.addEventListener("suggestionsupdate",function(){z.S.enable(this.h,this.J.yE,c.Eb())},!1,this);this.Z=c};z.e.position=function(a){z.Qg(this.h,a)};z.y(wv,z.H);var zv=!!window.getSelection;wv.prototype.defaults={Tn:{},Sk:window.document.body,Wp:"member_mention",Rt:"mention-holder",position:function(a,b){a.x+=b.width+7;a.y-=5;z.C&&7<z.Jc&&(a.y+=b.height/2-9)}};var Gv=z.Gb({C_:"member_mention"});wv.prototype.m=function(){return this.input};
wv.prototype.hh=function(){var a=this.Pg;z.G(a,"cancel",function(a){var c=xv(this);a=a.data.originalEvent;c&&"click"!==a.type&&("keydown"===a.type&&32===a.keyCode&&(c=c.parentNode.insertBefore(window.document.createTextNode(" "),c.nextSibling)),yv(this,c))},!1,this);z.G(a,"select",function(a){var c=a.data.OW;a=z.L(this.J.Rt,this.input);var c=this.Js(c),d=a.previousSibling,f=window.document.createTextNode(" ");z.Bo(c,a);z.df(f,c);d&&3===d.nodeType&&!z.bp(z.qf(d)," ")&&z.cf(window.document.createTextNode(" "),
c);yv(this,f)},!1,this);z.G(this.input,"click",function(){a.Eb()&&xv(this)},!1,this);z.G(this.input,"keydown",function(a){var c;if(8===a.keyCode&&(c=z.zu())){a=c.aa();var d=c.ka(),f=c.ya();c=c.Sa();var g=!1;Fv(a.parentNode)&&(f=0,g=!0);Fv(d.parentNode)&&(c=d.length,g=!0);g&&z.ku(a,f,d,c).select()}},!1,this);z.G(this.input,z.Zk||z.ai?"keypress":"keyup",function(a){function c(a,b){if(3!==a.nodeType||"@"===a.nodeValue&&Av(a.previousSibling)||Av(a.parentNode))return!1;var c=a.nodeValue,d=b-1;if("@"!==
c.slice(d,d+1))return!1;var f=c;0<=d&&d<c.length&&(f=c.substr(0,d)+c.substr(d+1,c.length-d-1));a.nodeValue=f;return!0}if("keypress"!==a.type||"@"===String.fromCharCode(a.charCode)){var d,f,g,h;if("keyup"===a.type){if(50!==a.keyCode)return;if(zv){d=window.getSelection();g=d.anchorNode;h=d.anchorOffset;if(!c(g,h))return;z.D&&!g.nextSibling&&(g.nodeValue+=" ");f=window.document.createRange();d.removeAllRanges();f.setStart(g,h-1);f.setEnd(g,h-1);d.addRange(f)}else{f=z.Bu(window.document.selection.createRange());
g=z.It(f);h=f.ya();if(!c(g,h))return;z.Du(g,h-1).select()}}this.Uv(a)}},!1,this)};wv.prototype.Uv=function(a){var b=this,c=this.Pg;if(!c.Eb()){var d=function(c){return Av(c)||c.className===b.J.Wp?!1:(a&&a.preventDefault(),!0)},f=function(a){c.position(a);c.open()};zv?Bv(b,d,f):Ev(b,d,f)}};wv.prototype.Js=function(a,b){return z.M("a",{"data-hash":a.id,href:"/"+(a.badges[0]?"org":"people")+"/"+a.url_token,className:b||this.J.Wp,innerHTML:"@"+a.label})};z.y(z.Hv,z.Q);z.e=z.Hv.prototype;z.e.D=function(){this.Ta=null;z.Hv.v.D.call(this)};
z.e.T=function(a){z.Hv.v.T.call(this,a);var b=a.getAttribute("data-resourceid");b&&(this.IX=a.getAttribute("data-action"),this.Nq=b);this.status||(this.status="normal");a=this.L();this.Cd||(this.Cd=a.xg("zm-editable-content",this.h))&&"1"===this.Cd.getAttribute("data-disabled")&&(this.disabled=!0);this.nc?this.hc&&(this.nc.innerHTML=this.hc):(this.nc=a.xg("zm-editable-tip",this.h),this.hc&&!this.nc&&(this.nc=a.B("div","zm-editable-tip"),this.nc.innerHTML=this.hc,a.du(this.nc,this.Cd)));this.Vb=a.xg("zm-editable-editor-wrap",
this.h);this.content=(0,z.ab)(this.content||this.GD?z.qf(this.Cd):this.Cd.innerHTML);this.oe();Kv(this)};z.e.B=function(){var a=this.L(),a=a.B("div","zm-editable-item-wrap",[this.nc=a.B("div","zm-editable-tip"),this.Cd=a.B("div","zm-editable-content",this.content)]);this.T(a)};z.e.C=function(){z.Hv.v.C.call(this);this.o().g(this.Cd,"click",this.Ya);this.nc&&this.o().g(this.nc,"click",this.Ya)};z.e.X=function(a){this.content=a;Kv(this)};
z.e.Ya=function(a){var b=z.mr(this.h,a.target),c=this.L();if(!b||!b.name)return a=c.fR(a.target,"div","zm-editable-tip-label"),this.isEnabled&&a&&this.Wg(),!0;a=b.name;switch(a){case "expand":Kv(this);break;case "collapse":Kv(this);break;case "edit":this.Bz();this.dispatchEvent("click_edit");break;case "save":this.Kt();break;case "cancel":this.dispatchEvent("cancel_edit");this.oj();break;default:return this.Ct(a)}return!0};
z.e.Bz=function(){if(z.Y.activated){if(!1===this.dispatchEvent("beforeedit"))return!1;this.init();this.Wg()}else(new fq).F(!0)};z.e.Kt=function(){var a=z.ar(this.yg()),b=/<img/i.test(a),c=/<embed/i.test(a);if(b||c||this.EI||a&&br(a).length)a!==this.content||this.VG?(this.dispatchEvent("save_changed"),this.Ph(a)):(this.dispatchEvent("save_unchanged"),this.oj())};
z.e.Ph=function(a){if(!this.da||!this.da.Jc())if(this.Ns&&this.oL){this.da=new z.dp(!0);this.o().ta(this.da,"success",this.HE);var b=new z.uj(this.params.join("\x26"));b.add(this.Ns,a).add("field_name",this.Ns);this.da.ajax(this.oL,b.toString())}else this.dispatchEvent("change")};z.e.oj=function(){this.status="normal";this.oe()};z.e.HE=function(){var a=z.Dn(this.da);if(!a)return z.T.message("缃戠粶寮傚父");if(a.r)return z.T.message(a.msg);this.X(a.msg);this.oj();this.dispatchEvent("saveSuccess");this.dispatchEvent("change")};
z.e.cb=function(){return this.content};z.e.jz=z.m(39);z.e.isContentEditable=function(){return!this.Zd};z.e.yg=function(){return(0,z.ur)(z.La(this.Ta.value))};z.e.Ct=function(a){this.dispatchEvent(a);return!0};z.e.init=function(){this.aT||(this.aT=!0,this.yf())};
z.e.yf=function(){var a=this.L();this.Vb?(this.pc=a.xg("zm-command",this.Vb),this.Ta=a.xg("zm-editable-editor-input",this.Vb)):(this.Vb=a.B("div","zm-editable-editor-wrap clearfix",this.Wj=a.B("div","zm-editable-editor-outer",a.B("div","zm-editable-editor-inner zg-form-text-input",this.Ta=a.B("textarea","zm-editable-editor-input")))),a.rA(this.Vb,this.Cd),this.Tl());this.Ta&&this.Ta.tagName&&"TEXTAREA"===this.Ta.tagName&&!this.hG&&new z.Jr(this.Ta);this.nq()};z.e.ready=function(a){this.bG.done(a)};
z.e.nq=function(){this.o().g(this.pc,"click",this.Ya);this.jw&&Jv(this);Iv(this);this.bG.resolveWith(this)};z.e.Tl=function(){this.pc=z.M("div","zm-command",[this.ts=z.M("a",{"class":"zm-command-cancel",name:"cancel",href:"javascript:;"},"鍙栨秷"),this.wo=z.M("a",{"class":"zg-r3px zg-btn-blue",name:"save",href:"javascript:;"},"淇濆瓨")]);this.Vb.appendChild(this.pc)};
z.e.oe=function(){this.Ls&&z.S.remove(this.h,this.Ls);"editing"===this.status?(this.nc&&z.P(this.nc,!1),this.Vb&&z.P(this.Vb,!0),z.P(this.Cd,!1),this.Ls="zm-editable-status-editing"):(this.nc&&(!this.EI||this.content||this.disabled?z.P(this.nc,!1):z.P(this.nc,!0)),this.Vb&&z.P(this.Vb,!1),this.content?z.P(this.Cd,!0):z.P(this.Cd,!1),this.Ls="zm-editable-status-normal");z.S.add(this.h,this.Ls)};z.e.Wg=function(){this.it||(this.init(),this.ready(function(){this.status="editing";this.oe();this.Uq()}))};
z.e.Uq=function(){if(this.Nq)this.it=!0,this.Uy();else{var a=this.Ta,b;b=co(this.content.replace(/<br \/>/g,"\n").replace(/<br>/g,"\n")).replace(/<a.*?href="(.*?)".*?<\/a>/g,"$1");a.value=b}};z.e.gH=function(){var a=[];this.disabled||a.push('\x3ca href\x3d"javascript:;" class\x3d"zu-edit-button" name\x3d"edit"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e淇敼\x3c/a\x3e');return a.join("")};
z.e.Uy=function(){this.it||(this.it=!0,z.ep(this.IX+"?id\x3d"+this.Nq,(0,z.t)(function(a){this.it=!1;a=z.Dn(a.target);a.r?z.T.message(a.msg):this.Hv(a.msg)},this),"GET"))};z.e.Hv=function(a){this.Ta.value=a};z.y(z.Lv,z.Hv);z.e=z.Lv.prototype;z.e.Hv=function(a){this.Zd?z.Lv.v.Hv.call(this,a):(a||(a=z.B?"":"\x3cdiv\x3e\x3c/div\x3e"),this.Ta.ge(!1,a,!0))};z.e.Uq=function(){this.ready(function(){this.Nq?this.Uy():this.Zd?z.Lv.v.Uq.call(this):this.content?this.Ta.ge(!1,this.content,!1,!0):this.Ta.ge(!1,z.D?"\x3cdiv\x3e\x3cbr\x3e\x3c/div\x3e":"\x3cdiv\x3e\x3c/div\x3e",!1,!0)})};z.e.D=function(){z.Cc(this.Ta);z.N(this.Vb);this.Er=this.hE=this.Hg=this.cm=this.rD=this.Wj=this.Vb=null;z.Lv.v.D.call(this)};
z.e.yf=function(){if(this.Zd)z.Lv.v.yf.call(this);else{var a=this.L();this.Vb=a.B("div","zm-editable-editor-wrap",this.Wj=a.B("div","zm-editable-editor-outer",[this.rD=a.B("div","zm-editable-toolbar-container"),this.cm=a.B("div","zm-editable-editor-field-wrap",this.Hg=a.B("div",{id:this.RU,className:"zm-editable-editor-field-element"}))]));this.hE=(0,window.$)(this.rD);this.Er=(0,window.$)(this.Vb);this.Er.hide();a.rA(this.Vb,this.Cd);this.Nq||(this.Hg.innerHTML=this.content);a={loremIpsum_:this.YA,
enableFullScreen:this.Cy,content:this.content,useScraper_:this.IZ,canUploadMedia_:this.Ix,useRemoveFormat_:this.IM};this.Tl();ov.ba().yf(this.Vb,a,(0,z.t)(this.nq,this));z.$h||(this.Zg=new z.mv(null,this.Wj),this.Zg.w(this.rD),z.hv(this.Zg,!1),z.iv(this.Zg),z.Ac(this,this.Zg))}};z.e.nq=function(a,b){if(this.Zd)z.Lv.v.nq.call(this);else{this.Ta=a;this.Er.show();z.Lv.v.nq.call(this);Mv(this,a,b);var c=a.dc.CodePlugin;c&&(c.pY(b),c.hh())}};
z.e.Wg=function(){z.Lv.v.Wg.call(this);this.ready(function(){this.Zd||this.FQ||(this.FQ=!0,z.ld(this.Ta,"load",function(){var a=this.Ta,b=a.dc.FullScreenPlugin;z.B&&(a=a.La);z.G(a,["focus","blur"],function(a){b&&z.S.has(window.document.body,b.J.Po)||Nv(this,"focus"===a.type)},!1,this)},!1,this),this.Ta.Be())})};z.e.yg=function(){if(this.Zd)return z.Lv.v.yg.call(this);var a=this.Ta;return tr(a.m(),!0)?"":a.mm()};z.e.oe=function(){z.Lv.v.oe.call(this);this.Zg&&z.hv(this.Zg,"editing"===this.status)};z.y(z.Pv,z.R);z.ka(z.Pv);
var HG='\x3cdiv class\x3d"zh-add-question-form"\x3e\n  \x3cdiv class\x3d"js-add-question-splash add-question-splash-page" \x3e\n    \x3cp\x3e\n      鐭ヤ箮鏄竴涓湡璇氥€佸弸鍠勩€佽鐪熴€佷簰鍔╃殑绀惧尯\x3cbr\x3e\n      鎴戜滑甯屾湜姣忎竴涓枒鎯戦兘鏈夎В绛旓紝濂界殑闂鏇村鏄撳緱鍒板ソ绛旀 \x3ca href\x3d"//www.zhihu.com/question/19555761"\x3e濡備綍鎻愪竴涓ソ闂锛焅x3c/a\x3e\n    \x3c/p\x3e\n    \x3cp\x3e\n      \x3cb\x3e鎻愰棶搴旈伒寰湡瀹炪€佸瑙傘€佺畝娲併€佹槑纭€佽鑼冪殑鍘熷垯\x3c/b\x3e\x3cbr\x3e\n      1銆佹彁闂簲灏藉彲鑳界畝娲佹槑浜嗭紝閬垮厤銆岃闂€嶃€屾湁璋佺煡閬撱€嶃€岃阿璋紒銆嶇瓑涓庨棶棰樻湰韬棤鍏崇殑闄勫姞璇€俓x3cbr\x3e\n      2銆佸簲閬垮厤浣跨敤銆屼负绁為┈銆嶃€岀闉嬨€嶃€岃偪涔堝姙銆嶇瓑缃戠粶鐢ㄨ銆俓x3cbr\x3e\n      3銆佸熀浜庝釜浜哄垽鏂垨浼犺█鐨勯棶棰橈紝鍦ㄦ彁闂椂搴斿湪琛ュ厖璇存槑閲岃缁嗚鏄庡師鐢盶x3cbr\x3e\n      4銆侀伩鍏嶅お瀹芥硾闂锛屽璋冩煡鎬х殑闂瀹规槗鍙樻垚姣忎釜浜洪兘鍙互鍙戣〃瑙傜偣锛屼絾瀵瑰叾浠栦汉娌℃湁浠峰€笺€俓x3cbr\x3e\n    \x3c/p\x3e\n    \x3cp\x3e\n      \x3cb\x3e鐭ヤ箮绂佹杩欎簺鎻愰棶\x3c/b\x3e\x3cbr\x3e\n      1銆佸拰宸叉湁闂瀹屽叏閲嶅鐨勯棶棰橈紝\x3cb\x3e涓洪伩鍏嶉噸澶嶏紝鎻愰棶鍓嶅彲浠ュ厛杩涜鎼滅储\x3c/b\x3e\x3cbr\x3e\n      2銆佹嫑鑱� / 姹傝亴銆佷氦鏄� / 鍚堜綔銆佸浜� / 寰佸弸銆佸彫闆� / 璧犻€併€佹眰鐮佺被鍐呭\x3cbr\x3e\n      3銆佹姇绁ㄧ被闂銆備緥濡傦細浣犳敮鎸佹柟鑸熷瓙杩樻槸闊╁瘨锛焅x3cbr\x3e\n      4銆佷綔涓氭垨鍏朵粬甯屾湜浠ｄ负瀹屾垚涓汉浠诲姟绫荤殑鍐呭锛屼互鍙婇拡瀵逛釜浜哄叿浣撶梾鎯呯殑姹傚尰闂嵂绫婚棶棰榎x3cbr\x3e\n      瀹屾暣鐨勬彁闂缓璁彲鏌ョ湅 \x3ca href\x3d"//www.zhihu.com/question/19806261"\x3e鐭ヤ箮鐨勬彁闂鑼冩湁鍝簺锛焅x3c/a\x3e\x3cbr\x3e\n    \x3c/p\x3e\n    \x3cdiv class\x3d"before-ask-form"\x3e\n      \x3cb\x3e鎻愰棶鍓嶈鍏堟悳绱x3c/b\x3e\n      \x3cdiv style\x3d"position:relative;margin-top:18px;"\x3e\n        \x3cinput type\x3d"text" class\x3d"zg-form-text-input" id\x3d"js-before-ask" placeholder\x3d"璇疯緭鍏ヤ綘鐨勯棶棰�"\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3cform class\x3d"js-add-question-form"\x3e\n    \x3cdiv class\x3d"zg-section-big clearfix"\x3e\n      \x3cdiv id\x3d"zm-modal-dialog-info-wrapper"\x3e\x3c/div\x3e\n      \x3cdiv style\x3d"display: none;position: relative;" id\x3d"zm-modal-dialog-warnmsg-wrapper"\x3e\x3cdiv class\x3d"zm-modal-dialog-warnmsg zm-modal-dialog-guide-warn-message zg-r5px"\x3e\x3c/div\x3e\n        \x3ca name\x3d"close" title\x3d"鍏抽棴" href\x3d"javascript:;" class\x3d"zu-global-notify-close"  style\x3d"display:none"\x3ex\x3c/a\x3e\n        \x3cspan class\x3d"zm-modal-dialog-guide-title-msg"\x3e\x3c/span\x3e\n      \x3c/div\x3e\n      \x3cdiv class\x3d"zg-form-text-input add-question-title-form" style\x3d"position: relative;"\x3e\n        \x3ctextarea rows\x3d"1" class\x3d"zg-editor-input" title\x3d"鍦ㄨ繖閲岃緭鍏ラ棶棰�" id\x3d"zh-question-suggest-title-content"\x3e\x3c/textarea\x3e\n      \x3c/div\x3e\n      \x3cspan id\x3d"js-title-length-err-msg" class\x3d"title-length-err-msg zg-right"\x3e\x3c/span\x3e\n      \x3cdiv id\x3d"zh-question-suggest-ac-wrap" class\x3d"question-suggest-ac-wrap"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"zg-section-big"\x3e\n      \x3cdiv style\x3d"display: none;position: relative;" class\x3d"zm-modal-dialog-warnmsg-wrapper"\x3e\n        \x3cdiv class\x3d"zm-modal-dialog-warnmsg zm-modal-dialog-guide-warn-message zg-r5px"\x3e\x3c/div\x3e\n        \x3ca name\x3d"close" title\x3d"鍏抽棴" href\x3d"javascript:;" class\x3d"zu-global-notify-close" style\x3d"display:none"\x3ex\x3c/a\x3e\n        \x3cspan class\x3d"zm-modal-dialog-guide-title-msg"\x3e\x3c/span\x3e\n      \x3c/div\x3e\n      \x3cdiv class\x3d"add-question-section-title"\x3e\n        \x3cspan class\x3d"zg-right extra-editor-toolbar hidden-phone"\x3e\n          \x3cdiv class\x3d"js-toggle-editor-toolbar"\x3e\x3ci class\x3d"tr-inline-icon z-ico-textedit"\x3e\x3c/i\x3e\x3c/div\x3e\n          \x3cdiv class\x3d"js-editor-add-pic"\x3e\x3ci class\x3d"tr-inline-icon tr-image"\x3e\x3c/i\x3e\x3c/div\x3e\n          \x3cdiv class\x3d"js-editor-add-video"\x3e\x3ci class\x3d"tr-inline-icon tr-video"\x3e\x3c/i\x3e\x3c/div\x3e\n        \x3c/span\x3e\n        闂璇存槑锛堝彲閫夛級锛歕n        \x3cspan id\x3d"zh-question-form-detail-err"\x3e\x3c/span\x3e\n      \x3c/div\x3e\n      \x3cdiv id\x3d"zh-question-suggest-detail-container"\x3e\n        \x3cdiv class\x3d"zm-editable-content" data-disabled\x3d"1"\x3e\x3c/div\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"zm-add-question-form-topic-wrap"\x3e\n      \x3cdiv class\x3d"add-question-section-title"\x3e\n        \x3cspan class\x3d"zg-gray zg-right hidden-phone"\x3e璇濋瓒婄簿鍑嗭紝瓒婂鏄撹鐩稿叧棰嗗煙涓撲笟浜哄＋鐪嬪埌浣犵殑闂\x3c/span\x3e\n        閫夋嫨璇濋锛歕n        \x3cspan id\x3d"zh-question-form-tag-err"\x3e\x3c/span\x3e\n      \x3c/div\x3e\n      \x3cdiv id\x3d"zh-question-suggest-topic-container" class\x3d"zm-tag-editor zg-section"\x3e\n        \x3cdiv class\x3d"zm-tag-editor-labels"\x3e\x3c/div\x3e\n        \x3cdiv id\x3d"zh-question-suggest-autocomplete-container"\x3e\x3c/div\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"zm-command"\x3e\n      '+(z.Y.uc?
"":'\x3clabel class\x3d"zm-question-form-hide-in-about-question-el zg-left"\x3e\n        \x3cinput type\x3d"checkbox" value\x3d"1" class\x3d"zg-addq-isanon"\x3e鍖垮悕\n      \x3c/label\x3e')+'\n      \x3ca href\x3d"javascript:;" name\x3d"cancel" class\x3d"zm-command-cancel"\x3e鍙栨秷\x3c/a\x3e\n      \x3ca href\x3d"javascript:;" name\x3d"addq" class\x3d"zg-r5px zu-question-form-add zg-btn-blue"\x3e鍙戝竷\x3c/a\x3e\n      \x3ca name\x3d"jumpq" class\x3d"zg-r5px zg-btn-blue zu-question-form-jump" style\x3d"display:none;"\x3e鏌ョ湅闂\x3c/a\x3e\n    \x3c/div\x3e\n  \x3c/form\x3e\n\x3c/div\x3e',
Sv=z.Jm.create("AddQuestionForm"+z.Y.be);z.e=z.Pv.prototype;
z.e.C=function(){z.Pv.v.C.call(this);var a=z.Ye((0,z.ab)(HG));this.S().appendChild(a);this.Uc=z.Co("zg-editor-input",this.h)[0];this.Kl=z.L("zu-question-form-add",this.h);this.mo=z.L("zu-question-form-jump",this.h);this.Jk=z.J("zm-modal-dialog-warnmsg-wrapper");this.tu=z.J("js-title-length-err-msg");this.dC=z.L("zm-modal-dialog-warnmsg-wrapper",this.h);this.gG=z.J("zh-question-form-detail-err");this.gD=z.J("zh-question-form-tag-err");this.KP=z.L("zu-global-notify-close",this.Jk);this.lZ=z.L("zu-global-notify-close",
this.dC);this.rT=z.J("zm-modal-dialog-info-wrapper");this.Ju=z.L("zm-modal-dialog-warnmsg",this.Jk);z.L("zm-modal-dialog-warnmsg",this.dC);this.sF=z.L("zg-addq-isanon",this.h);this.fZ=z.L("js-toggle-editor-toolbar",this.h);this.oO=z.L("js-editor-add-pic",this.h);this.sO=z.L("js-editor-add-video",this.h);this.IY=z.L("js-add-question-splash",this.h);this.mJ=z.L("js-add-question-form",this.h);this.dF=z.J("js-before-ask");this.qQ=z.J("zh-question-suggest-detail-container");this.kZ=z.J("zh-question-suggest-topic-container");
this.eA();this.lB?(Vv(this,!0),this.dA()):(this.vp(),Vv(this,!1));z.Y.uc&&iw(this)};z.e.Al=z.m(31);z.e.show=z.Ir(function(a){this.J=window.$.extend({Fn:null,Nk:null},a||{});this.F(!0)},!0,"#ask");z.e.Um=function(){z.Pv.v.Um.call(this);this.J={}};z.e.eA=function(){this.Ea("鎻愰棶");z.Zh(this,550);z.Rh(this,null);this.H=(0,window.$)(this.h);this.H.addClass("absolute-position");this.F(!0);this.ga()};z.e.vp=z.Wh(function(){Xv(this);this.jc();Rv(this)});z.e.sr={};z.e.sr.cC='\x3c% forEach(questions, function(q, i) { q \x3d q.data; %\x3e\x3cdiv class\x3d"ac-row" data-url_token\x3d"\x3c%\x3dq.url_token%\x3e" data-answer_count\x3d"\x3c%\x3dq.answer_count%\x3e"\x3e\x3c% if (q.is_star) { %\x3e\x3ca class\x3d"zg-star" data-tooltip\x3d"s$b$浼樿川闂瓟" href\x3d"/question/\x3c%\x3dq.url_token%\x3e"\x3e\x3c/a\x3e\x3c% } %\x3e\x3ca class\x3d"zippy-indicator"\x3e\x3ci\x3e\x3c/i\x3e\x3c/a\x3e\x3ca style\x3d"color:#222" href\x3d"/question/\x3c%\x3dq.url_token%\x3e?q\x3d\x3c%\x3d token %\x3e"\x3e\x3c%\x3dq.title%\x3e\x3c/a\x3e \x3cspan class\x3d"zm-ac-gray"\x3e\x3c%\x3d parseInt(q.answer_count) \x3e 0 ? q.answer_count + " 涓洖绛�" : "杩樻病鏈夊洖绛�" %\x3e \x3c/span\x3e\x3c/div\x3e\x3c% }) %\x3e';
z.e.sr.SO='\x3c% forEach(answers, function(a, i) { %\x3e\x3cdiv class\x3d"zippy-row"\x3e\x3cdiv class\x3d"summary-item"\x3e\x3ca class\x3d"inline-block zm-item-vote-count" href\x3d"/question/\x3c%\x3dquestion_url_token%\x3e/answer/\x3c%\x3da.url_token%\x3e"\x3e\x3c%\x3da.vote_count%\x3e\x3c/a\x3e\x3c% if (a.author.url_token) { %\x3e\x3ca class\x3d"inline-block" href\x3d"/people/\x3c%\x3da.author.url_token%\x3e"\x3e\x3cspan class\x3d"author"\x3e\x3c%-a.author.name%\x3e\x3c/span\x3e \x3c/a\x3e\x3c% } else { %\x3e\x3cspan class\x3d"inline-block anon-author"\x3e\x3c%-a.author.name%\x3e\x3c/span\x3e \x3c% } %\x3e\x3cspan class\x3d"inline-block summary ellipsis"\x3e\x3c%\x3da.summary_text%\x3e\x3c/span\x3e\x3ca class\x3d"inline-block" href\x3d"/question/\x3c%\x3dquestion_url_token%\x3e/answer/\x3c%\x3da.url_token%\x3e"\x3e闃呰鍏ㄩ儴 禄\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c% }) %\x3e';
z.e.dA=function(){function a(){Vv(b,!1);b.Uc.value=d.value}var b=this,c=(0,z.Gr)(this.sr.cC),d=this.dF,f=new Ns;this.gO=new z.Ms(d,{source:"/question/autocomplete",dj:d.offsetParent,sd:function(){},render:function(b,f,k){b=(0,window.$)(b.m());b.html(c({forEach:z.A,questions:k,token:(0,window.encodeURIComponent)(this.ic)}));0<k.length&&b.prepend('\x3cdiv class\x3d"ac-row ac-first"\x3e\x3cb\x3e浣犳兂闂殑鏄笉鏄細\x3c/b\x3e\x3c/div\x3e').append((0,window.$)('\x3cdiv class\x3d"ac-row ac-last iwanttoask"\x3e\x3ca href\x3d"#"\x3e涓嶆槸锛屾垜瑕佹彁涓€涓柊闂 禄\x3c/a\x3e\x3c/div\x3e'));
0===k.length&&d.value&&(b.html('\x3cdiv class\x3d"ac-row ac-last iwanttoask"\x3e\x3ca href\x3d"#"\x3e娌℃湁鎵惧埌鐩稿叧闂锛岄┈涓婃彁闂� 禄\x3c/a\x3e\x3c/div\x3e').show(),k.push("fake row"));b.off("click").on("click",".iwanttoask",a)},qA:f});this.gO.fo=!1};z.e.resetForm=function(){this.Uc.value="";this.Ma&&this.Ma.iw();this.Jk&&z.P(this.Jk,!1);this.Ma.reset()};
z.e.jc=function(){this.o().g(this.h,"click",this.ER);this.nU&&this.nU.w(this.Uc);this.PK=new z.Jr(this.Uc);this.o().g(this.PK,"change",this.lK);this.o().g(this.KP,"click",function(){z.P(this.Jk,!1);z.P(this.rT,!0)});this.o().g(this.lZ,"click",function(){z.P(this.dC,!1)});this.o().g(this,"afterhide",function(){aw(this)});$v(this)};z.e.ER=function(a){if(a=z.mr(this.h,a.target))switch(a=a.name,a){case "expand":z.S.add(this.h,"zg-qform-expanded");break;default:this.Ct(a)}};
z.e.Nk=function(){var a=z.Dn(this.xhr);if(!a)return Zv(this,!1),z.T.message("缃戠粶寮傚父");if(a.r){if(281===a.errcode){var b=new ew;b.Ve=a.msg;b.level=3;bw(this,b,!0)}else z.T.message(a.msg);Zv(this,!1)}else z.si.set("__Q_ISNEWLYCREATED__","yep"),Sv.clear(),(0,window.$)(window).off("beforeunload.AddQuestionForm"),a=a.msg,b=a.match(/\/question\/(\d+)/)[1],this.J.Nk?this.J.Nk({url:a,Ia:b}):window.location.href=a};
z.e.Ct=function(a){if("cancel"===a)this.F(!1);else if("addq"===a){a=fw(this);var b=cw(this);if(!(1<b.level||1<a.level)){var c=gw(this),d=new ew;3E3<pr(c)?(d.level=3,d.Ve="璇锋帶鍒跺湪 3000 瀛椾互涓�"):d.level=0;c=1<d.level;this.gG.innerHTML=d.Ve;z.P(this.gG,c);Yv(this,c,"detail");this.jK()}Yv(this,1<b.level||1<a.level,"title");this.lG?bw(this,1<a.level?a:b,!0):(0,window.$)(this.Kl).attr("disabled")||(Zv(this,!0),this.xhr=new z.dp(!0),this.o().ta(this.xhr,"success",this.Nk),this.xhr.ajax("/question/add",hw(this).Gd()),
this.Ma.trackEvent())}};z.e.lK=function(){var a=fw(this),b=cw(this);"toolong"===a.name||"buffer"===a.name?(this.tu.innerHTML=a.Ve,z.P(this.tu,!0)):(this.tu.innerHTML=a.Ve,z.P(this.tu,!1));"multiquestionmark"===b.name||"duplicatedquestion"===b.name?bw(this,b,!0):bw(this,b,!1);Yv(this,1<b.level,"title")};z.e.jK=function(){var a=!1;1>this.Ma.data.length?(a=!0,this.gD.innerHTML="鑷冲皯娣诲姞涓€涓瘽棰�"):5<this.Ma.data.length&&(a=!0,this.gD.innerHTML="鏈€澶氭坊鍔犱簲涓瘽棰�");z.P(this.gD,a);Yv(this,a,"topic")};
z.e.uV=function(){this.$b&&Ov(this.$b)};jw.prototype.init=function(){var a=(0,window.$)("#zh-question-related-questions");if(a.length){var b=(0,window.$)("li",a),c=function(a,b,c){var h=1,k=Math.ceil(a.length/b);return{next:function(){1!==k&&(h=h===k?1:h+1,c(h))},aQ:function(){var c=(h-1)*b;return a.slice(c,c+b)}}}(b,5,function(){b.attr("hidden","true");c.aQ().removeAttr("hidden")});(0,window.$)(".next",a).click(function(){c.next();z.W("question_answer","click_sidebarrelatedquestions_pager")});b.each(function(a,b){z.V.Va(b,{module:"QuestionItem"},
function(){return{card:{card_type:"Content",content:{type:"Question",id:b.getAttribute("data-id")}}}})})}};z.p(z.kw,z.dk);z.kw.prototype.B=function(){z.dk.prototype.B.call(this);this.X((0,window.$)(".phone-verification-template").html())};z.kw.prototype.C=function(){z.dk.prototype.C.call(this);var a=(0,window.$)(".view.verification",this.dd),b=new z.xk(this.Oo);this.K(b);b.vd(this.eg);b.w(a[0])};z.p(lw,z.Q);lw.prototype.C=function(){z.Q.prototype.C.call(this);this.uf()};
lw.prototype.uf=function(){var a=this,b=this.m();this.tl=(0,window.$)(".SignFlow-panel",b);this.tl.on("click",".switch-to-login",function(){a.tl.filter(":visible").attr("hidden",!0).siblings().removeAttr("hidden");a.sa({category:"sign_in",action:"switch_to_sign_in_box_appear"});z.V.trackEvent(a.tl,{action:"Click",element:"Button",element_name:"SignIn"})});var c=(0,window.$)(".LoginForm",b)[0],d=new z.tk({Sn:z.uk});d.vd(this.eg);d.w(c);b=(0,window.$)(".SignupForm",b)[0];c=new z.wk;c.vd(this.eg);c.w(b);
c.g("success",function(b){b=new z.kw(b.data);b.xb(a);b.F(!0)})};z.Ca(lw.prototype,z.$m);z.p(mw,z.Pj);mw.prototype.C=function(){z.Pj.prototype.C.call(this);z.Zh(this,310)};mw.prototype.B=function(){z.Pj.prototype.B.call(this);this.X('\x3cp class\x3d"title DownloadAppDialog-title"\x3e鎵弿浜岀淮鐮佷笅杞界煡涔� App\x3c/p\x3e\n  \x3cdiv class\x3d"DownloadAppDialog-QRCode"\x3e\x3c/div\x3e')};z.p(nw,z.R);nw.prototype.C=function(){z.R.prototype.C.call(this);this.Ea("涓嬭浇鐭ヤ箮瀹㈡埛绔�");z.Zh(this,310);this.ud(!0)};nw.prototype.B=function(){z.R.prototype.B.call(this);this.X('\x3cp class\x3d"title DownloadAppDialog-title"\x3e鎵弿浜岀淮鐮佷笅杞界煡涔� App\x3c/p\x3e\n  \x3cdiv class\x3d"DownloadAppDialog-QRCode"\x3e\x3c/div\x3e')};ow.prototype.init=function(){this.kA();pw();qw();rw(this)};ow.prototype.kA=function(){var a=(0,window.$)("#SidebarSignFlow")[0];if(a){var b=function(b){var d=(0,window.$)(".account",a);b||d.attr("name","account").attr("aria-label","鎵嬫満鍙锋垨閭").attr("data-placeholder","鎵嬫満鍙锋垨閭");(0,window.$)("[data-placeholder]",a).attr("placeholder",function(){return(0,window.$)(this).attr("data-placeholder")})};window.$.get("/register/is_domestic").then(function(c){b(c.value);c=new lw;c.vd("sidebar_signflow");c.w(a)})}};z.p(sw,z.Q);
sw.prototype.C=function(){var a=this;z.Q.prototype.C.call(this);var b=this.m(),c=(0,window.$)(b),d=c.find(".shameimaru-close"),f=c.find(".shameimaru-pixel"),g=c.data("close"),h=c.data("info"),k=JSON.parse(c.find('meta[itemprop\x3d"view_url"]').attr("content"));z.V.Va(this,{module:"AdItem"},function(){return{card:{card_type:"Content",content:[z.uw(h)]}}});z.vn(b,function(){z.V.trackCardShow(a,{element:"Image"});k.forEach(function(a){return z.tw(a)})});f.on("load",function(){z.V.trackEvent(a,{element:"Image",
action:"Load"})});d.one("click",function(b){b.preventDefault();z.tw(g);z.V.trackEvent(a,{element:"Button",action:"Ignore"});c.fadeOut(500,function(){return c.remove()});a.dispose()})};z.p(ww,z.Q);ww.prototype.init=function(){var a=(0,window.$)(".AppPromotionBar");this.Je=a;var b=this;if(a.length&&(0,window.$)("html").hasClass("is-AppPromotionBarVisible"))a.on("click",".AppPromotionBar-closeButton, .AppPromotionBar-downloadButton",function(){(0,window.$)(this).hasClass("AppPromotionBar-downloadButton")?z.W("app-promotion","click_mobileweb_app_dl_bar_download_btn"):z.W("app-promotion","click_mobileweb_app_dl_bar_close_btn");z.si.set("hideAppPromotionBar","true");b.nC()})};
ww.prototype.nC=function(){var a=this.Je;a.addClass("is-hidden");(0,window.setTimeout)(function(){a.remove()},200)};z.p(yw,z.Q);
yw.prototype.init=function(){this.Je=(0,window.$)(".DownloadGuide");var a=this,b=/Android/.test(window.navigator.userAgent),c=/iPhone|iPad/.test(window.navigator.userAgent),d=/MicroMessenger/.test(window.navigator.userAgent),f=/Weibo/.test(window.navigator.userAgent);/douban/.test(window.navigator.userAgent);(0,window.$)(".DownloadGuide-downloadButton").on("click",function(){z.V.trackEvent(this,{action:"Download",name:"downloadGuideButton"});xw(function(){window.location.href=d?"http://a.app.qq.com/o/simple.jsp?pkgname\x3dcom.zhihu.android\x26g_f\x3d991703":f?
"http://t.cn/Rt8oSLV":b?"http://api.zhihu.com/client/download/apk":c?"itms-apps://itunes.apple.com/app/apple-store/id432274380":"https://www.zhihu.com/app"})});(0,window.$)(".DownloadGuide-header").on("click",function(){z.V.trackEvent(this,{action:"Click",name:"header"})});(0,window.$)(".DownloadGuide-resumeButton").on("click",function(){z.V.trackEvent(this,{action:"Click",name:"resume"});a.nC()})};
yw.prototype.nC=function(){var a=this.Je;a.addClass("is-hidden");(0,window.setTimeout)(function(){a.remove()},600)};var Bw;z.p(Ew,z.Q);z.e=Ew.prototype;z.e.init=function(){var a=window.document.querySelector(".js-WechatLoginIntro");a&&this.w(a)};z.e.C=function(){z.Q.prototype.C.call(this);this.h.querySelector(".js-login").addEventListener("click",this.WS.bind(this));this.h.querySelector(".js-other").addEventListener("click",this.BS.bind(this));this.h.querySelector(".js-close").addEventListener("click",this.close.bind(this));z.ti({action:"show",category:"wechat-login-intro"})};
z.e.WS=function(){z.ti({category:"wechat_login_intro",action:"click_main"})};z.e.BS=function(){(new z.uk).show();z.ti({category:"wechat_login_intro",action:"click_other"})};z.e.close=function(){this.h.parentNode.removeChild(this.h);window.$.post("/intro/wechat/uninterest");z.ti({category:"wechat_login_intro",action:"close"})};z.p(Fw,z.Q);z.e=Fw.prototype;
z.e.init=function(){var a=this,b=JSON.parse(window.localStorage.getItem("zhihu::wechat_oauth"));if(z.lj&&z.Y.authed()&&!b){var b=JSON.parse(window.localStorage.getItem("zhihu::oauth_status"))||{},c=b.isError;"wechat_mp_quick_bind"===b.type?(this.template='\x3cdiv class\x3d"wechat-binding-result is-active"\x3e\x3c/div\x3e',this.xA=c,this.authed=!0,this.render(window.document.body),window.localStorage.removeItem("zhihu::oauth_status"),window.localStorage.setItem("zhihu::wechat_oauth",!0)):(this.template=
(0,window.$)("#wechat-binding").html(),window.$.get("/oauth/bind").then(function(b){b.data.wechat||a.render(window.document.body)}))}};z.e.B=function(){z.Q.prototype.B.call(this);this.h=z.M("div",{innerHTML:this.template})};
z.e.C=function(){z.Q.prototype.C.call(this);this.H=(0,window.$)(this.h);this.authed?(this.Rb=this.H.find(".wechat-binding-result"),this.Rb.text(this.xA?"璇ュ井淇″凡缁戝畾鍏朵粬鐭ヤ箮甯愬彿":"鎴愬姛缁戝畾寰俊璐﹀彿"),this.Rb.on("click",this.XH.bind(this)),(0,window.setTimeout)(this.XH.bind(this),5E3)):(this.Rb=this.H.find(".wechat-binding"),this.H.on("click",".js-submit",this.Mz.bind(this)),this.H.on("click",".js-cancle",this.CR.bind(this)),this.show())};
z.e.XH=function(){this.Rb&&this.Rb.length&&(this.Rb.removeClass("is-active"),this.Rb.remove(),this.Rb=null)};z.e.Mz=function(){window.location.href="/oauth/redirect/bind/wechat_mp_quick_bind?from\x3d"+window.location.pathname};z.e.CR=function(){window.localStorage.setItem("zhihu::wechat_oauth",!0);this.hide()};z.e.show=function(){this.Rb.addClass("is-active")};z.e.hide=function(){this.Rb.removeClass("is-active")};z.ka(Gw);var Iw=z.Jm.create("Report"+z.Y.be);Gw.prototype.$N='\x3cdiv id\x3d"zh-feedback-form"\x3e\x3cselect name\x3d"type" class\x3d"zg-editor-type zg-right"\x3e\x3coption value\x3d"help"\x3e浣跨敤甯姪 \x3c/option\x3e\x3coption value\x3d"bug"\x3e闂鍙嶉\x3c/option\x3e\x3coption value\x3d"search_suggest"\x3e鎼滅储鍙嶉\x3c/option\x3e\x3coption value\x3d"suggest"\x3e鍔熻兘寤鸿\x3c/option\x3e\x3c/select\x3e\x3cdiv class\x3d"zg-report-title"\x3e\x3cspan class\x3d"zg-gray-darker"\x3e璇峰～鍐欎綘鐨勫弽棣堝唴瀹筡x3c/span\x3e\x3cspan class\x3d"zg-report-msg" style\x3d"display:none;"\x3e璇烽€夋嫨鍙嶉绉嶇被锛歕x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"zg-editor-simple-wrap zg-form-text-input zg-report-content"\x3e\x3ctextarea class\x3d"zg-editor-input" name\x3d"content"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3c/div\x3e';
Gw.prototype.defaults={title:"寤鸿鍜屽弽棣�"};Gw.prototype.uf=function(a){var b=(0,window.$)("#zh-feedback-form"),c=(0,window.$)("select",b),b=(0,window.$)("textarea",b);new z.Jr(b[0]);c.toggle(!a.type);b.html(Iw.get("content")||"");b.on("input change",function(){Iw.set("content",this.value)})};Gw.prototype.create=function(a){var b=window.$.extend(this.defaults,a||{});z.T.confirm(b.title,this.$N,function(a){if(a)return Hw(b)},this);this.uf(b)};var IG,KG;
KG={"rt:button":function(){(0,z.JG)(this,"roundtable",null,["zg-btn-follow","zg-btn-unfollow"])},"rt:link":function(){(0,z.JG)(this,"roundtable",null,null,{follow_text:"鍏虫敞鍦嗘"})},"c:link":function(){(0,z.JG)(this,"column",null,null,{follow_text:"鍏虫敞涓撴爮"})},"c:button":function(){(0,z.JG)(this,"column",null,["zg-btn-follow","zg-btn-unfollow"])},"q:link":function(){(0,z.JG)(this,"question",null,null,{follow_text:"鍏虫敞闂"})},"m:link":function(){var a=this.getAttribute("data-follow_text");(0,z.JG)(this,"people",
null,null,a?{follow_text:a}:{})},"t:link":function(){(0,z.JG)(this,"topic",null,null,{follow_text:"鍏虫敞璇濋"})},"t:link:simple":function(){(0,z.JG)(this,"topic")},"m:button":function(){var a=this;(0,z.JG)(a,"people",function(){a.getAttribute("data-followme")&&(z.S.has(a,"zg-btn-follow")?a.setAttribute("data-tooltip","s$b$瀵规柟宸插叧娉ㄤ綘"):a.setAttribute("data-tooltip","s$b$宸蹭簰鐩稿叧娉�"))},["zg-btn-follow","zg-btn-unfollow"])},"q:fi:button":function(){var a=this;(0,z.JG)(a,"question",function(b){(0,window.$)(".label",
a).text(b?"鍙栨秷鍏虫敞":"鍏虫敞");var c=(0,window.$)(".count",a);b=Number(c.data("count"))+(b?1:-1);c.length&&(b=Math.max(b,0),c.text("锛�"+b+"锛�").data("count",b))},["unfollowing","following"])},"q:m:button":function(){(0,z.JG)(this,"question",null,["zg-btn-green","zg-btn-white"],{follow_text:"鍏虫敞闂"})},"f:button":function(){(0,z.JG)(this,"favlist",null,["zg-btn-follow","zg-btn-unfollow"])},"f:link":function(){(0,z.JG)(this,"favlist",null,null,{follow_text:"鍏虫敞鏀惰棌澶�"})},"t:button":function(){(0,z.JG)(this,"topic",
null,["zg-btn-follow","zg-btn-unfollow"])},"ad:m:button":function(){if(z.S.has(this,"zg-btn-view"))return window.open(this.getAttribute("data-view"));(0,z.JG)(this,"people",null,["zg-btn-follow","zg-btn-view"],{follow_text:"鍏虫敞甯愬彿",unfollow_text:"鍘诲線涓婚〉"})},"ad:q:button":function(){if(z.S.has(this,"zg-view"))return window.open(this.getAttribute("data-view"));(0,z.JG)(this,"question",null,["zg-follow","zg-view"],{follow_text:"鍏虫敞闂",unfollow_text:"鏌ョ湅闂"})}};
z.JG=z.Ir(function(a,b,c,d,f){function g(a){a.r?z.T.message(a.msg):h(n)}function h(b){b?(z.S.Zw(a,k,l),Yq(a,f.unfollow_text||"鍙栨秷鍏虫敞")):(z.S.Zw(a,l,k),Yq(a,f.follow_text||"鍏虫敞"+((0,window.$)(a).data("gender")||"")));z.qa(c)&&c(b)}IG&&"pending"===IG.state()&&IG.abort();f=f||{};b=b||a.getAttribute("data-focustype");d=d||["zg-follow","zg-unfollow"];var k=d[0],l=d[1],n=z.S.has(a,k);z.U.Ab({type:"ga_click_follow",target:a,data:{type:b,zk:n}});var q;q={roundtable:Kw,column:Jw,people:ft,question:gt,topic:it,
favlist:ht}[b];d=a.getAttribute("data-id")||a.id.match(/-(.*)/)[1];q&&(q=q(d,n),"people"===b&&n?q.done(g):h(n),IG=q,q={type:{roundtable:"Roundtable",column:"Column",people:"User",question:"Question",topic:"Topic",favlist:"Collection"}[b]},"people"===b?q.member_hash_id=d:"roundtable"===b?q.token=d:q.id=d,z.V.trackEvent(a,{action:n?"Follow":"UnFollow",element:"Button"},{content:q}))});z.y(Lw,z.H);var Pw=["group","key","name"];Nw.prototype.defaults={rQ:"甯姪淇℃伅",uy:"shortcut-tips-dialog"};Nw.prototype.Db=function(){z.pl(z.en.register("shift+/",this.show,this),{group:"瀵艰埅",name:"甯姪",key:"?"})};Nw.prototype.show=function(){var a=this.J;z.T.alert({title:a.rQ,content:Uw(),className:a.uy})};var Ww=z.Lj(function(a){var b=z.sm["ra-urls"],c=b&&b[a];return c?new window.Promise(function(b){window.$.ajax({url:c,dataType:"script",cache:!0}).then(function(){b(window.ra[a])})}):window.Promise.reject(Error("Missing react app name: "+a))});var ax=[];z.rp.on("init",function(){function a(){var b=ax.shift();b&&(b=b[0],b.length?b(a):(b(),a()))}a()});z.rp.on("init",function(){(0,window.$)("img.lazy").attr("data-lazyloaded","").lazyload({load:function(){(0,window.$)(this).trigger("contentchange")},data_attribute:"actualsrc",event:"scroll updatelazy",threshold:400})});z.rp.on("init",function(){z.Y.email&&z.si.set("lastuser:email",z.Y.email)});$w(function(a){z.Y.uc||z.Mm||new sp({Nk:a})},0);
$w(function(){"#ask"===window.location.hash&&(z.Pv.ba().show(),window.history.replaceState?window.history.replaceState(null,window.document.title,window.location.pathname+window.location.search):window.location.hash="")},window.Infinity);z.rp.on("init",function(){(new jw).init()});z.rp.on("init",function(){(new ow).init()});z.rp.on("init",function(){vw()});z.rp.on("init",function(){(new ww).init()});z.rp.on("init",function(){(new yw).init()});z.rp.on("init",function(){z.Aw()});z.rp.on("init",function(){z.Dk()});
z.rp.on("init",function(){return(new Ew).init()});z.rp.on("init",function(){return(new Fw).init()});z.rp.on("init",function(){z.Sk()});z.rp.on("postinit",function(){(0,window.$)("#js-feedback-button").click(function(){Gw.ba().create()})});z.rp.on("init",function(){(0,window.$)(window.document.body).on("click.follow","[data-follow]",function(){if(this.name)return rr("鏈竻闄ょ殑 name 灞炴€�:",this);var a=this.getAttribute("data-follow");(a=a&&KG[a])&&a.call(this)})});
z.rp.on("postinit",function(){window.FastClick&&!z.Pm&&window.FastClick.attach(window.document.body)});
z.rp.on("postinit",function(){if(z.Y.authed())if(window.WebSocket){var a;a=-1!==z.Z.to.indexOf("https")?z.Z.to.replace("https","wss"):z.Z.to.replace("http","ws");(new Lw(a)).addEventListener("message",function(a){un(z.U,JSON.parse(a.data.replace(/^\+;/,"")))})}else a=new mq({url:z.fm,data:{loc:window.location.href,channel:(0,z.I)()+Gn()},dataType:"polling",converters:{"text polling":function(a){return JSON.parse(a.replace(/^\+;/,""))}}}),a.addEventListener("message",function(a){un(z.U,a.data)}),a.TB()});
z.rp.on("init",function(){new Nw;z.tl.prototype.defaults.offsetTop=-60;var a=(0,window.$)('div[data-widget\x3d"navigable"], ul[data-widget\x3d"navigable"]');if(1===a.length){var b=a.data("navigable-options"),b=new z.tl(b);b.w(a.get(0));var c=(0,window.$)("#zh-load-more");b.on("action",function(a){a.data.index>=a.data.size&&c.is(":visible")&&c[0].click()})}});z.rp.on("init",function(){(0,window.$)(window.document).on("click",'a[href\x3d"#"]',function(a){a.preventDefault()})});
z.rp.on("postinit",function(){var a=window.location.pathname;z.Y.authed()&&"/"===a||/^\/(question|explore|collection|topic|people|search|roundtable\/)/.test(a)?z.Vw("CommentApp"):/^\/copyright(\/|$)/.test(a)&&z.Vw("Copyright")});
z.rp.on("postinit",function(){(0,window.$)(".js-openProfilePage").on("click",function(){var a=(0,window.$)(this).attr("data-url"),a=(0,window.$)("\x3cform target\x3d'_blank' method\x3d'POST' style\x3d'display:none;'\x3e\x3c/form\x3e").attr({action:a}).appendTo(window.document.body);(0,window.$)('\x3cinput type\x3d"hidden" /\x3e').attr({name:"content",value:(0,window.$)("#performance-profile-data").text()}).appendTo(a);a.submit();a.remove()})});
z.rp.on("init",function(){var a=z.Ai.get("d_c0",""),b=new z.dp(!0);""===a&&b.ajax("/udid","","POST")});z.rp.on("postinit",function(){z.Z.fb||Zw()});z.y(bx,sq);bx.prototype.add=function(a){z.rb(this.queue,a)||(this.queue.push(a),z.G(a,"finish",this.RJ,!1,this))};bx.prototype.remove=function(a){z.tb(this.queue,a)&&z.md(a,"finish",this.RJ,!1,this)};bx.prototype.D=function(){z.A(this.queue,function(a){a.dispose()});this.queue.length=0;bx.v.D.call(this)};z.y(cx,bx);
cx.prototype.play=function(a){if(0==this.queue.length)return!1;if(a||this.N==tq)this.Vy=0,this.Jg();else if(1==this.N)return!1;this.Dd("play");-1==this.N&&this.Dd("resume");var b=-1==this.N&&!a;this.startTime=(0,z.I)();this.endTime=null;this.N=1;z.A(this.queue,function(c){b&&-1!=c.N||c.play(a)});return!0};cx.prototype.pause=function(){1==this.N&&(z.A(this.queue,function(a){1==a.N&&a.pause()}),this.N=-1,this.Dd("pause"))};
cx.prototype.stop=function(a){z.A(this.queue,function(b){b.N==tq||b.stop(a)});this.N=tq;this.endTime=(0,z.I)();this.Dd("stop");this.Kg()};cx.prototype.RJ=function(){this.Vy++;this.Vy==this.queue.length&&(this.endTime=(0,z.I)(),this.N=tq,this.Dd("finish"),this.Kg())};z.y(gx,z.hj);z.e=gx.prototype;z.e.init=function(){if(!z.rm("back_to_top")){this.h=z.Ye(this.VY);window.document.body.appendChild(this.h);var a=new z.oi(this.Uu,this.YY,this);this.eM=(0,z.t)(a.fire,a);this.o().g(window,"resize",this.mK);this.mK()}};z.e.start=function(){this.bl||(this.bl=!0,this.o().g(window,"scroll",this.eM).g(this.h,"click",this.aF),this.Uu())};z.e.stop=function(){this.bl&&(this.bl=!1,this.o().pa(window,"scroll",this.eM).pa(this.h,"click",this.aF),this.hide())};
z.e.mK=function(){z.Qe().width>=this.QU?this.start():this.stop()};z.e.VY='\x3cdiv class\x3d"zh-backtotop" style\x3d"display:none"\x3e\x3ca data-action\x3d"backtotop" data-tooltip\x3d"s$r$鍥炲埌椤堕儴" href\x3d"javascript:;" class\x3d"btn-backtotop btn-action"\x3e\x3cdiv class\x3d"arrow"\x3e\x3c/div\x3e\x3cdiv class\x3d"stick"\x3e\x3c/div\x3e\x3c/a\x3e\x3c/div\x3e';
z.e.aF=function(){var a=z.Se(window.document),b=z.Re(window.document),c=b.x,b=b.y,d=new cx,f=this.o();d.add(new Pq(a,[c,b],[0,0],this.XX,fx));d.add(new Uq(this.h,this.Sy,ex));f.g(d,"finish",this.vV);f.g(d,"begin",this.iV);d.play();z.U.Ab("ga_click_back_to_top");z.V.trackEvent(this,{action:"BackToTop",element:"Button"})};z.e.iV=function(){this.kx=this.kp=!0};z.e.vV=function(){this.kx=!1};z.e.show=function(){(new Vq(this.h,this.Sy,dx)).play();this.kp=!1};
z.e.hide=function(){(new Uq(this.h,this.Sy,ex)).play();this.kp=!0};z.e.Uu=function(){this.kx||(1200<=z.Re(window.document).y?this.kp&&this.show():this.kp||this.hide())};hx.prototype.link="鎯虫潵鐭ヤ箮宸ヤ綔锛熻鍙戦€侀偖浠跺埌 jobs@zhihu.com";hx.prototype.VO="          _____                    _____                    _____                    _____          \n         /\\    \\                  /\\    \\                  /\\    \\                  /\\    \\         \n        /::\\____\\                /::\\    \\                /::\\    \\                /::\\    \\        \n       /:::/    /                \\:::\\    \\              /::::\\    \\              /::::\\    \\       \n      /:::/    /                  \\:::\\    \\            /::::::\\    \\            /::::::\\    \\      \n     /:::/    /                    \\:::\\    \\          /:::/\\:::\\    \\          /:::/\\:::\\    \\     \n    /:::/____/                      \\:::\\    \\        /:::/__\\:::\\    \\        /:::/__\\:::\\    \\    \n   /::::\\    \\                      /::::\\    \\      /::::\\   \\:::\\    \\      /::::\\   \\:::\\    \\   \n  /::::::\\    \\   _____    ____    /::::::\\    \\    /::::::\\   \\:::\\    \\    /::::::\\   \\:::\\    \\  \n /:::/\\:::\\    \\ /\\    \\  /\\   \\  /:::/\\:::\\    \\  /:::/\\:::\\   \\:::\\____\\  /:::/\\:::\\   \\:::\\    \\ \n/:::/  \\:::\\    /::\\____\\/::\\   \\/:::/  \\:::\\____\\/:::/  \\:::\\   \\:::|    |/:::/__\\:::\\   \\:::\\____\\\n\\::/    \\:::\\  /:::/    /\\:::\\  /:::/    \\::/    /\\::/   |::::\\  /:::|____|\\:::\\   \\:::\\   \\::/    /\n \\/____/ \\:::\\/:::/    /  \\:::\\/:::/    / \\/____/  \\/____|:::::\\/:::/    /  \\:::\\   \\:::\\   \\/____/ \n          \\::::::/    /    \\::::::/    /                 |:::::::::/    /    \\:::\\   \\:::\\    \\     \n           \\::::/    /      \\::::/____/                  |::|\\::::/    /      \\:::\\   \\:::\\____\\    \n           /:::/    /        \\:::\\    \\                  |::| \\::/____/        \\:::\\   \\::/    /    \n          /:::/    /          \\:::\\    \\                 |::|  ~|               \\:::\\   \\/____/     \n         /:::/    /            \\:::\\    \\                |::|   |                \\:::\\    \\         \n        /:::/    /              \\:::\\____\\               \\::|   |                 \\:::\\____\\        \n        \\::/    /                \\::/    /                \\:|   |                  \\::/    /        \n         \\/____/                  \\/____/                  \\|___|                   \\/____/         \n";z.y(ix,z.hj);z.LG=null;ix.prototype.init=function(){z.LG=this;z.jx(this)};ix.prototype.LV=function(){var a=z.Dn(this.Lk);a&&!a.r&&un(z.U,[a])};var lx=window.localStorage&&!z.si.Im()||z.Lm&&(!z.Pm||z.Om);z.y(z.mx,z.hj);z.e=z.mx.prototype;z.e.defaults={MW:"pm",rv:!1,El:!0};z.e.Zh=function(a){this.h=a};z.e.m=function(){return this.h};z.e.eA=function(){this.Na=new z.R(null);this.Na.Ea("鍙戦€佺淇�");z.Rh(this.Na,null);this.Na.ud(!0);this.Na.F(!0);this.h=this.Na.S()};z.e.focus=function(){this.init();this.Kd.focus()};
z.e.init=function(){this.$S||(this.$S=!0,this.xr&&(this.Na||this.eA(),this.h.innerHTML='\x3cdiv class\x3d"zm-pm-wrap"\x3e\x3cdl class\x3d"zm-form-table zm-form-table-medium"\x3e\x3cdt class\x3d"zm-form-table-head zm-form-table-head-align-middle"\x3e\x3clabel class\x3d"zg-medium-gray"\x3e鍙戠粰锛歕x3c/label\x3e\x3c/dt\x3e\x3cdd class\x3d"zm-form-table-field"\x3e\x3cdiv class\x3d"zm-pm-selector-wrap"\x3e\x3cdiv class\x3d"zg-user-name" style\x3d"display:none;padding:4px 0 0 0"\x3e\x3c/div\x3e\x3cinput class\x3d"zg-form-text-input zm-pm-user-selector" type\x3d"text" /\x3e\x3c/div\x3e\x3c/dd\x3e\x3cdt class\x3d"zm-form-table-head zm-form-table-head-align-middle"\x3e\x3clabel class\x3d"zg-medium-gray"\x3e鍐呭锛歕x3c/label\x3e\x3c/dt\x3e\x3cdd class\x3d"zm-form-table-field zm-form-table-field-last"\x3e\x3cdiv class\x3d"zg-editor-simple-wrap zg-form-text-input"\x3e\x3ctextarea class\x3d"zg-editor-input" style\x3d"font-weight:normal"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3c/dd\x3e\x3c/dl\x3e\x3cdiv class\x3d"zh-pm-warnmsg" style\x3d"display:none;text-align:left;color:#C3412F;padding: 10px 0 0 46px;"\x3e\x3c/div\x3e\x3cdiv class\x3d"zm-command zg-clear"\x3e\x3cdiv class\x3d"zm-item-meta zg-left" style\x3d"margin: 0 0 0 57px;"\x3e\x3cspan class\x3d"zg-text-counter" style\x3d"display:none"\x3e杩樺彲浠ヨ緭鍏� 500 瀛梊x3c/span\x3e\x3cspan class\x3d"additional-info" \x3e\x3c/span\x3e\x3c/div\x3e\x3ca name\x3d"cancel" href\x3d"javascript:;" class\x3d"zm-command-cancel"\x3e鍙栨秷\x3c/a\x3e\x3ca name\x3d"send" href\x3d"javascript:;" class\x3d"zg-btn-blue zg-r3px" id\x3d"zh-question-pm-send-button"\x3e鍙戦€乗x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'),this.ji=
z.L("zg-user-name",this.h),this.Kd=z.L("zg-editor-input",this.h),this.td=z.L("zm-pm-user-selector",this.h),this.uo=z.L("zm-command",this.h),z.L("zg-text-counter",this.h),this.Ju=z.L("zh-pm-warnmsg",this.h),(0,window.$)(".additional-info",(0,window.$)(this.h)),new z.Jr(this.Kd),this.o().g(this.uo,"click",this.Ya).g(this.ji,"click",this.Ya).g(this.Kd,"keydown",this.jS),this.td&&((new z.at("鎼滅储鐢ㄦ埛")).w(this.td),this.o().g(this.td,"blur",this.xP),this.O=new z.ot("/people/autocomplete?type\x3d"+this.J.MW,
this.td,null,null,z.L("zm-pm-wrap",this.h),!0),this.O.Ug(!0),this.o().g(this.O,"select",this.XV)))};z.e.jS=function(a){13===a.keyCode&&(a.ctrlKey||a.metaKey)&&(this.hp(),a.preventDefault())};z.e.xP=function(){this.vF&&(0,window.clearTimeout)(this.vF);this.vF=(0,window.setTimeout)((0,z.t)(this.yP,this),200)};z.e.yP=function(){var a=z.ar(this.td.value);-1===this.Dn&&a&&"鎼滅储鐢ㄦ埛"!==a&&px(this,"璇疯緭鍏ュ鏂瑰鍚嶏紝浠庝笅鎷夎彍鍗曢噷閫夋嫨鏀朵欢浜�")};z.e.Zq=function(a){this.xL=a};z.e.show=function(){this.init();this.xr&&(this.Na.F(!0),this.Na.ga())};
z.e.XV=function(){var a=z.yb(this.O.zg(),1);z.ox(this,a[3],a[0],!0)};z.e.hp=function(){if(!this.Ei||"pending"!==this.Ei.state())if(-1===this.Dn)px(this,"璇峰～鍐欐敹淇′汉銆�");else{var a=this.Kd.value;(0,z.ab)(a)?(a=-1!==this.jD?window.$.post("/inbox/reply",{message_id:this.jD,content:a,token:this.xL,type:this.dM}):window.$.post("/inbox/post",{member_id:this.Dn,content:a,token:this.xL,type:this.dM}),a.done((0,z.t)(this.ZV,this)),this.Ei=a):px(this,"璇峰～鍐欑淇″唴瀹广€�")}};
z.e.Ya=function(a){if(a=(a=this.uh(a.target))&&a.name)switch(a){case "edit":this.Dn=-1;z.dr(this.td,this.ji);break;case "cancel":this.xr&&this.Na.F(!1);break;case "send":this.hp()}};z.e.ZV=function(a){qr("message","send_message");if(!a)return z.T.message("缃戠粶寮傚父");if(a.r)return 40312===a.errcode?z.Ir((0,z.t)(this.hp,this),{activated:!0})():px(this,a.msg);this.xr&&this.Na.F(!1);this.J.rv?window.location.reload():z.T.message("鍙戦€佹垚鍔�")};qx.prototype.ga=function(){};z.y(z.rx,qx);z.rx.prototype.ga=function(a,b,c){z.ys(this.element,this.xf,a,b,void 0,c,this.FW)};z.y(sx,qx);sx.prototype.ga=function(a,b,c,d){z.ys(Hn(a),0,a,b,this.Di,c,null,d)};z.y(tx,z.xn);tx.prototype.setPosition=function(a){this.gv=a||void 0;this.W()&&this.ga()};tx.prototype.ga=function(){if(this.gv){var a=!this.W()&&"move_offscreen"!=this.Ri(),b=this.m();a&&(b.style.visibility="hidden",z.P(b,!0));this.gv.ga(b,this.WB,this.aB);a&&z.P(b,!1)}};z.y(z.vx,tx);var Ex=[];z.e=z.vx.prototype;z.e.oc=null;z.e.className="goog-tooltip";z.e.$q=500;z.e.lp=0;z.e.L=function(){return this.ca};z.e.attach=function(a){a=z.J(a);this.pb.add(a);z.G(a,"mouseover",this.Id,!1,this);z.G(a,"mouseout",this.xm,!1,this);z.G(a,"mousemove",this.vm,!1,this);z.G(a,"focus",this.ye,!1,this);z.G(a,"blur",this.xm,!1,this)};z.e.detach=function(a){if(a)a=z.J(a),xx(this,a),this.pb.remove(a);else{for(var b=this.pb.nd(),c=0;a=b[c];c++)xx(this,a);this.pb.clear()}};z.e.lz=function(){return this.lp};
z.e.ge=function(a){a=z.Gd(a,null);var b=this.m();b&&z.Fe(b,a)};z.e.Zh=function(a){var b=this.m();b&&z.N(b);z.vx.v.Zh.call(this,a);a?(b=this.ca.xa().body,b.insertBefore(a,b.lastChild),z.Cc(this.hl),this.hl=new z.th(this.m()),z.Ac(this,this.hl),z.G(this.hl,"focusin",this.Nj,void 0,this),z.G(this.hl,"focusout",this.er,void 0,this)):(z.Cc(this.hl),this.hl=null)};z.e.$d=function(){return z.qf(this.m())};z.e.nz=z.m(40);z.e.getState=function(){return this.vn?this.W()?4:1:this.Bm?3:this.W()?2:0};
z.e.fu=function(a){if(!this.W())return!1;var b=z.In(this.m()),c=z.Yg(this.m());return b.x<=a.x&&a.x<=b.x+c.width&&b.y<=a.y&&a.y<=b.y+c.height};z.e.lq=function(){if(!z.xn.prototype.lq.call(this))return!1;if(this.anchor)for(var a,b=0;a=Ex[b];b++)z.nf(a.m(),this.anchor)||a.F(!1);z.sb(Ex,this);a=this.m();a.className=this.className;this.Nj();z.G(a,"mouseover",this.Oz,!1,this);z.G(a,"mouseout",this.KH,!1,this);Gx(this);return!0};
z.e.Qk=function(){z.tb(Ex,this);for(var a=this.m(),b,c=0;b=Ex[c];c++)b.anchor&&z.nf(a,b.anchor)&&b.F(!1);this.xK&&this.xK.er();z.md(a,"mouseover",this.Oz,!1,this);z.md(a,"mouseout",this.KH,!1,this);this.anchor=void 0;0==this.getState()&&(this.Cv=!1);z.xn.prototype.Qk.call(this)};z.e.cB=function(a,b){this.anchor==a&&this.pb.contains(this.anchor)&&(this.Cv||!this.I0?(this.F(!1),this.W()||(this.anchor=a,this.setPosition(b||Ax(this,0)),this.F(!0))):this.anchor=void 0);this.vn=void 0};z.e.Li=function(){return this.pb};
z.e.lm=function(){return this.oc};z.e.uJ=function(a){this.Bm=void 0;if(a==this.anchor){a=this.L();var b=a.lm();a=b&&this.m()&&a.contains(this.m(),b);null!=this.oc&&(this.oc==this.m()||this.pb.contains(this.oc))||a||this.Ql&&this.Ql.oc||this.F(!1)}};z.e.Id=function(a){var b=zx(this,a.target);this.oc=b;this.Nj();b!=this.anchor&&(this.anchor=b,Fx(this,b),Dx(this),yx(this,a))};z.e.vm=function(a){yx(this,a);this.Cv=!0};
z.e.ye=function(a){this.oc=a=zx(this,a.target);this.Cv=!0;if(this.anchor!=a){this.anchor=a;var b=Ax(this,1);this.Nj();Fx(this,a,b);Dx(this)}};z.e.xm=function(a){var b=zx(this,a.target),c=zx(this,a.relatedTarget);b!=c&&(b==this.oc&&(this.oc=null),Gx(this),this.Cv=!1,!this.W()||a.relatedTarget&&z.nf(this.m(),a.relatedTarget)?this.anchor=void 0:this.er())};z.e.Oz=function(){var a=this.m();this.oc!=a&&(this.Nj(),this.oc=a)};
z.e.KH=function(a){var b=this.m();this.oc!=b||a.relatedTarget&&z.nf(b,a.relatedTarget)||(this.oc=null,this.er())};z.e.er=function(){2==this.getState()&&(this.Bm=z.vd((0,z.t)(this.uJ,this,this.anchor),this.lz()))};z.e.Nj=function(){this.Bm&&(z.wd(this.Bm),this.Bm=void 0)};z.e.D=function(){this.F(!1);Gx(this);this.detach();this.m()&&z.N(this.m());this.oc=null;delete this.ca;z.vx.v.D.call(this)};z.y(Bx,sx);
Bx.prototype.ga=function(a,b,c){b=Hn(a);b=jo(b);c=c?new z.Gg(c.top+10,c.right,c.bottom,c.left+10):new z.Gg(10,0,0,10);Bs(this.Di,a,4,c,b,9)&496&&Bs(this.Di,a,4,c,b,5)};z.y(Cx,z.rx);Cx.prototype.ga=function(a,b,c){var d=new z.Ge(10,0);z.ys(this.element,this.xf,a,b,d,c,9)&496&&z.ys(this.element,2,a,1,d,c,5)};z.y(Hx,z.vx);z.e=Hx.prototype;z.e.cQ=!1;z.e.bQ=100;z.e.tr=!1;z.e.Rk=function(){Hx.v.Rk.call(this);this.qs=Bn(go(this.m()));this.anchor&&(this.ix=Bn(go(this.anchor)));this.tr=this.cQ;z.G(this.L().xa(),"mousemove",this.vm,!1,this)};z.e.Qk=function(){z.md(this.L().xa(),"mousemove",this.vm,!1,this);this.ix=this.qs=null;this.tr=!1;Hx.v.Qk.call(this)};
z.e.fu=function(a){if(this.pp){var b=z.In(this.m()),c=z.Yg(this.m());return b.x-this.pp.left<=a.x&&a.x<=b.x+c.width+this.pp.right&&b.y-this.pp.top<=a.y&&a.y<=b.y+c.height+this.pp.bottom}return Hx.v.fu.call(this,a)};z.e.uJ=function(a){this.Bm=void 0;a!=this.anchor||Jx(this,this.Qj)||this.lm()||this.Ql&&this.Ql.oc||z.B&&0==this.Qj.x&&0==this.Qj.y||this.F(!1)};
z.e.vm=function(a){var b=this.W();if(this.qs){var c=z.xf(this.L()),c=new z.Ge(a.clientX+c.x,a.clientY+c.y);Jx(this,c)?b=!1:this.tr&&(b=mo(this.qs,c)>=mo(this.qs,this.Qj))}if(b){if(this.er(),this.oc=null,b=this.Ql)b.oc=null}else 3==this.getState()&&this.Nj();Hx.v.vm.call(this,a)};z.e.Oz=function(){this.lm()!=this.m()&&(this.tr=!1,this.oc=this.m())};z.e.lz=function(){return this.tr?this.bQ:Hx.v.lz.call(this)};z.y(z.Kx,Hx);z.e=z.Kx.prototype;z.e.D=function(){z.Kx.v.D.call(this);z.md(this.Ra,"mouseover",this.MH,!1,this)};z.e.uA=function(a){return a.tagName in this.NE&&!!a.getAttribute(this.NE[a.tagName])};z.e.MH=function(a){if(a=a.target)this.uA(a)?(this.setPosition(null),Lx(this,a)):this.wP&&(a=z.wf(a,(0,z.t)(this.uA,this),!1,this.y0))&&(this.setPosition(null),Lx(this,a))};z.e.Wu=function(a){return this.dispatchEvent(a)};z.e.pt=function(){return this.pg||this.anchor};
z.e.Qk=function(){z.Kx.v.Qk.call(this);null!=this.pg&&Px(this,this.pg);this.pg=null};z.e.Id=function(a){var b=zx(this,a.target);b&&b!=this.anchor?Lx(this,b):z.Kx.v.Id.call(this,a)};z.e.xm=function(a){var b=this.anchor,c=this.getState();z.Kx.v.xm.call(this,a);c==this.getState()||1!=c&&4!=c||(this.anchor=b,Ox(this))};z.e.cB=function(a,b){z.Kx.v.cB.call(this,a,b);this.W()?(a!=this.pg&&Px(this,this.pg),this.pg=a):Mx(this)};z.y(Nx,z.Lc);z.y(Qx,z.rx);Qx.prototype.Uo=function(){return 5};
Qx.prototype.ga=function(a,b,c,d){var f={"1-4":"bottom","0-4":"top","0-5":"top","1-5":"bottom","2-5":"top","3-5":"bottom","3-4":"bottom","2-6":"left","2-4":"right"},g;if(this.FE){g=z.ys(this.element,this.xf,a,b,null,c,10,d);var h=Rx(g,this.xf),k=Rx(g,b);g&496&&(g=z.ys(this.element,h,a,k,null,c,10,d),g&496&&(h=Rx(g,h),k=Rx(g,k),this.FE?z.ys(this.element,h,a,k,null,c,this.Uo(),d):z.ys(this.element,h,a,k,null,c,0,d)));this.yq&&(a=(z.ja(h)?h:this.xf)+"-"+(z.ja(b)?b:k),this.yq(f[a],a))}else z.ys(this.element,
this.xf,a,b,void 0,c),this.yq&&(a=this.xf+"-"+b,this.yq(f[a],a))};z.y(Sx,z.hj);z.e=Sx.prototype;z.e.$H={t:0,r:2,b:1,l:2};
z.e.Th=function(){var a=this.Ha,b=(0,window.$)('\x3cdiv id\x3d"zh-'+this.hb+'"\x3e\x3c/div\x3e'),c=null;(0,window.$)("body").append(b);a.Zh(b[0]);a.on("show",function(a){(0,window.clearTimeout)(c);b.addClass("in");z.U.Ab({type:"ga_hover_hovercard",target:a.target.pt()})}).on("hide",function(){b.css({display:"block",visibility:"visible"}).removeClass("in").addClass("out");c=(0,window.setTimeout)(function(){b.removeClass("out").css({display:"none",visibility:"hidden"})},1E3)})};
z.e.init=function(){if(!z.Z.fb&&!z.rm("tooltip")){var a=this.Ms="data-"+this.hb;this.Ha=new z.Kx({A:a,SPAN:a,BUTTON:a,I:a,DIV:a,INPUT:a,IMG:a});this.Ha.$q=this.zY;this.Ha.lp=this.gT;this.Th();this.o().g(this.Ha,"trigger",this.Wu).g(this.Ha,"beforeshow",this.lq).g(this.Ha,"show",this.Uf).g(this.Ha,"beforehide",this.SJ)}};z.e.SJ=function(){};
z.e.lq=function(){var a=this.Ha.pt(),b=a.getAttribute(this.Ms).split("$");this.$F=a;this.Xl=b[0];this.Eo=b[2];this.Wl=b[1];this.Ha.m().setAttribute("data-theme",a.getAttribute("data-theme")||"");this.DM();Ux(this)};z.e.Uf=function(){};z.e.DM=function(){var a;a=this.Eo;var b=[];b.push('\x3cdiv class\x3d"tooltip-arrow"\x3e\x3c/div\x3e');b.push('\x3cdiv class\x3d"tooltip-inner content-prewrap"\x3e');b.push(co(a));b.push("\x3c/div\x3e");a=b.join("");Vx(this,a)};
z.e.Fx=function(){return Tx('\n    \x3cdiv class\x3d"zh-hovercard-spinner"\x3e\x3c/div\x3e\n  ',!0)};z.e.Wu=function(a){var b=this.Ms,c=(a=a.anchor)&&a.getAttribute(b),d=c.split("$"),b=null;c&&1<d.length?(b=d[1],a.title&&(a.setAttribute("data-original_title",a.title),a.removeAttribute("title")),this.VF=b=new Qx(a,this.$H[b],"b"===b||"t"===b),a=(0,z.t)(this.hK,this),b.yq=a,this.Ha.className="tooltip"):Mx(this.Ha)};
z.e.hK=function(a,b){var c=this.Ha.m();z.S.remove(c,"top","bottom","left","right");z.S.add(c,a);var d=z.Qn(c),f=z.Qn(this.$F),g=new z.Ge(c.offsetLeft,c.offsetTop);if("t"===this.Wl||"b"===this.Wl){var d=(d.width-f.width)/2,h=g.x-d;if("s"===this.Xl)z.Ig(c,"left",h+"px");else{var h=z.rb(["2-5","3-5","3-4","2-4"],b),k=(0,window.$)(".zh-hovercard-spinner",c)[0],l=z.L("arrow",c),n=z.L("arrow2",c);k?z.Ig(c,"left",g.x-d+"px"):h?z.Ig(c,"left",g.x+83+"px"):z.Ig(c,"left",g.x-70+"px");var q=f.width/2;l&&n&&(k||
(h?z.A([l,n],function(a){z.Ig(a,"left","auto");z.Ig(a,"right",q+70+"px")}):z.A([l,n],function(a){z.Ig(a,"left",q+70+"px")})))}}else z.Ig(c,"top",g.y-(d.height-f.height)/2+"px"),"l"===this.Wl&&z.Qg(c,g.x-f.width)};z.y(Wx,Sx);var Yx={p:"MemberProfileCardV2",t:"TopicProfileCardV2",c:"ColumnProfileCardV2",r:"RoundtableProfileCardV2"};z.e=Wx.prototype;z.e.Th=function(){var a=this.Ha;Sx.prototype.Th.call(this);(0,window.$)(a.m()).on("click",".member-profile-card-pm",function(b){b.preventDefault();b=(0,window.$)(this);a.F(!1);var c=new z.mx({El:!1});c.show();z.ox(c,b.data("pmHash"),b.data("pmName"));z.nx(c,b.attr("href"));c.Kd.focus()})};
z.e.SJ=function(){this.wi[this.Xl]&&this.wi[this.Xl][this.Eo]&&(this.wi[this.Xl][this.Eo]=(0,window.$)(this.Ha.m()).find(".popover-content").html());z.V.trackEvent(this.Ha.m(),{action:"Hide",element:"Card"},{link:{url:this.Ha.pt().href}})};z.e.Uf=function(){z.V.Va(this.Ha,{module:"HoverCard"});z.V.trackCardShow(this.Ha,{element:"Card"})};z.e.DM=function(){Xx(this,this.Xl,this.Eo,this.Wl)};
z.e.Wu=function(a){var b=this.Ms,c=(a=a.anchor)&&a.getAttribute(b),d=c.split("$"),f=null;z.to(a,"no-hovercard")?Mx(this.Ha):c&&1<d.length?(a.title&&(a.setAttribute("data-original_title",a.title),a.removeAttribute("title")),f=d[1],210>z.Ug(a).y?"t"===f&&(f="b",a.setAttribute(b,c.replace("$t$","$b$"))):(f="t",a.setAttribute(b,c.replace("$b$","$t$"))),this.VF=f=new Qx(a,this.$H[f],"b"===f||"t"===f),b=(0,z.t)(this.hK,this),f.yq=b,this.Ha.className="goog-hovercard popover"):Mx(this.Ha)};z.y($x,z.Q);z.e=$x.prototype;
z.e.T=function(a){this.h=a;this.H=(0,window.$)(this.h);this.H.addClass("zh-scroller").css({position:"relative",overflow:"hidden"}).wrapInner('\x3cdiv class\x3d"zh-scroller-content"\x3e\x3c/div\x3e');this.H.wrapInner('\x3cdiv class\x3d"zh-scroller-inner"\x3e\x3c/div\x3e');this.H.append("\x3cdiv class\x3d'zh-scroller-bar-container'\x3e\x3cdiv\x3e");this.H.append('\x3cdiv class\x3d"zh-scroller-bar"\x3e\x3c/div\x3e');this.Ad=this.H.children(".zh-scroller-inner");this.ml=this.H.children(".zh-scroller-bar-container");this.Ie=
this.H.children(".zh-scroller-bar");this.Rb=this.Ad.children(".zh-scroller-content");this.ms=this.Ie[0];this.BT=this.Ad[0];this.content=this.Rb[0];this.ns=this.ml[0];this.Ad.css({height:"100%",width:"150%",overflow:"auto"});this.Ie.css({position:"absolute",right:this.options.right,top:this.options.top,opacity:this.options.rx,background:this.options.fP,width:this.options.width,"border-radius":3,cursor:"default"});this.ml.css({position:"absolute",right:this.options.right-1,top:0,height:"100%",width:this.options.width,
background:this.options.OP,border:"1px solid #444",opacity:0,cursor:"default","border-radius":"2px"});this.nj(this.ms,!1);this.nj(this.ns,!1);this.update()};z.e.C=function(){$x.v.C.call(this);this.kD=new z.oi(this.zB,50,this);this.options.stopPropagation&&this.Ad.bind("mousewheel DOMMouseScroll",function(a){var b=null;"mousewheel"===a.type?b=-1*a.originalEvent.wheelDelta:"DOMMouseScroll"===a.type&&(b=40*a.originalEvent.detail);b&&(a.preventDefault(),(0,window.$)(this).scrollTop(b+(0,window.$)(this).scrollTop()))})};
z.e.enter=function(){this.Gy||(this.o().g(this.BT,"scroll",function(){this.kD.fire()}),z.C||(this.o().g(this.ns,"click",this.hV),this.o().g(window.document,"mousedown",this.HV),this.o().g(window.document,"mouseup",this.JV),this.o().g(window.document,"mousemove",this.IV)),this.options.bP?(this.he=new z.td(200),this.o().g(this.he,"tick",function(){2===this.kB||1===this.kB?(ay(this),this.tn&&this.ml.css({opacity:this.options.GF})):this.Zs||this.io||(by(this,1E3),this.ml.css({opacity:0}))})):(this.Ie.css({opacity:this.options.rx}),
this.ml.css({opacity:this.options.GF})),this.he&&this.he.start(),by(this),this.Gy=!0)};z.e.HV=function(a){a.target===this.ms&&(this.Zs=!0,this.gP=a.clientY,this.hP=(0,window.parseInt)(this.Ie.css("top"),10));a.target!==this.ms&&a.target!==this.ns||this.nj(window.document.body,!1)};z.e.JV=function(){this.Zs=!1;this.nj(window.document.body,!0)};z.e.IV=function(a){if(this.Zs){var b=cy(this,this.hP+(a.clientY-this.gP));this.Ad.scrollTop(b)}this.kB=a.target===this.ms?2:a.target===this.ns?1:0};
z.e.zB=function(){var a=this.Ad.scrollTop(),b=this.Rb.height(),c=this.Ad.height(),d=a/b*(c-2*this.options.top);ay(this);this.Ie.css({top:d+this.options.top});this.dispatchEvent(new dy(this,a,b-a-c))};z.e.update=function(){var a=this.wh(this.Ad).height,b=this.wh(this.Rb).height;a>=b?(this.tn=!1,this.Ie.hide()):(this.tn=!0,this.Ie.show());this.Ie.css({height:a/b*(a-2*this.options.top)});this.ml.css({height:a-2});this.Rb.css({overflow:"hidden",width:this.H.width(),"min-height":"100%"});return this};
z.e.wh=function(a){var b={height:a.height(),width:a.width()};if(!b.height){var c=a.css("display"),d=a.css("position"),f=a.css("visibility");a.css({position:"absolute",display:"block",visibility:"hidden"});b={height:a.height(),width:a.width()};a.css({position:d,display:c,visibility:f})}return b};z.e.hV=function(a){this.scrollTo(cy(this,a.offsetY-this.Ie.height()/2))};z.e.scrollTop=function(a){this.tn&&(a=a||200,ay(this),this.Ad.stop().animate({scrollTop:0},a));return this};
z.e.nj=function(a,b){z.fo(a,!b)};z.e.scrollBy=function(a,b){if(this.tn){ay(this);var c=b||this.wh(this.Ad).height,c=Math.abs(c),c=this.Ad.scrollTop()+(a?-1:1)*c;this.Ad.stop().animate({scrollTop:c},200)}};z.e.scrollTo=function(a){this.tn&&(ay(this),this.Ad.stop().animate({scrollTop:a},200));return this};z.y(dy,z.Lc);z.y(z.ey,z.Q);z.ey.prototype.defaults={HJ:".tab-nav",wK:".tab-panel",ih:"active"};z.ey.prototype.T=function(a){if(a){this.h=a;var b=this,c=this.J;this.sl=(0,window.$)(c.HJ,a);this.tl=(0,window.$)(c.wK,a);this.tk=this.sl.index("."+c.ih);this.sl.on("click",function(){b.select(b.sl.index(this))});this.sl.attr("role","tab").parent().attr("role","tablist")}};
z.ey.prototype.select=function(a){if(!(0>a||a>this.sl.size())&&(this.dispatchEvent({type:"action",data:{index:a}}),a!==this.tk)){this.tk=a;var b=this.J;this.sl.eq(a).addClass(b.ih).attr("aria-selected","true").siblings().removeClass(b.ih).attr("aria-selected","false");b=this.tl.eq(a);this.tl.not(b.show()).hide();this.dispatchEvent({type:"select",data:{index:a}})}};z.ey.prototype.index=function(){return this.tk};z.p(fy,z.hj);z.e=fy.prototype;
z.e.init=function(){this.bj=z.J("zh-top-nav-live-new");this.bE=(0,window.$)(this.bj);if(this.En=z.J("zh-top-nav-count-wrap"))this.xo=z.M("span",{id:"zh-top-nav-count",className:"zu-top-nav-count zg-noti-number",style:"display:none"}),this.contents=z.Co("zm-noti7-content",this.bj),this.Yx=z.Co("zm-noti7-content-body",this.bj),this.En.appendChild(this.xo),this.o().g(this.En,"click",this.jM).g(this.En,"keypress",function(a){32===a.keyCode&&(a.preventDefault(),this.jM())}),this.o().g(z.U,"notification",
this.xS),this.o().g(this.bj,"click",function(a){a=a.target;a.href&&/group_id=/.test(a.href+"")&&(0,window.$)(a).parent(".unread").removeClass("unread")}),this.Fw=(0,window.$)(".zm-noti7-popup-tab-container .icon"),gy(this),this.HM||(this.Sg=z.mb(this.contents,function(a){var b=new $x;b.w(a);return b})),jy(this),this.$m=z.J("zh-top-nav-pm-count"),this.$m||(this.$m=z.M("span")),this.Sm=z.J("zh-top-nav-new-pm"),this.Sm||(this.Sm=z.M("span")),this.iI=(0,window.parseInt)((0,window.$)(this.Sm).attr("data-count")||
(0,window.$)(this.$m).attr("data-count"),10)||0,this.o().g(z.U,"inbox",this.iS)};z.e.xS=function(a){this.QJ=this.og;this.og=a.Wf;this.je=this.og[0]+this.og[1]+this.og[2];z.P(this.xo,!!this.je);this.xo.innerHTML=my(this.je);z.A(this.og,function(a,c){a?(this.Fw.eq(c).addClass("withdot"),this.cache[c]=!1):this.Fw.eq(c).removeClass("withdot");this.zG&&0<a-this.QJ[c]&&this.rm(c)},this);ly(this)};z.e.jM=function(){this.visible?z.Z.fb?py(this,!1):py(this,!!this.je):py(this,!0);ly(this)};
z.e.rm=function(a){var b=this;if(!this.Oi[a]){var c=this.Oi[a]=new z.dp(!1);this.o().ta(c,"success",function(){var b=z.Dn(this.Oi[a]);this.Oi[a]=null;if(b)if(b.r)z.T.message(b.msg);else{this.cy=!0;var c=b.msg;if(c)1===a&&(c='\x3cdiv class\x3d"zm-noti7-content-head-item"\x3e\x3cspan class\x3d"zg-gray-normal"\x3e杩欎簺浜烘渶杩戝叧娉ㄤ簡浣燶x3c/span\x3e\x3c/div\x3e'+c);else{switch(a){case 0:c="鏆傛棤鏂版秷鎭�";break;case 1:c="鏈変汉鍏虫敞浣犳椂浼氭樉绀哄湪杩欓噷";break;case 2:c="浣犵殑绛旀鏀跺埌璧炲悓銆佹劅璋㈡椂浼氭樉绀哄湪杩欓噷"}c='\x3cdiv class\x3d"zm-noti7-popup-empty"\x3e'+c+"\x3c/div\x3e"}this.cache[a]=
c;b.hasMore&&0===this.kq[a]&&(this.kq[a]=b.offset);this.un[a]&&(hy(this,a),this.un[a]=!1)}});this.o().ta(c,"error",function(){return b.Oi[a]=null});c.ajax("/noti7/stack/"+this.types[a]+"?limit\x3d10\x26r\x3d"+(0,z.I)(),"","GET")}};
z.e.UA=function(a){var b=this;if(this.Oi[a])return window.Promise.reject("Request already in progress");if(0===this.kq[a])return window.Promise.resolve(!1);var c=this.Yx[a],d=z.Ye('\x3cdiv class\x3d"text-center"\x3e\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e');c.appendChild(d);return this.Oi[a]=window.$.get("/noti7/stack/"+this.types[a],{offset:this.kq[a],r:(0,z.I)()}).then(function(f){z.N(d);if(f)if(f.r)z.T.message(f.msg);else{var g=z.Ye(f.msg);c.appendChild(g);b.Oi[a]=null;b.Sg&&b.Sg[a]&&
b.Sg[a].update();b.kq[a]=f.offset;return f.hasMore}})};z.e.iS=function(a){this.iI=a=window.$.isNumeric(a)?a:a.Wf;0!==a?(this.Sm.innerHTML=this.$m.innerHTML=a,this.Sm.style.visibility=this.$m.style.visibility="visible"):this.Sm.style.visibility=this.$m.style.visibility="hidden";ly(this)};z.e.Dt=function(a){z.nf(this.bj,a.target)||z.nf(this.En,a.target)||py(this,!1)};z.y(ry,z.Q);z.e=ry.prototype;z.e.defaults={trigger:"hover",nK:"open",hideFocus:!1};z.e.Tb=function(){return this.dh.length&&this.zd.length};z.e.w=function(a){if(a){var b=(0,window.$)(a),c=b.prev();this.dh=b;this.zd=c;this.$parent=b.parent();ry.v.w.call(this,a);return this}};z.e.toggle=function(){this.Eb()?this.close():this.open()};z.e.Eb=function(){return this.dh.is(":visible")};z.e.open=function(){this.dh.attr("aria-hidden","false").parent().addClass(this.J.nK);this.zd.attr("aria-expanded","true")};
z.e.close=function(){this.dh.attr("aria-hidden","true").parent().removeClass(this.J.nK);this.zd.attr("aria-expanded","false")};z.e.mV=function(a){var b=a.keyCode;switch(b){case 32:a.preventDefault();this.toggle();break;case 27:case 9:this.close();break;case 38:case 40:ty(this,38===b?-1:0)}};z.e.DV=function(a){var b=a.keyCode;switch(b){case 27:case 9:this.close();this.zd.focus();break;case 38:case 40:a.preventDefault(),ty(this,this.index+(38===b?-1:1))}};
z.e.C=function(){var a=this,b=this.J;sy(this);this.dh.on("keydown",(0,z.t)(this.DV,this));this.zd.on("keydown",(0,z.t)(this.mV,this));var c=z.Hm?"click":b.trigger;if("hover"===c)this.$parent.on("hover",(0,z.t)(function(a){"mouseenter"===a.type?this.open():this.close()},this));else if("click"===c)this.zd.on("click",(0,z.t)(function(a){a.preventDefault();this.toggle();this.zd.focus()},this));this.$parent.on("focusout",function(){(0,window.setTimeout)(function(){a.$parent.get(0).contains(window.document.activeElement)||
a.close()})});if(b.hideFocus)this.dh.children().find("a").on("click",function(){this.blur()})};z.p(uy,z.Q);z.e=uy.prototype;z.e.C=function(){z.Q.prototype.C.call(this);this.cA()};z.e.qt=function(){return this.O};z.e.tD=function(a,b,c){if(a){var d={query:(0,z.ab)(this.m().value)};z.ti({Zc:!0,category:"search",action:a,label:b,value:c,attributes:d})}};
z.e.cA=function(){var a=this,b=this.m();z.pl(z.en.register("/",function(){(0,window.setTimeout)(function(){b.focus()});z.fr(b,null,500)}),{group:"瀵艰埅",name:"鎼滅储"});var c=new nt,d=b.getAttribute("placeholder")||"鎼滅储浣犳劅鍏磋叮鐨勫唴瀹�...";this.O=new z.ot("/autocomplete",b,null,null,b.offsetParent,null,[d],null,c);this.O.fo=!1;this.O.Ug(!0);this.o().g(this.O,"select",this.Lz).g(this.O,hG,function(){z.V.trackEvent(a,{action:"Search",element:"InputBox"},zy(a))});var f=b.form;if(f){var g=this,h=function(a){(0,z.ab)(b.value)?
f.submit():a.preventDefault()};this.o().g(b,"keydown",function(a){13===a.keyCode&&(g.tD("visit_search_result","enter"),z.V.trackEvent(g,{action:"Search",element:"InputBox"},zy(g)),h(a))});this.o().g(f,"submit",h);(0,window.$)(":submit",f).click(function(){g.tD("visit_search_result","search_box_submit");z.V.trackEvent(g,{action:"Search",element:"Button"},zy(g))})}this.o().g(this.O,"suggestionsupdate",function(){a.nA();a.Xw()});var k=(0,z.t)(function(){this.O.mG=!(this.metaKey||this.fB)},this);this.o().g(window.document,
"keydown",function(a){a.metaKey&&(this.metaKey=!0,k())});this.o().g(window.document,"keyup",function(a){if(91===a.keyCode||224===a.keyCode)this.metaKey=!1,k()});this.o().g(window.document,"mouseup",function(a){z.Qc(a,1)&&(this.fB=!0,k(),(0,window.setTimeout)((0,z.t)(function(){this.fB=!1;k()},this),0))});this.o().g(b,"mousedown",function(a){a.stopPropagation();return!0})};z.e.nA=function(){var a=this.O.M;a&&a.m()&&z.V.Va(a,{module:"SearchResultList"})};
z.e.Xw=function(){var a=this.O.Oa,b=this.O.M.kf;if(a&&0!==a.length){if(1===a.length){var c=z.M("div",{className:"zu-autocomplete-empty"},"娌℃湁鎵惧埌鐩稿叧鐨勭粨鏋�");z.cf(c,b[0]);z.N(b[0])}var d=zy(this);z.A(a,function(c,g){vy(a[g-1],c)&&xy(this,b[g],c[0]);var h=(0,window.$)("a",b[g]),k=h.data("za-element-name");z.vn(h[0],function(){z.V.trackCardShow(h[0],{element:"Link",element_name:k},d)})},this)}};
z.e.Lz=function(a){var b=this.O.zg(),c=this.O.M.Em,d=z.yb(b,1),f=d[2],g=null,b=b[0];"topic"===b?(g="/topic/"+d[1],g=yy(this,g)):"people"===b?(g="/"+((Array.isArray(d[5])?d[5][0]:d[5])?"org":"people")+"/"+d[1],g=yy(this,g)):"question"===b?g=yy(this,"/question/"+f):"article"===b?g=yy(this,"https://zhuanlan.zhihu.com/p/"+f):"promotion"===b?g=yy(this,"https://promotion.zhihu.com/p/"+f):"column"===b?g=yy(this,"https://zhuanlan.zhihu.com/"+f):"search_link"===b&&(g="/search?q\x3d"+(0,window.encodeURI)(d[0])+
"\x26type\x3dcontent");g&&(z.U.Ab({type:"ga_serach_select",data:{type:b,index:c}}),d=(0,window.$)("a",this.O.M.kf[c])[0],z.V.trackEvent(d,{action:"OpenUrl",element:"Link"},{link:{url:d.href}}),d=c+1,(b={topic:["visit_topic","instant_search_result_topic",d],question:["visit_question","instant_search_result_question",d],people:["visit_people_profile","instant_search_result_people",d],search_link:["visit_search_result"]}[b])&&this.tD.apply(this,b),z.Ai.set("s-q",(0,window.encodeURI)(this.O.ic),-1,"/"),
z.Ai.set("s-i",c+1,-1,"/"),z.Ai.set("sid",(0,z.cG)(),-1,"/"),z.Ai.set("s-t","autocomplete",-1,"/"),this.metaKey||this.fB?window.open(g):window.location.href=g);a.preventDefault()};var wy={people:"鐢ㄦ埛",topic:"璇濋",question:"鍐呭",column:"鍐呭",article:"鍐呭",promotion:"鍐呭"};z.y(Ay,z.hj);
Ay.prototype.init=function(){if((0,window.$)(".zu-top").length){z.si.get("__Q_ISNEWLYCREATED__")&&(z.si.remove("__Q_ISNEWLYCREATED__"),z.X&&(z.X.DI=!0));if(z.Y.authed())(new fy).init();else(0,window.$)("#zh-top-inner").on("click",'a[href\x3d"/topic"]',function(){var a=new z.uk;a.vd("top_navigation_topics");a.show();return!1}).on("click",".js-signin-noauth",function(){var a=new z.uk;a.vd("top_navigation_sign_in");a.show();return!1}).on("click",".js-signin-noauth-mobile",function(){z.W("app-promotion","click_mobileweb_signin_btn");
var a=new z.uk;a.vd("top_navigation_sign_in_mobile");a.show();return!1}).on("click",".js-signup-noauth",function(){var a=new z.yk;a.vd("top_navigation_sign_up");a.show();return!1}).on("click",".js-signup-noauth-mobile",function(){z.W("app-promotion","click_mobileweb_signup_btn");var a=new z.yk;a.vd("top_navigation_sign_up_mobile");a.show();return!1});if(this.Ha=z.J("zh-top-search")){this.IT=z.L("zu-top-search-input",this.Ha);var a=z.J("zu-top-add-question");a&&this.o().g(a,"click",this.wY);z.ai||
!z.$h?(new ry({hideFocus:!0})).w((0,window.$)("#top-nav-profile-dropdown").get(0)):By();this.cA()}}};Ay.prototype.cA=function(){var a=(new z.oj(window.location)).Gd().get("q");a?a=(0,window.decodeURIComponent)(a):(a=z.si.get("query"),z.si.remove("query"));var b=this.IT;a&&(b.value=a);z.$h&&this.o().g(b,["focus","blur"],function(a){(0,window.$)(".zu-top").toggleClass("is-searching","focus"===a.type)});(new uy).w(b)};
Ay.prototype.wY=function(a){z.V.trackEvent(a.target,{action:"Question",is_intent:!0});z.Ir(function(){z.Pv.ba().show()},!0,"#ask")()};window.JSON||(window.JSON={parse:pn,stringify:Eo});z.C&&(Object.getPrototypeOf=function(a){return function(b){return b.__proto__||a.apply(this,arguments)}}(Object.getPrototypeOf));z.y(Cy,z.Q);z.MG=new Cy;z.MG.w(window.document);z.x("ZH.security.twoStepVerify",z.Dy);z.y(Ey,z.Ih);z.ka(Ey);z.e=Ey.prototype;z.e.Db=function(){z.Rh(this,null);this.o().g(window.document,"click",this.Dt)};
z.e.Dt=function(a){a=a.target;if("IMG"===a.tagName&&z.S.has(a,this.$Y)){var b=a.getAttribute("data-original");if(b&&!z.Nm&&!z.to(a,"editable")){this.X('\x3cdiv class\x3d"zm-light-box-x1" id\x3d"zm-light-box-x1"\x3e\x3cdiv class\x3d"zm-light-box-x2" id\x3d"zm-light-box-x2"\x3e\x3cimg src\x3d"'+b+'" class\x3d"zm-light-box-img-el" /\x3e\x3cdiv class\x3d"zm-light-box-footer"\x3e\x3ca class\x3d"zm-light-box-show-origin" href\x3d"'+b+'" target\x3d"_blank"\x3e鏌ョ湅鍘熷浘\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
this.F(!0);z.S.add(this.m(),"zm-light-box-fullscreen-image");var b=z.Qe(),c=z.J("zm-light-box-x1"),d=z.J("zm-light-box-x2"),f=a.getAttribute("data-rawheight"),g=a.getAttribute("data-rawwidth"),g=g?+g:0;(f?+f:0)>b.height-80?d.style.marginTop="40px":c.style.lineHeight=b.height+"px";d.style.width=g>b.width-80?b.width-80+"px":g+"px";z.U.Ab({type:"ga_click_enlarge_image",target:a})}}};z.e.ga=z.r;z.e.focus=z.r;z.e.iL=z.Il;z.e.fS=function(){this.F(!1);z.S.remove(window.document.body,this.iF)};
z.e.Uf=function(){Ey.v.Uf.call(this);z.S.add(window.document.body,this.iF);this.o().ta(window.document,"click",this.fS)};z.e.B=function(){Ey.v.B.call(this);z.S.add(this.m(),"zm-light-box")};z.e.$A=function(){this.ed=this.L().B("div",this.gd+"-bg zm-light-box-background");z.P(this.ed,!1)};Ey.ba();var Jy=!1,Ly=[];z.lg("common");window.console||(window.console={info:z.r,log:z.r,warning:z.r,error:z.r});z.MG.on(["click!","show!","visit!"],function(a){var b=a.Oc;b.category&&b.action&&z.W(b.category,a.type.replace("!","")+"_"+b.action,b.label,b.value)});z.ud=window;
(function(){function a(a){z.V.config({responseId:a.getResponseHeader(z.V.rE),experiment:a.getResponseHeader(z.V.nE)})}z.$h=z.Z.fb;window.$.ajaxPrefilter(function(a,c,d){var f;c=a.url;"get"!==a.type.toLowerCase()&&(f=z.Ai.get("_xsrf"))&&(c.startsWith("/")||(new RegExp("https?://"+window.location.hostname+"[/|:]")).test(c))&&d.setRequestHeader("X-Xsrftoken",f)});window.$.ajaxPrefilter(function(a,c,d){d.complete(function(){try{var a=JSON.parse(d.responseText);a.r&&1991832===a.errcode&&z.Dy()}catch(b){}})});
window.$.ajaxPrefilter(function(b,c,d){var f=Date.now();d.complete(function(){a(d);z.V.trackMonitor(null,{monitor:{type:"Ajax",url:b.url,statusCode:d.status,loadTime:Date.now()-f}})})});fp("*",function(b,c){a(c)});fp("json",function(a){a.r&&1991832===a.errcode&&z.Dy()});jp(function(a){var c=Date.now();a.on("complete",function(){z.V.trackMonitor(null,{monitor:{type:"Ajax",url:String(a.ru),statusCode:z.le(a),loadTime:Date.now()-c}})})});(new Ay).init();Gy()})();z.rp.dispatchEvent("init");(0,window.$)(function(){z.rp.dispatchEvent("postinit")});
z.Y.authed()?(fp("json",function(a){(a=a.profile_result)&&(0,window.$)(a).css("border-top","1px solid #eee").appendTo(window.document.body)}),z.Z.fb&&(window.$.fx.off=!0),(0,window.$)(function(){(new ix).init()})):(0,window.$)("body").addClass("no-auth");z.Wa(window.location.host,"zhihu.com")||(z.Ck=!0);(0,window.$)(window.document.body).children("div.zu-main").attr("role","main");window.document.addEventListener&&window.document.addEventListener("touchstart",z.r,!1);
z.ai&&(0,window.$)('meta[name\x3d"viewport"]').attr("content","width\x3ddevice-width, initial-scale\x3d1.0");(0,window.$)(function(){window.znonce&&window.znonce.evalScripts();(new gx).init();(new Wx).init();(new Sx).init();var a=new hx;window.console&&window.console.info&&window.console.info(a.VO+"\n\n"+a.link);kx();Fy();z.W.init()});z.p(z.My,z.Q);z.e=z.My.prototype;
z.e.init=function(a){a=void 0===a?{}:a;if(void 0===typeof a.oa)throw Error("$form option is required.");var b=Object.assign({Mm:"FormItem",sx:function(){return window.Promise.resolve()},$n:window.$.noop,FD:!0,iR:{OI:!0},ht:[],validator:function(a){for(var d=b,f=d.oa,g={},d=z.ha(d.ht),h=d.next();!h.done;h=d.next()){var k=h.value,h=k.name,l=k.yl,k=k.Ua,n=f.find('input[name\x3d"'+h+'"]'),q=n.val();if(q){var v=!1,F=q.match(/[^\x00-\xff]/ig),q=q.length+(null===F?0:F.length);if(z.ma(l))l.includes(q)||(v=
!0);else if(z.sa(l)){if(q<l.PU||q>l.maxLength)v=!0}else q!==l&&(v=!0);v&&(g[h]=k||n.attr("placeholder"))}}Object.assign(g,Oy(f,a));return window.$.isEmptyObject(g)?null:g}},a);this.cc=b;this.oa=b.oa;this.w(b.oa[0]);return this};
z.e.C=function(){var a=this;z.Q.prototype.C.call(this);var b=this.cc,c=b.oa,d=b.validator,f=b.sx,g=b.$n,h=this.ZK.bind(this),k=this.wX.bind(this);c.on("change keyup",".is-error",function(){h((0,window.$)(this));c.find('[type\x3d"submit"]').attr("disabled",0!==c.find(".is-error").length)}).submit(function(){function b(d){c.removeClass("form-submitting");d&&d.r?z.Ny(a,d.msg):z.Ny(a,d)}function h(b){c.removeClass("form-submitting");b&&!b.r?g.call(c,b):z.Ny(a,b.msg)}if(c.hasClass("form-submitting"))return!1;
k();var q=d(a.getData());if(q)return z.Ny(a,q),!1;f.call(c).then(function(){c.addClass("form-submitting");a.submit().then(h).catch(b)});return!1}).find('[type\x3d"submit"]').attr("disabled",!1)};z.e.ZK=function(a){a.removeClass("is-error").find("."+this.cc.Mm+"-error").remove()};z.e.wX=function(){this.oa.find(".is-error").removeClass("is-error").end().find("."+this.cc.Mm+"-error").remove()};
z.e.submit=function(){var a=this.cc,b=a.oa,a=a.FD,c=b.attr("contentType")||"application/json",d={url:b.attr("action"),type:b.attr("method")||"POST"};if(a)Object.assign(d,{data:new window.FormData(b[0]),async:!1,cache:!1,contentType:!1,processData:!1});else{var f=this;Object.assign(d,{data:function(){var a=f.getData();"application/json"===c&&(a=JSON.stringify(a));return a}(),contentType:c})}return new window.Promise(function(a,b){window.$.ajax(d).done(a).fail(function(a){b(a.responseJSON||a.responseText)})})};
z.e.getData=function(){return Py(this.oa,this.cc.iR)};z.y(Ry,z.H);Ry.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.tc;if("mousewheel"==a.type){c=1;if(z.C||z.D&&(z.el||z.E("532.0")))c=40;d=Sy(-a.wheelDelta,c);z.ja(a.wheelDeltaX)?(b=Sy(-a.wheelDeltaX,c),c=Sy(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),z.ja(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;z.pa(this.rJ)&&(b=Ko(b,-this.rJ,this.rJ));z.pa(this.sJ)&&(c=Ko(c,-this.sJ,this.sJ));this.$T&&(b=-b);b=new Ty(d,a,b,c);this.dispatchEvent(b)};
Ry.prototype.D=function(){Ry.v.D.call(this);z.nd(this.eJ);this.eJ=null};z.y(Ty,z.Pc);z.y(Uy,z.H);z.e=Uy.prototype;z.e.He=0;z.e.gq=0;z.e.aq=100;z.e.Ko=0;z.e.el=1;z.e.wI=!1;z.e.Ku=!1;z.e.Fa=function(a){a=Vy(this,a);this.He!=a&&(this.He=a+this.Ko>this.aq?this.aq-this.Ko:a<this.gq?this.gq:a,this.wI||this.Ku||this.dispatchEvent("change"))};z.e.Y=function(){return Vy(this,this.He)};z.e.Gv=function(a){a=Vy(this,a);this.Ko!=a&&(this.Ko=0>a?0:this.He+a>this.aq?this.aq-this.He:a,this.wI||this.Ku||this.dispatchEvent("change"))};
z.e.Mi=function(){var a=this.Ko;return null==this.el?a:Math.round(a/this.el)*this.el};z.e.Tc=function(){return Vy(this,this.gq)};z.e.md=function(){return Vy(this,this.aq)};z.e.Wo=function(){return this.el};z.y(Wy,z.Q);z.e=Wy.prototype;z.e.Yb="horizontal";z.e.Ip=!1;z.e.VU=!1;z.e.kg=10;z.e.Iu=0;z.e.BI=!0;z.e.FJ=0;z.e.IN=1E3;z.e.rc=!0;z.e.ue=!1;z.e.B=function(){Wy.v.B.call(this);var a=this.L().B("DIV",this.V(this.Yb));this.T(a)};z.e.T=function(a){Wy.v.T.call(this,a);z.Ag(a,this.V(this.Yb));a=this.m();var b=z.Me(null,"goog-slider-thumb",a)[0];b||(b=this.L().B("DIV","goog-slider-thumb"),z.ug(b,"button"),a.appendChild(b));this.nb=this.Yd=b;z.ug(this.m(),"slider");lz(this)};
z.e.C=function(){Wy.v.C.call(this);this.Ge=new z.mh(this.nb);this.tg=new z.mh(this.Yd);this.Ge.rh(this.ue);this.tg.rh(this.ue);this.Ge.ny=this.tg.ny=z.r;this.Fb=new zp(this.m());Xy(this,!0);this.m().tabIndex=0;fz(this)};z.e.Cb=function(){Wy.v.Cb.call(this);z.Dc(this.Ge,this.tg,this.Fb,this.Ik)};
z.e.Bt=function(a){var b=a.Ys==this.Ge?this.nb:this.Yd,c;"vertical"==this.Yb?(c=this.m().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.md()-this.Tc())+this.Tc()):c=a.left/(this.m().clientWidth-b.offsetWidth)*(this.md()-this.Tc())+this.Tc();c=a.Ys==this.Ge?Math.min(Math.max(c,this.Tc()),this.Y()+this.Mi()):Math.min(Math.max(c,this.Y()),this.md());dz(this,b,c)};
z.e.Lt=function(a){var b="start"==a.type;z.po(this.m(),"goog-slider-dragging",b);z.po(a.target.handle,"goog-slider-thumb-dragging",b);a=a.Ys==this.Ge;b?(this.dispatchEvent("h"),this.dispatchEvent(a?"d":"f")):(this.dispatchEvent("i"),this.dispatchEvent(a?"e":"g"))};
z.e.Kf=function(a){var b=!0;switch(a.keyCode){case 36:jz(this,this.Tc());break;case 35:jz(this,this.md());break;case 33:bz(this,this.kg);break;case 34:bz(this,-this.kg);break;case 37:var c=this.ue&&this.Ld()?1:-1;bz(this,a.shiftKey?c*this.kg:c*this.wr);break;case 40:bz(this,a.shiftKey?-this.kg:-this.wr);break;case 39:c=this.ue&&this.Ld()?-1:1;bz(this,a.shiftKey?c*this.kg:c*this.wr);break;case 38:bz(this,a.shiftKey?this.kg:this.wr);break;default:b=!1}b&&a.preventDefault()};
z.e.It=function(a){this.m().focus&&this.m().focus();var b=a.target;z.nf(this.nb,b)||z.nf(this.Yd,b)||(b="click"==a.type,b&&(0,z.I)()<this.FJ+this.IN||(b||(this.FJ=(0,z.I)()),this.VU?jz(this,$y(this,a)):(this.cD(a),this.of=ez(this,$y(this,a)),this.jI="vertical"==this.Yb?this.ou<this.of.offsetTop:this.ou>iz(this,this.of)+this.of.offsetWidth,a=z.Ke(this.m()),this.o().g(a,"mouseup",this.bD,!0).g(this.m(),"mousemove",this.cD),this.Ti||(this.Ti=new z.td(200),this.o().g(this.Ti,"tick",this.IH)),this.IH(),
this.Ti.start())))};z.e.BH=function(a){bz(this,(0<a.detail?-1:1)*this.wr);a.preventDefault()};z.e.IH=function(){var a;if("vertical"==this.Yb){var b=this.ou,c=this.of.offsetTop;this.jI?b<c&&(a=az(this,this.of)+this.kg):b>c+this.of.offsetHeight&&(a=az(this,this.of)-this.kg)}else b=this.ou,c=iz(this,this.of),this.jI?b>c+this.of.offsetWidth&&(a=az(this,this.of)+this.kg):b<c&&(a=az(this,this.of)-this.kg);z.ja(a)&&dz(this,this.of,a)};
z.e.bD=function(){this.Ti&&this.Ti.stop();var a=z.Ke(this.m());this.o().pa(a,"mouseup",this.bD,!0).pa(this.m(),"mousemove",this.cD)};z.e.cD=function(a){this.ou=Zy(this,a)};z.e.Tc=function(){return this.Lb.Tc()};z.e.md=function(){return this.Lb.md()};z.e.FH=function(){fz(this);lz(this);this.dispatchEvent("change")};z.e.Hp=function(){return this.Ip};z.e.JQ=function(){this.Ip=!1};
z.e.setOrientation=function(a){if(this.Yb!=a){var b=this.V(this.Yb),c=this.V(a);this.Yb=a;this.m()&&(a=this.m(),z.zg(a,b)&&(z.Cg(a,b),z.Ag(a,c)),b=this.ue&&this.Ld()?"right":"left",this.nb.style[b]=this.nb.style.top="",this.Yd.style[b]=this.Yd.style.top="",this.ec&&(this.ec.style[b]=this.ec.style.top="",this.ec.style.width=this.ec.style.height=""),fz(this))}};
z.e.D=function(){Wy.v.D.call(this);this.Ti&&this.Ti.dispose();delete this.Ti;this.Co&&this.Co.dispose();delete this.Co;delete this.nb;delete this.Yd;this.ec&&delete this.ec;this.Lb.dispose();delete this.Lb;this.Fb&&(this.Fb.dispose(),delete this.Fb);this.Ik&&(this.Ik.dispose(),delete this.Ik);this.Ge&&(this.Ge.dispose(),delete this.Ge);this.tg&&(this.tg.dispose(),delete this.tg)};z.e.wr=1;z.e.Wo=function(){return this.Lb.Wo()};z.e.Y=function(){return this.Lb.Y()};
z.e.Fa=function(a){dz(this,this.nb,a)};z.e.Mi=function(){return this.Lb.Mi()};z.e.Gv=function(a){dz(this,this.Yd,this.Lb.Y()+a)};z.e.F=function(a){z.P(this.m(),a);a&&fz(this)};z.e.gb=function(a){this.rc!=a&&this.dispatchEvent(a?"enable":"disable")&&(this.rc=a,Xy(this,a),a||this.bD(),z.po(this.m(),"goog-slider-disabled",!a))};z.e.isEnabled=function(){return this.rc};z.y(mz,Wy);mz.prototype.V=function(a){return"vertical"==a?"goog-slider-vertical":"goog-slider-horizontal"};z.y(nz,z.Q);z.e=nz.prototype;z.e.defaults={Vx:310,Wx:310,gg:250,hg:250,JU:2,opacity:.25,S0:"#eee"};z.e.T=function(a){nz.v.T.call(this,a);this.src=this.h.src;this.options.src=this.src;this.options.Nn=(this.options.Vx-this.options.gg)/2;this.options.Mn=(this.options.Wx-this.options.hg)/2;this.Hs()};
z.e.Hs=function(){var a=this.options;this.RD=(0,window.$)((0,z.Gr)('\x3cdiv class\x3d"avatar-editor-container" style\x3d"width:\x3c%\x3dcontainerWidth%\x3epx"\x3e\x3cdiv class\x3d"avatar-editor-container-inner" style\x3d"height:\x3c%\x3dcontainerHeight%\x3epx;"\x3e\x3cdiv class\x3d"avatar-editor-window" style\x3d"height:\x3c%\x3dwindowHeight%\x3epx;width:\x3c%\x3dwindowWidth%\x3epx;margin:\x3c%\x3dwindowMarginTop%\x3epx \x3c%\x3dwindowMarginLeft%\x3epx;"\x3e\x3cdiv class\x3d"avatar-editor-window-shadow" style\x3d"height:\x3c%\x3dwindowHeight%\x3epx;width:\x3c%\x3dwindowWidth%\x3epx;"\x3e\x3c/div\x3e\x3cdiv class\x3d"avatar-editor-window-inner" style\x3d"width:\x3c%\x3dcontainerWidth%\x3epx; height:\x3c%\x3dcontainerHeight%\x3epx;margin:-\x3c%\x3dwindowMarginTop%\x3epx 0 0 -\x3c%\x3dwindowMarginLeft%\x3epx;"\x3e\x3cimg class\x3d"inner" title\x3d"鎷栧姩鐩哥墖"/\x3e\x3c/div\x3e\x3c/div\x3e\x3cimg class\x3d"outer" style\x3d"opacity:\x3c%\x3dopacity%\x3e;"/\x3e\x3c/div\x3e\x3cdiv class\x3d"goog-slider-wrap"\x3e\x3ci class\x3d"zg-icon image-minus"\x3e\x3c/i\x3e\x3ci class\x3d"zg-icon image-plus"\x3e\x3c/i\x3e\x3cdiv class\x3d"goog-slider"\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"goog-slider-thumb"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',{containerWidth:a.Wx,
containerHeight:a.Vx,windowHeight:a.gg,windowWidth:a.hg,windowMarginTop:a.Nn,windowMarginLeft:a.Mn,src:a.src,opacity:a.opacity}));this.Ob=this.RD[0];this.RD.insertBefore(this.h);z.P(this.h,!1);this.SP=z.L("avatar-editor-container-inner",this.Ob);this.Ut=z.L("outer",this.Ob);this.$z=z.L("inner",this.Ob);this.Hr=(0,window.$)(this.Ut);this.Cw=(0,window.$)(this.$z);this.gI=0;this.Hr.load((0,z.t)(this.wM,this));this.Cw.load((0,z.t)(this.wM,this));this.$z.src=this.Ut.src=this.options.src;this.FY=z.L("goog-slider",
this.Ob)};
z.e.C=function(){this.TC=new mz;this.TC.w(this.FY);this.o().g(this.SP,["mousedown","touchstart"],function(a){var b=new z.mh(this.Ob);b.addEventListener("drag",(0,z.t)(function(a){var b=this.zoom;this.gf={Ar:this.options.hg/b,Zo:this.options.gg/b,x:(this.options.Mn-(this.qI.left+(a.clientX-this.Qv)))/b,y:(this.options.Nn-(this.qI.top+(a.clientY-this.Rv)))/b};qz(this)},this));b.addEventListener("end",(0,z.t)(function(){b.dispose()},this));b.zn(a);this.zn(a)});this.o().g(this.Ob,["touchmove"],function(a){a.stopPropagation();
a.preventDefault()});this.o().g(this.TC,"change",function(){var a=this.TC.Y(),b=this.eN;oz(this,(this.WZ-b)*a/100+b)})};z.e.wM=function(){this.xT||(this.$z.complete&&this.Ut.complete?this.init():(this.gI++,2<=this.gI&&this.init()))};
z.e.init=function(){var a,b;b=this.Hr[0];if(b.naturalWidth)a=b.naturalWidth,b=b.naturalHeight;else{var c=new window.Image;c.src=b.src;a=c.width;b=c.height}this.Tt=a;this.St=b;a=this.options.hg/this.Tt;b=this.options.gg/this.St;this.eN=a=b>a?b:a;this.WZ=this.eN*this.options.JU;this.gf={Zo:this.options.hg/a,Ar:this.options.gg/a,x:0,y:0};oz(this,a);pz(this,this.Tt/2,this.St/2);this.xT=!0};z.e.zn=function(a){this.Qv=a.clientX;this.Rv=a.clientY;this.qI=this.Cw.position();this.Hr.position()};
z.e.support=function(){return"getContext"in window.document.createElement("canvas")};z.y(z.rz,z.Q);var sz=1;z.e=z.rz.prototype;z.e.T=function(a){this.h=a;this.B()};
z.e.B=function(){this.BD=z.Z.In+"/upload_avatar";this.oa=(0,window.$)((0,z.Gr)('\x3cform target\x3d"av_up_frame" style\x3d"display:none;" method\x3d"post" enctype\x3d"multipart/form-data" action\x3d"\x3c%\x3duploadAction%\x3e"\x3e\x3clabel for\x3d"avt_file"\x3e\x3c/label\x3e\x3cinput type\x3d"file" accept\x3d"image/*" name\x3d"picture" id\x3d"avt_file" /\x3e\x3cinput type\x3d"hidden" name\x3d"handle_mode" value\x3d"upload" /\x3e\x3cinput type\x3d"hidden" name\x3d"type" value\x3d"\x3c%\x3dtype%\x3e" /\x3e\x3cinput type\x3d"hidden" name\x3d"dest_id" value\x3d"\x3c%\x3ddest_id%\x3e" /\x3e\x3cinput type\x3d"hidden" name\x3d"return_size" value\x3d"\x3c%\x3dreturn_size%\x3e" /\x3e\x3c/form\x3e',{uploadAction:this.BD,
type:this.ks,dest_id:this.ks===sz?z.Y[3]:this.FG,return_size:this.jL}));this.nN=(0,window.$)('\x3ciframe id\x3d"av_up_frame" name\x3d"av_up_frame" style\x3d"position: absolute; height: 0px; width: 0px; left: -9000px;"\x3e\x3c/iframe\x3e');this.nN.appendTo(window.document.body);this.input=this.oa.find("input[type\x3dfile]")[0];z.C?(this.oa.find("label").html((0,window.$)(this.h).html()),this.h.innerHTML="",(0,window.$)(this.h).append(this.oa),this.oa.addClass("avatar-editor-form-ie")):(this.oa.insertAfter(this.h),
(0,window.$)(this.h).click(window.$.proxy(function(){this.input.click()},this)));this.o().g(this.input,"change",this.Vc).g(this.input,"click",function(a){!1===this.dispatchEvent("beforeopen")&&a.preventDefault()});this.o().g(z.U,"iframe_data",function(a){(a=a.Wf)&&!a.r?"upload"===a.handle_mode?(this.Fm=a.url,this.Zz=a.id,tz()||this.uq()):"resize"===a.handle_mode&&((0,window.$)(this.h).find("form").remove(),this.QF(a)):z.T.message(a.msg)})};
z.e.Vc=function(a){uz(this);a=this.input=a.target;if(tz()){if(a.files&&a.files[0]){this.file=a=a.files[0];var b=new window.FileReader;b.onload=(0,z.t)(function(a){this.Fm=a.target.result;this.uq()},this);b.readAsDataURL(a)}}else this.oa[0].submit();xz(this)};z.e.uq=function(){var a=this.dialog.S();this.Yz=new window.Image;this.Yz.src=this.Fm;a=(0,window.$)(a);a.html("");a.append(this.Yz);this.dy=new nz(this.J.ZP||{});this.dy.w(this.Yz)};
z.e.QF=function(a){a&&!a.r?this.data=a:z.T.message(a.msg);this.dispatchEvent({type:"success",src:this.data});this.dialog.F(!1)};z.e.getData=function(){return this.data||null};z.e.Hf=function(a){return this.data?this.data.url.replace(/(\.\w+)$/,"_"+a+"$1"):""};z.p(z.zz,z.Q);
z.zz.prototype.C=function(){z.Q.prototype.C.call(this);var a=this.xW,b=this.m(),c=new z.rz(sz);c.w(b);var d=(0,window.$)(b),f=d.find(".Avatar"),g=d.find(".Spinner");this.o().g(c,"beforepost",function(){g.show()}).g(c,"success",function(){var b=c.getData();a.QI?(g.hide(),f.attr({src:c.Hf("l"),srcset:c.Hf("xl")+" 2x"}),a.Vf(b)):window.$.post("/node/ProfileHeaderV2",{method:"save",params:{data:{avatar_path:b.id}}},function(b){g.hide();b&&b.r?z.T.message("鏇存柊澶辫触"):(d.removeClass("ProfileAvatarEditor-none-avatar"),f.add(".top-nav-profile .Avatar").attr({src:c.Hf("l"),
srcset:c.Hf("xl")+" 2x"}),a.Vf(b))})})};z.Az.prototype.submit=function(a,b){function c(){b?b():d.handleError()}var d=this;window.$.post("/report",{type:this.options.type,id:this.options.id,urlToken:this.options.Ia,reason:a&&a.reason||"edit",custom_reason:a&&a.customReason,source:"web"}).done(function(a){d.yM&&d.yM();a.r?"duplicate_report"===a.errtype?d.handleError(a.msg):c():Bz(!!a.noti)}).fail(c)};
z.Az.prototype.handleError=function(a){var b=z.T({title:"涓炬姤",content:void 0===a?"涓炬姤澶辫触":a,modal:!0,buttons:{}});(0,window.setTimeout)(function(){return b.F(!1)},4E3)};
z.Az.prototype.render=function(){var a=this,b=new z.R;b.ud(!0);z.Zh(b,420);b.Ea("涓炬姤");b.render();var c=b.S();c.style.margin="0";c.style.padding="0";z.V.Va(b.m(),{module:"ReportDialog"},function(){var b=z.db(a.options.type),c=String(a.options.id);"Article"===b&&(b="Post");return{card:{card_type:"Content",content:"Comment"===b?{type:b,id:c}:{type:b,token:c}}}});z.Vw("Report").then(function(d){function f(){d.unmountComponentAtNode(c);b.F(!1)}a.rM=0;a.yM=f;var g={},g=(g.type=a.options.type,g.id=a.options.id,
g.urlToken=a.options.Ia,g.talkerToken=a.options.ZL,g.isColumnArticle=a.options.PT,g.isTipjarEnabled=a.options.aU,g.onContentChange=function(a){b.Ea(a);b.m().focus()},g.onClose=f,g.onSubmit=a.submit.bind(a),g.onMenuChange=function(b){return a.rM=b},g);d.render(c,g);b.F(!0);b.ga();(0,window.$)(b.zt()).on("click",function(b){z.V.trackEvent(b.currentTarget,{action:"Close",element:"Button"},{report:{id:a.rM}})})})};z.y(Cz,Bp);z.ka(Cz);Cz.prototype.V=function(){return"goog-menuheader"};z.y(Dz,Kp);z.Ip("goog-menuheader",function(){return new Dz(null)});z.y(Ez,Bp);z.ka(Ez);z.e=Ez.prototype;z.e.Gf=function(){return"menuitem"};z.e.B=function(a){var b=a.L().B("DIV",this.wg(a).join(" "),Gz(this,a.cb(),a.L()));Iz(this,a,b,Ep(a,8)||Ep(a,16));return b};z.e.S=function(a){return a&&a.firstChild};z.e.w=function(a,b){var c=z.jf(b),d=Fz(this,2);c&&z.zg(c,d)||b.appendChild(Gz(this,b.childNodes,a.L()));z.zg(b,"goog-option")&&(a.Sq(!0),this.Sq(a,b,!0));return Ez.v.w.call(this,a,b)};
z.e.X=function(a,b){var c=this.S(a),d=Hz(this,a)?c.firstChild:null;Ez.v.X.call(this,a,b);d&&!Hz(this,a)&&c.insertBefore(d,c.firstChild||null)};z.e.nj=function(a,b,c){a&&b&&Iz(this,a,b,c)};z.e.Sq=function(a,b,c){a&&b&&Iz(this,a,b,c)};z.e.Qo=function(a){switch(a){case 2:return Fz(this,0);case 16:case 8:return"goog-option-selected";default:return Ez.v.Qo.call(this,a)}};
z.e.yt=function(a){var b=Fz(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return Ez.v.yt.call(this,a)}};z.e.V=function(){return"goog-menuitem"};z.y(z.Jz,Kp);z.e=z.Jz.prototype;z.e.Y=function(){var a=this.hB;return null!=a?a:this.vh()};z.e.Fa=function(a){this.hB=a};z.e.fc=function(a,b){z.Jz.v.fc.call(this,a,b);switch(a){case 8:this.Cg()&&!b&&this.yc(!1);var c=this.m();c&&this.M.nj(this,c,b);break;case 16:(c=this.m())&&this.M.Sq(this,c,b)}};z.e.nj=function(a){this.fc(8,a)};z.e.Sq=function(a){this.fc(16,a)};
z.e.vh=function(){var a=this.cb();return z.ma(a)?(a=z.mb(a,function(a){return z.lf(a)&&(z.zg(a,"goog-menuitem-accel")||z.zg(a,"goog-menuitem-mnemonic-separator"))?"":z.uo(a)}).join(""),Yo(a)):z.Jz.v.vh.call(this)};z.e.Mf=function(a){var b=this.getParent();if(b){var c=b.oK;b.oK=null;if(b=c&&z.pa(a.clientX))b=new z.Ge(a.clientX,a.clientY),b=c==b?!0:c&&b?c.x==b.x&&c.y==b.y:!1;if(b)return}z.Jz.v.Mf.call(this,a)};z.e.Lf=function(a){return a.keyCode==this.gB&&this.ee(a)?!0:z.Jz.v.Lf.call(this,a)};
z.e.kR=function(){return this.gB};z.Ip("goog-menuitem",function(){return new z.Jz(null)});z.Jz.prototype.Qi=function(){return Ep(this,16)?"menuitemcheckbox":Ep(this,8)?"menuitemradio":z.Jz.v.Qi.call(this)};z.Jz.prototype.getParent=function(){return Kp.prototype.getParent.call(this)};z.Jz.prototype.Pi=function(){return Kp.prototype.Pi.call(this)};z.y(Kz,Bp);z.ka(Kz);Kz.prototype.B=function(a){return a.L().B("DIV",this.V())};Kz.prototype.w=function(a,b){b.id&&An(a,b.id);if("HR"==b.tagName){var c=b;b=this.B(a);z.cf(b,c);z.N(c)}else z.Ag(b,this.V());return b};Kz.prototype.X=function(){};Kz.prototype.V=function(){return"goog-menuseparator"};z.y(z.Lz,Kp);z.Lz.prototype.C=function(){z.Lz.v.C.call(this);z.ug(this.m(),"separator")};z.Ip("goog-menuseparator",function(){return new z.Lz});z.y(Mz,Mr);z.ka(Mz);z.e=Mz.prototype;z.e.Tb=function(a){return"UL"==a.tagName||Mz.v.Tb.call(this,a)};z.e.Ro=function(a){return"HR"==a.tagName?new z.Lz:Mz.v.Ro.call(this,a)};z.e.mg=function(a,b){return z.nf(a.m(),b)};z.e.V=function(){return"goog-menu"};z.e.af=function(a){Mz.v.af.call(this,a);z.vg(a.m(),"haspopup","true")};z.y(z.Nz,z.Lz);z.Ip("goog-menuseparator",function(){return new z.Lz});z.y(z.Oz,z.Pr);z.e=z.Oz.prototype;z.e.ao=!0;z.e.IO=!1;z.e.V=function(){return this.M.V()};z.e.mg=function(a){if(this.M.mg(this,a))return!0;for(var b=0,c=z.Ah(this);b<c;b++){var d=z.Bh(this,b);if("function"==typeof d.mg&&d.mg(a))return!0}return!1};z.e.Ja=function(a){this.K(a,!0)};z.e.Fj=function(a,b){this.zl(a,b,!0)};z.e.removeItem=function(a){(a=this.removeChild(a,!0))&&a.dispose()};z.e.Ni=function(a){return z.Bh(this,a)};z.e.pm=function(){return z.Ah(this)};
z.e.mb=function(){var a=[];z.Ch(this,function(b){a.push(b)});return a};z.e.setPosition=function(a,b){var c=this.W();c||z.P(this.m(),!0);ho(this.m(),a,b);c||z.P(this.m(),!1)};z.e.F=function(a,b,c){(b=z.Oz.v.F.call(this,a,b))&&a&&this.Aa&&this.ao&&this.lc().focus();this.oK=a&&c&&z.pa(c.clientX)?new z.Ge(c.clientX,c.clientY):null;return b};z.e.Cz=function(a){this.ao&&this.lc().focus();return z.Oz.v.Cz.call(this,a)};z.e.nF=function(a){return(this.IO||a.isEnabled())&&a.W()&&Ep(a,2)};
z.e.T=function(a){var b=this.M,c;c=this.L();c=z.Ne(c.Ra,"DIV",b.V()+"-content",a);for(var d=c.length,f=0;f<d;f++)Or(b,this,c[f]);z.Oz.v.T.call(this,a)};z.e.Lf=function(a){var b=z.Oz.v.Lf.call(this,a);b||z.Ch(this,function(c){!b&&c.kR&&c.gB==a.keyCode&&(this.isEnabled()&&this.Yc(c),b=c.mc(a))},this);return b};z.e.Hb=function(a){z.Oz.v.Hb.call(this,a);(a=z.Bh(this,a))&&io(a.m(),this.m())};z.y(z.Qz,z.hj);z.ka(z.Qz);z.e=z.Qz.prototype;
z.e.B=function(){this.wQ=!0;this.h=z.M("div",null,[this.rU=z.M("div",null,[this.Jh=z.M("div","zm-favo-list-content"),this.DE=z.M("div","zh-favo-add-new-wrap zm-command",this.JY=z.M("a",{"class":"zm-favo-dialog-create zg-left",href:"javascript:;"},"+ 鍒涘缓鏀惰棌澶�"),this.Rx=z.M("a",{href:"javascript:;","class":"zg-btn-blue"},"鍏抽棴")),this.Yw=z.M("div","zh-favo-add-new-wrap zm-command",this.IP=z.M("a",{href:"javascript:;","class":""},"鍙栨秷"),this.KY=z.M("a",{"class":"zm-favo-dialog-create zg-btn-blue",href:"javascript:;"},
"鍒涘缓鏀惰棌澶�"))]),this.dz=z.M("div",{"class":"zh-favo-add-form",style:"display:none"},[z.M("div",null,["鏍囬",this.nD=z.M("span",{"class":"zh-favo-add-title-error"},"璇峰～鍐欐爣棰�")]),z.M("div","zg-section",this.Xi=z.M("input",{"class":"zg-form-text-input"})),z.M("div",null,"鎻忚堪锛堝彲閫夛級"),z.M("div",{"class":"zg-section zg-form-text-input"},this.Ck=z.M("textarea",{"class":"zg-editor-input",style:"height:66px"})),this.fX=z.M("label",null,[this.CA=z.M("input",{type:"radio",checked:"checked",value:"public",name:"mode"}),
z.M("strong",null," 鍏紑 "),z.M("span","zg-gray-normal","鏀惰棌澶瑰叧娉ㄨ€� \x3e 0 鏃朵笉鑳借缃负绉佸瘑")]),this.iU=z.M("br"),this.aX=z.M("label",null,[this.JI=z.M("input",{type:"radio",value:"private",name:"mode"}),z.M("strong",null," 绉佸瘑 "),z.M("span","zg-gray-normal","鍙湁浣犲彲浠ユ煡鐪嬭繖涓敹钘忓す")]),z.M("div","zm-command",[this.Hy=z.M("label",{href:"javascript:;","class":"zh-favo-error-message-label zg-left"},""),this.$C=z.M("a",{href:"javascript:;","class":"zg-mr10"},"鍙栨秷"),this.xs=z.M("a",{href:"javascript:;","class":"zg-mr10"},"瀹屾垚"),
this.Ww=z.M("a",{"class":"zg-btn-blue"},"纭鍒涘缓")])])]);z.P(this.nD,!1);z.P(this.Yw,!1);(new z.at(this.pD)).w(this.Xi);(new z.at(this.sy)).w(this.Ck);z.A(this.SA,function(a){Sz(this,a)},this);this.SA.length||(this.Jh.innerHTML='\x3cdiv id\x3d"zh-fav-list-item-place-holder" class\x3d"zg-r5px zm-fav-list-item-place-holder"\x3e浣犲彲浠ュ垱寤哄涓敹钘忓す锛屽皢绛旀鍒嗙被鏀惰棌\x3c/div\x3e ',z.P(this.Yw,!0),z.P(this.DE,!1));Rz(this);this.ua.S().innerHTML="";this.ua.S().appendChild(this.h);this.ua.ga()};
z.e.jc=function(){this.nP||(this.nP=!0,this.o().g(this.$C,"click",function(){this.ib?Xz(this,0):$z(this);dA("click_add_collection_cancel")}).g(this.JY,"click",z.Ir(function(){z.U.Ab({type:"ga_click_add_collection"});Xz(this,1);z.wi("collect","click_add_collection_start","collect_answer_box")})).g(this.Rx,"click",function(){dA("click_add_collection_close");$z(this)}).g(this.KY,"click",z.Ir(function(){z.U.Ab({type:"ga_click_add_collection"});Xz(this,1)})).g(this.IP,"click",function(){$z(this)}).g(this.xs,
"click",function(){$z(this)}).g(this.Ww,"click",function(){var a=this.Ck.value,b=this.Xi.value;a&&dA("click_add_collection_discription",a);b&&dA("click_add_collection_title",b);this.Ph()}).g(this.Jh,"click",this.WV).g(this.Xi,"change",function(){z.P(this.nD,!1)}).g(this.CA,"click",function(){dA("click_add_collection_public")}).g(this.JI,"click",function(){dA("click_add_collection_private")}))};
z.e.WV=function(a){if((a=z.vf(a.target,"A"))&&!this.locked){var b=a.getAttribute("data-lid"),c="true"===a.getAttribute("data-is-public"),d=!1;z.S.has(a,"zm-favo-list-item-link-active")?(d=!0,this.XF=b):this.UF=b;z.Ir((0,z.t)(function(){var a=new z.nr;a.add("answer_id",this.ib);a.add("favlist_id",b);this.wC=new z.dp(!0);this.locked=!0;this.o().ta(this.wC,"complete",this.DO);this.wC.ajax(d?"/collection/remove":"/collection/add",a.Gd())},this),{activated:c&&!d})()}};
z.e.DO=function(){this.locked=!1;this.Rx.innerHTML="鍏抽棴";var a=z.Dn(this.wC);a&&!a.r?(a=z.Co("zm-favo-list-item-link",this.Jh),z.A(a,function(a){var c=a.getAttribute("data-lid"),d=z.L("num",a),f=(0,window.parseInt)(d.innerHTML,10);c===this.XF?(d.innerHTML=f-1+"",z.S.remove(a,"zm-favo-list-item-link-active")):c===this.UF&&(d.innerHTML=f+1+"",z.S.add(a,"zm-favo-list-item-link-active"))},this),this.UF=this.XF=null,qr("Favorite","add_favorite")):z.T.message("娣诲姞澶辫触: "+a.msg)};
z.e.Rk=function(){this.jc();this.Rx.innerHTML="鍏抽棴";this.ib?(z.P(this.xs,!1),Xz(this,0)):(Xz(this,1),z.P(this.$C,!1),this.xs.innerHTML="鍙栨秷")};z.e.show=function(a){a?(Wz(this),this.ua.F(!0),this.Rk()):(Rz(this,"娣诲姞鍒版敹钘忓す",'\x3cdiv style\x3d"text-align: center; color: #999;"\x3e鏀惰棌澶瑰姞杞戒腑\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'),this.ua.F(!0),this.wt())};z.e.wt=function(){this.ib&&window.$.get("/collections/json",{answer_id:this.ib}).done((0,z.t)(this.GV,this))};
z.e.GV=function(a){a&&!a.r&&(this.SA=a.msg[0],this.yu=a.msg[1],Wz(this),this.Rk())};
z.e.Ph=function(){if(!this.xhr||!this.xhr.Jc()){(0,window.$)(this.Hy).text("").hide();var a=z.ar(this.Xi.value);if(a&&a!==this.pD){var b=Yz(this);this.ib&&b.add("answer_id",this.ib);if(this.Jm){if(this.yT.Gd()===b.Gd()){$z(this);return}b.add("favlist_id",this.iy[0])}a=z.or(b);z.Ir((0,z.t)(function(){this.xhr=new z.dp(!0);bA(this,this.xhr,this.Ww,this.Jm);this.o().ta(this.xhr,"complete",this.vO);this.xhr.ajax(this.Jm?"/collection/update":"/collection/create",b.Gd())},this),{activated:!z.Y.activated||
"1"===a.is_public})()}else z.P(this.nD,!0)}};z.e.vO=function(){var a=z.Dn(this.xhr);a&&!a.r?this.Jm?($z(this),z.T.message("缂栬緫鎴愬姛"),(0,window.setTimeout)(function(){window.location.reload()},1E3),this.Jm=!1):this.ib?(z.P(this.Yw,!1),z.P(this.DE,!0),Xz(this,0),this.yu.push(a.msg[0]),Sz(this,a.msg,!0),this.Xi.value="",this.Ck.value=""):($z(this),z.T.message("鍒涘缓鎴愬姛"),(0,window.setTimeout)(function(){window.location.href="/collections/mine"},1E3)):cA(this.Hy,this.Jm,a.msg)};z.e.W=function(){return this.ua.W()};
var aA="close";z.Qz.prototype.sh=function(){(0,window.$)(window).on("beforeunload.FavoDiag",(0,z.t)(function(){return"浣犲鏀惰棌澶圭殑淇敼杩樻湭淇濆瓨锛岀‘璁ょ寮€璇ラ〉闈㈠悧锛�"},this))};z.Qz.prototype.Fi=function(){(0,window.$)(window).off("beforeunload.FavoDiag")};z.y(z.eA,z.Q);z.eA.prototype.C=function(){this.o().g(this.h,"click",this.Ya)};z.eA.prototype.Ya=function(a){var b=z.mr(this.h,a.target);this.ro&&this.ro(b);b&&b.name&&"focus"===b.name&&(0,z.JG)(b,this.bz,function(){b.getAttribute("data-followme")&&(z.S.has(b,"zg-btn-follow")?b.setAttribute("data-tooltip","s$b$瀵规柟宸插叧娉ㄤ綘"):b.setAttribute("data-tooltip","s$b$宸蹭簰鐩稿叧娉�"))},this.az,{l0:"question"===this.bz?"鍏虫敞闂":null})};z.eA.prototype.CC=z.m(41);z.y(z.fA,z.rx);z.fA.prototype.Uo=function(){return this.Sp};z.fA.prototype.nn=function(a){this.Sp=a};z.fA.prototype.ga=function(a,b,c,d){var f=z.ys(this.element,this.xf,a,b,null,c,10,d,this.IB);if(f&496){var g=gA(f,this.xf);b=gA(f,b);f=z.ys(this.element,g,a,b,null,c,10,d,this.IB);f&496&&(g=gA(f,g),b=gA(f,b),z.ys(this.element,g,a,b,null,c,this.Uo(),d,this.IB))}};z.y(hA,z.fA);z.y(iA,z.Hp);z.ka(iA);z.e=iA.prototype;z.e.B=function(a){var b={"class":"goog-inline-block "+this.wg(a).join(" ")},b=a.L().B("DIV",b,this.mh(a.cb(),a.L()));this.Rd(b,a.sm());return b};z.e.Gf=function(){return"button"};z.e.S=function(a){return a&&a.firstChild&&a.firstChild.firstChild};z.e.mh=function(a,b){return b.B("DIV","goog-inline-block "+(this.V()+"-outer-box"),b.B("DIV","goog-inline-block "+(this.V()+"-inner-box"),a))};z.e.Tb=function(a){return"DIV"==a.tagName};
z.e.w=function(a,b){jA(b,!0);jA(b,!1);var c;a:{c=a.L().hH(b);var d=this.V()+"-outer-box";if(c&&z.zg(c,d)&&(c=a.L().hH(c),d=this.V()+"-inner-box",c&&z.zg(c,d))){c=!0;break a}c=!1}c||b.appendChild(this.mh(b.childNodes,a.L()));z.Bg(b,["goog-inline-block",this.V()]);return iA.v.w.call(this,a,b)};z.e.V=function(){return"goog-custom-button"};z.y(kA,iA);z.ka(kA);z.e=kA.prototype;z.e.S=function(a){return kA.v.S.call(this,a&&a.firstChild)};z.e.w=function(a,b){var c=z.Me("*","goog-menu",b)[0];if(c){z.P(c,!1);z.Ke(c).body.appendChild(c);var d=new z.Oz;d.w(c);a.$h(d)}return kA.v.w.call(this,a,b)};z.e.mh=function(a,b){return kA.v.mh.call(this,[this.createCaption(a,b),b.B("DIV","goog-inline-block "+(this.V()+"-dropdown"),"聽")],b)};z.e.createCaption=function(a,b){return lA(a,this.V(),b)};z.e.V=function(){return"goog-menu-button"};z.y(z.mA,z.Rp);z.e=z.mA.prototype;z.e.hu=!1;z.e.cj=!1;z.e.gY=!1;z.e.C=function(){z.mA.v.C.call(this);rA(this,!0);this.ha&&qA(this,this.ha,!0);z.vg(this.h,"haspopup",!!this.ha)};z.e.Cb=function(){z.mA.v.Cb.call(this);rA(this,!1);if(this.ha){this.Mb(!1);this.ha.Cb();qA(this,this.ha,!1);var a=this.ha.m();a&&z.N(a)}};z.e.D=function(){z.mA.v.D.call(this);this.ha&&(this.ha.dispose(),delete this.ha);delete this.RW;this.la.dispose()};
z.e.ze=function(a){z.mA.v.ze.call(this,a);this.Jc()&&(this.Mb(!this.Eb(),a),this.ha&&(a=this.Eb(),this.ha.Sf=a))};z.e.Mf=function(a){z.mA.v.Mf.call(this,a);this.ha&&!this.Jc()&&(this.ha.Sf=!1)};z.e.ee=function(){this.setActive(!1);return!0};z.e.KR=function(a){this.ha&&this.ha.W()&&!this.mg(a.target)&&this.Mb(!1)};z.e.mg=function(a){return a&&z.nf(this.m(),a)||this.ha&&this.ha.mg(a)||!1};
z.e.Lf=function(a){if(32==a.keyCode){if(a.preventDefault(),"keyup"!=a.type)return!0}else if("key"!=a.type)return!1;if(this.ha&&this.ha.W()){var b=13==a.keyCode||32==a.keyCode,c=this.ha.mc(a);return 27==a.keyCode||b?(this.Mb(!1),!0):c}return 40==a.keyCode||38==a.keyCode||32==a.keyCode||13==a.keyCode?(this.Mb(!0,a),!0):!1};z.e.fp=function(){this.Mb(!1)};z.e.tS=function(){this.Jc()||this.Mb(!1)};z.e.od=function(a){this.hu||this.Mb(!1);z.mA.v.od.call(this,a)};
z.e.jb=function(){this.ha||this.$h(new z.Oz(this.L(),this.LU));return this.ha||null};z.e.$h=function(a){var b=this.ha;if(a!=b&&(b&&(this.Mb(!1),this.Aa&&qA(this,b,!1),delete this.ha),this.Aa&&z.vg(this.h,"haspopup",!!a),a)){this.ha=a;z.xh(a,this);a.F(!1);var c=this.hu;(a.ao=c)&&a.lf(!0);this.Aa&&qA(this,a,!0)}return b};z.e.Ja=function(a){this.jb().K(a,!0)};z.e.Fj=function(a,b){this.jb().zl(a,b,!0)};z.e.removeItem=function(a){(a=this.jb().removeChild(a,!0))&&a.dispose()};
z.e.Ni=function(a){return this.ha?z.Bh(this.ha,a):null};z.e.pm=function(){return this.ha?z.Ah(this.ha):0};z.e.F=function(a,b){var c=z.mA.v.F.call(this,a,b);c&&!this.W()&&this.Mb(!1);return c};z.e.gb=function(a){z.mA.v.gb.call(this,a);this.isEnabled()||this.Mb(!1)};z.e.JL=function(){this.Mb(!0)};
z.e.Mb=function(a,b){z.mA.v.Mb.call(this,a);if(this.ha&&!!(this.N&64)==a){if(a){if(!this.ha.Aa)if(this.cj){var c=Ao(this.m());c?z.zn(this.ha,c):this.ha.render(this.m().parentNode)}else this.ha.render();this.QM=jo(this.m());this.lF=go(this.m());pA(this);c=!!b&&(13==b.keyCode||32==b.keyCode);b&&(40==b.keyCode||38==b.keyCode)||c&&this.gY?z.Tr(this.ha):this.ha.Hb(-1)}else{this.setActive(!1);this.ha.Sf=!1;if(c=this.m())z.vg(c,"activedescendant",""),z.vg(c,"owns","");null!=this.bv&&(this.bv=void 0,(c=this.ha.m())&&
z.Wg(c,"",""))}this.ha.F(a,!1,b);if(!this.Xd){var c=this.o(),d=a?c.g:c.pa;d.call(c,this.L().xa(),"mousedown",this.KR,!0);this.hu&&d.call(c,this.ha,"blur",this.tS);d.call(c,this.la,"tick",this.wq);a?this.la.start():this.la.stop()}}this.ha&&this.ha.m()&&this.ha.h.removeAttribute("aria-hidden")};
z.e.wq=function(){var a=go(this.m()),b=jo(this.m()),c=this.lF;(c=!(c==a||c&&a&&c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height))||(c=this.QM,c=!(c==b||c&&b&&c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left));c&&(this.lF=a,this.QM=b,pA(this))};z.e.Fz=function(a){(a=a.target.m())&&sA(this,a)};z.e.kS=function(a){Ep(this,32)&&this.lc()&&this.ha&&this.ha.W()&&a.stopPropagation()};
z.e.Pz=function(){if(!Sr(this.ha)){var a=this.m();z.vg(a,"activedescendant","");z.vg(a,"owns","")}};z.e.yz=function(a){if(this.Eb()&&a.target instanceof z.Jz){a=a.target;var b=a.m();a.W()&&a.N&2&&null!=b&&sA(this,b)}};z.Ip("goog-menu-button",function(){return new z.mA(null)});z.y(tA,qx);tA.prototype.ga=function(a,b,c,d){var f=ko(z.Ke(a)),g=this.Di.x+f.x,f=this.Di.y+f.y,h=zs(a),g=g-h.x,f=f-h.y;Bs(new z.Ge(g,f),a,b,c,null,null,d)};z.y(uA,tA);uA.prototype.Sp=0;uA.prototype.nn=function(a){this.Sp=a};uA.prototype.ga=function(a,b,c,d){var f=Hn(a),f=jo(f),g;g=z.Ie(a);g=z.Se(g.Ra);g=new z.Ge(this.Di.x+g.scrollLeft,this.Di.y+g.scrollTop);var h=b,k=Bs(g,a,h,c,f,10,d);if(0!=(k&496)){if(k&16||k&32)h^=2;if(k&64||k&128)h^=1;k=Bs(g,a,h,c,f,10,d);0!=(k&496)&&Bs(g,a,b,c,f,this.Sp,d)}};z.y(z.vA,z.Oz);z.e=z.vA.prototype;z.e.gZ=!1;z.e.VI=0;z.e.pg=null;z.e.T=function(a){z.vA.v.T.call(this,a);(a=a.getAttribute("for")||a.htmlFor)&&this.attach(this.L().m(a),1)};z.e.C=function(){z.vA.v.C.call(this);this.cg.forEach(this.TE,this);var a=this.o();a.g(this,"action",this.bV);a.g(this.L().xa(),"mousedown",this.VJ,!0);z.D&&a.g(this.L().xa(),"contextmenu",this.VJ,!0)};
z.e.attach=function(a,b,c,d,f){a&&this.cg.ng(z.ta(a))||(a?(b={h:a,$L:b,KU:c,Ky:d?"contextmenu":"mousedown",aB:f},this.cg.set(z.ta(a),b)):b=null,this.Aa&&this.TE(b),a=z.Aa(this.EV,a),this.m()&&this.o().g(this.m(),"keydown",a))};z.e.EV=function(a,b){if(27==b.keyCode)a.focus();else{var c=z.Bh(this,this.$a);if(c){var c=c.m(),d=new z.Pc(b.tc,c);d.target=c;if(32==b.keyCode||13==b.keyCode)z.Vc(c)?z.sd(c,"keydown",!1,d):z.pd(c,"keydown",!1,d);32==b.keyCode&&this.hide()}}};
z.e.TE=function(a){this.o().g(a.h,a.Ky,this.kK);"contextmenu"!=a.Ky&&this.o().g(a.h,"keydown",this.aW)};z.e.detach=function(a){if(!a||!this.cg.ng(z.ta(a)))throw Error("Menu not attached to provided element, unable to detach.");a=z.ta(a);if(this.Aa){var b=this.cg.get(a);this.o().pa(b.h,b.Ky,this.kK)}this.cg.remove(a)};z.e.JL=function(a,b,c){b=z.ja(a.$L)?new z.fA(a.h,a.$L,!0):new uA(b,c);b.nn&&b.nn(5);z.wA(this,b,a.KU,a.aB,a.h)};
z.e.hide=function(){this.W()&&(this.F(!1),this.W()||(this.VI=(0,z.I)(),this.pg=null))};z.e.FI=function(){return this.W()||150>(0,z.I)()-this.VI};z.e.bV=function(){this.hide()};z.e.kK=function(a){xA(this,a)};z.e.aW=function(a){32!=a.keyCode&&13!=a.keyCode&&40!=a.keyCode||xA(this,a);40==a.keyCode&&z.Tr(this)};z.e.VJ=function(a){this.W()&&!this.mg(a.target)&&this.hide()};z.e.od=function(a){z.vA.v.od.call(this,a);this.hide()};z.e.D=function(){z.vA.v.D.call(this);this.cg&&(this.cg.clear(),delete this.cg)};z.y(yA,Ez);z.ka(yA);yA.prototype.B=function(a){var b=yA.v.B.call(this,a);z.Ag(b,"goog-submenu");zA(this,a,b);return b};yA.prototype.w=function(a,b){b=yA.v.w.call(this,a,b);z.Ag(b,"goog-submenu");zA(this,a,b);var c=z.Me("DIV","goog-menu",b);if(c.length){var d=new z.Oz(a.L()),c=c[0];z.P(c,!1);a.L().xa().body.appendChild(c);d.w(c);a.$h(d,!0)}return b};yA.prototype.X=function(a,b){var c=this.S(a),d=c&&c.lastChild;yA.v.X.call(this,a,b);d&&c.lastChild!=d&&z.zg(d,"goog-submenu-arrow")&&c.appendChild(d)};
yA.prototype.af=function(a){yA.v.af.call(this,a);var b=a.S(),c=a.L(),c=z.Ne(c.Ra,"SPAN","goog-submenu-arrow",b)[0];AA(a,c);c!=b.lastChild&&b.appendChild(c);z.vg(a.m(),"haspopup","true")};z.y(BA,z.Jz);var HD=218;z.e=BA.prototype;z.e.pe=null;z.e.OC=null;z.e.dB=!1;z.e.Ac=null;z.e.gt=!1;z.e.$r=!0;z.e.YT=!1;z.e.C=function(){BA.v.C.call(this);this.o().g(this.getParent(),"hide",this.eK);this.Ac&&FA(this,this.Ac,!0)};z.e.Cb=function(){this.o().pa(this.getParent(),"hide",this.eK);this.Ac&&(FA(this,this.Ac,!1),this.gt||(this.Ac.Cb(),z.N(this.Ac.m())));BA.v.Cb.call(this)};z.e.D=function(){this.Ac&&!this.gt&&this.Ac.dispose();this.Ac=null;BA.v.D.call(this)};
z.e.Yc=function(a,b){BA.v.Yc.call(this,a);b&&(this.jb().Sf=!0);a||(this.pe&&z.wd(this.pe),this.pe=z.vd(this.oh,HD,this))};z.e.Mv=function(){var a=this.getParent();a&&Sr(a)==this&&(EA(this,!0),DA(this))};z.e.oh=function(){var a=this.Ac;a&&a.getParent()==this&&(EA(this,!1),z.Ch(a,function(a){"function"==typeof a.oh&&a.oh()}))};z.e.F=function(a,b){var c=BA.v.F.call(this,a,b);c&&!this.W()&&this.oh();return c};
z.e.mc=function(a){var b=a.keyCode,c=this.Ld()?37:39,d=this.Ld()?39:37;if(!this.dB){if(!this.isEnabled()||b!=c&&b!=this.gB)return!1;this.Mv();z.Tr(this.jb());CA(this)}else if(!this.jb().mc(a))if(b==d)this.oh();else return!1;a.preventDefault();return!0};z.e.oV=function(){this.Ac.getParent()==this&&(CA(this),this.Pi().Yc(this),DA(this))};z.e.eK=function(a){a.target==this.Pi()&&(this.oh(),CA(this))};z.e.Id=function(a){this.isEnabled()&&(CA(this),this.OC=z.vd(this.Mv,HD,this));BA.v.Id.call(this,a)};
z.e.ee=function(a){CA(this);if(Ep(this,8)||Ep(this,16))return BA.v.ee.call(this,a);this.Mv();return!0};z.e.Ja=function(a){this.jb().K(a,!0)};z.e.Fj=function(a,b){this.jb().zl(a,b,!0)};z.e.removeItem=function(a){(a=this.jb().removeChild(a,!0))&&a.dispose()};z.e.Ni=function(a){return z.Bh(this.jb(),a)};z.e.pm=function(){return z.Ah(this.jb())};z.e.mb=function(){return this.jb().mb()};
z.e.jb=function(){this.Ac?this.gt&&this.Ac.getParent()!=this&&z.xh(this.Ac,this):this.$h(new z.Oz(this.L()),!0);this.Ac.m()||this.Ac.B();return this.Ac};z.e.$h=function(a,b){var c=this.Ac;a!=c&&(c&&(this.oh(),this.Aa&&FA(this,c,!1)),this.Ac=a,this.gt=!b,a&&(z.xh(a,this),a.F(!1,!0),a.ao=!1,a.lf(!1),this.Aa&&FA(this,a,!0)))};z.e.mg=function(a){return this.jb().mg(a)};z.Ip("goog-submenu",function(){return new BA(null)});z.NG=function(a,b){var c=[],d=[].slice,f=z.zr(a,function(){c.length&&(b(c),c=[])},!0);return function(){c.push(d.call(arguments));f()}}(550,function(a){z.Y.authed()&&(a={items:JSON.stringify(a)},window.$.post("/lastread/touch",a))});z.y(z.GA,z.Jz);z.Ip("goog-checkbox-menuitem",function(){return new z.GA(null)});z.p(HA,z.Q);HA.prototype.T=function(a){z.Q.prototype.T.call(this,a);var b=(0,window.$)(a).data(),c=new z.Oz;IA(this,c,b.copyable);c.Ja(new z.Nz);KA(this,c);c.Ja(new z.Nz);c.Ja(new z.Jz("鍒犻櫎"));this.o().g(c,"action",this.Lz).ta(c,"show",this.QQ);z.S.add(c.m(),"zg-gray-normal");(0,window.$)(c.m()).addClass("setting-menu");b=new z.mA("comment",c);b.cj=!0;z.oA(b);nA(b);b.Tb=z.Hl;b.w(a);this.ha=c};
HA.prototype.QQ=function(){var a=this;window.$.get("/answer/comment_permission",{answer_id:this.ri.Bb}).then(function(b){if(b&&!b.r){var c=b.msg;a.RB.forEach(function(a){a.Y()===c&&a.yc(!0)});a.Rl=c}else z.T.message(b.msg)})};HA.prototype.DC=function(a){BD.DC(this.ri.Bb,a);(0,window.$)(".copyright",jD(this.ri)).text(OG[a]).attr("href",PG[a]||"#")};
HA.prototype.Lz=function(a){var b=a.target,c=b.Y();if(c in JA)z.Y.wA||"2"!==c?(this.DC(c),this.NF.forEach(function(a){a.yc(a===b)})):(window.open("/copyright/invite","copyright_invite"),window.setTimeout(function(){return b.yc(!1)},100));else if("鍒犻櫎"===c)MA(this);else if(c in LA)if(this.Rl===c)NA(this);else if("review_comment"===this.Rl){var d=this;a=void 0;var f;"all_can_comment"===c?(a="纭寮€鏀捐瘎璁哄悧锛�",f="寮€鏀捐瘎璁哄悗锛岃瘎璁烘彁浜ゅ嵆鍏紑鏄剧ず銆俓x3cbr/\x3e褰撳墠鎵€鏈夊緟瀹℃牳璇勮涓嶄細鍏紑锛屼负鎮ㄨ嚜鍔ㄤ繚瀛橈紝鑻ュ垏鎹㈠洖棰勫璇勮鍙互缁х画瀹℃牳銆�"):"nobody_can_comment"===c&&(a="纭鍏抽棴璇勮鍚楋紵",
f="鍏抽棴璇勮鍚庯紝鎵€鏈変汉鏃犳硶鎻愪氦璇勮銆俓x3cbr/\x3e褰撳墠鎵€鏈夊緟瀹℃牳璇勮涓嶄細鍏紑锛屼负鎮ㄨ嚜鍔ㄤ繚瀛橈紝鑻ュ垏鎹㈠洖棰勫璇勮鍙互缁х画瀹℃牳銆�");z.T.confirm(a,f,function(a){a&&OA(d,c)});NA(this)}else OA(this,c)};var JA={0:"绂佹杞浇",1:"鍏佽瑙勮寖杞浇",2:"鍏佽浠樿垂杞浇"},OG={0:"绂佹杞浇",1:"鍏佽瑙勮寖杞浇",2:"鍏佽浠樿垂杞浇"},PG={0:"/terms#sec-licence-6",1:"/terms#sec-licence-1"},LA=z.Y.uc?{all_can_comment:"寮€鏀捐瘎璁�",review_comment:"棰勫璇勮",nobody_can_comment:"鍏抽棴璇勮"}:{all_can_comment:"鍏佽浠讳綍浜鸿瘎璁�",followee_can_comment:"鍏佽鎴戝叧娉ㄧ殑浜鸿瘎璁�",nobody_can_comment:"鍏抽棴璇勮"},PA="set_permission";var QG=/a(:(link|visited|active|hover))?/;SA.prototype.clone=function(){var a=new SA;a.Yh=this.Yh.concat();a.Ho=this.Ho;return a};var RG=/(^|;|{)\s*color:([^;]+);/g,WA={},ZA={},SG={},TG="color visibility quotes list-style-type list-style-image list-style-position list-style page-break-inside orphans widows font-family font-style font-variant font-weight text-indent text-align text-transform white-space caption-side border-collapse border-spacing empty-cells cursor".split(" "),UG="font-family font-size font-weight font-variant font-style color text-align text-decoration text-indent text-transform letter-spacing white-space word-spacing".split(" ");var VG;z.y(z.$A,z.H);z.e=z.$A.prototype;z.e.G=null;z.e.aP=!0;z.e.AM=function(){this.G&&(this.disable(this.G),this.G=null)};z.e.enable=function(a){this.G==a&&(this.rc=!0)};z.e.disable=function(a){this.G==a&&(this.rc=!1)};z.e.isEnabled=function(a){return this.G==a?this.rc:!1};z.e.Vr=z.Gl;z.e.MI=z.Gl;z.e.D=function(){this.G&&this.AM(this.G);z.$A.v.D.call(this)};z.hB=z.Lo({Hz:1,lS:2,Gt:3,nk:4,Ht:5,execCommand:6,queryCommandValue:7,BK:8,DP:10,CP:11});VG={8:!0,10:!0,11:!0};
z.$A.prototype.execCommand=function(a,b){var c=this.MI(a);c||(z.B&&z.EB(this.G,!0,!0),this.G.Gi());try{var d=this.Df.apply(this,arguments)}finally{c||(this.G.Bf(),z.DB(this.G))}return d};z.$A.prototype.ef=function(){return!1};var iB,lB;z.y(gB,z.H);gB.prototype.La=null;gB.prototype.Wc=null;iB="change";z.jB="delayedchange";lB={g_:"cvc",A_:"load",U_:"unload",ZZ:"beforechange",e_:iB,i_:z.jB,$Z:"beforefocus",l_:"focus",c_:"blur",b_:"beforetab",s_:"ifrsz",a_:"beforeselectionchange",J_:"selectionchange"};z.nB=0;z.WG=null;z.e=gB.prototype;z.e.Ch=!1;z.e.LM=!1;z.e.mw=!1;z.e.m=function(){return this.La};
z.e.addListener=function(a,b,c,d){var f=this.m();qG&&f&&this.Bc()&&(f=f.ownerDocument);d?z.yd(this.sc,f,a,b,c,d):this.sc.g(f,a,b,c)};var mB=15,kB=250;gB.prototype.Bc=z.Hl;gB.prototype.Mp=z.Hl;gB.prototype.GL=z.Gl;var qB={46:!0,8:!0};z.C||(qB[9]=!0);var rB={86:!0,88:!0};z.el&&!z.B&&(qB[229]=!0);
gB.prototype.Qx=function(){this.sc&&this.sc.removeAll();if((z.Zk||z.ai)&&this.Bc()&&this.GL()){try{var a=this.qb.eb();a.removeEventListener("keydown",this.lo,!1);a.removeEventListener("touchend",this.lo,!1)}catch(b){}delete this.lo}if(z.Lg&&this.Bc()){try{a=this.qb.eb(),a.removeEventListener("focus",this.Bx,!1),a.removeEventListener("blur",this.Ax,!1)}catch(b){}delete this.Bx;delete this.Ax}this.Se&&this.Se.stop();this.Rs.stop()};
gB.prototype.D=function(){this.Op()||this.Kc();this.Wc&&this.execCommand("clearlorem");this.Om=z.nB;for(var a in this.dc){var b=this.dc[a];b.Vr()||b.disable(this)}this.qb=this.La=null;this.Qx();this.gm&&(z.nd(this.gm),this.gm=null);this.Ym=null;this.sc&&(this.sc.dispose(),this.sc=null);for(;a=this.UZ.pop();)a.dispose();z.WG==this.id&&(z.WG=null);for(var c in this.dc)a=this.dc[c],a.aP&&a.dispose();delete this.dc;gB.v.D.call(this)};
var XG=["DOMNodeInserted","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","DOMCharacterDataModified"];gB.prototype.KC=function(){if(nG||!this.Bc())this.sc.g(this.m(),"DOMSubtreeModified",this.Iz);else{var a=this.qb.xa();this.sc.g(a,XG,this.Iz,!0);this.sc.g(a,"DOMAttrModified",(0,z.t)(this.uH,this,this.Iz),!0)}};var xB={8:1,9:1,13:1,33:1,34:1,35:1,36:1,37:1,38:1,39:1,40:1,46:1},yB={65:!0,86:!0,88:!0},AB={8:1,9:1,13:1,27:1,33:1,34:1,37:1,38:1,39:1,40:1};z.e=gB.prototype;
z.e.Gp=function(a,b){for(var c=this.uk[a],d=z.yb(arguments,1),f=0;f<c.length;++f){var g=c[f];if((g.isEnabled(this)||VG[a])&&g[z.hB[a]].apply(g,d))return!0}return!1};z.e.OT=function(a,b){for(var c=this.uk[a],d=z.yb(arguments,1),f=0;f<c.length;++f){var g=c[f];(g.isEnabled(this)||VG[a])&&g[z.hB[a]].apply(g,d)}};z.e.pv=function(a,b,c){for(var d=this.uk[a],f=z.yb(arguments,1),g=0;g<d.length;++g){var h=d[g];if(h.isEnabled(this)||VG[a])f[0]=h[z.hB[a]].apply(h,f)}return f[0]};
z.e.Kf=function(a){z.Uc&&65==a.keyCode&&vB(this,a);(z.B||tB(this,a))&&!this.Gp(1,a)&&wG&&zB(this,a)};z.e.mS=function(a){if(z.B){if(!tB(this,a))return}else this.uz=!0,this.Gi();this.Gp(2,a)||wG||zB(this,a)};z.e.nS=function(a){z.B||!this.uz&&!pB(a)||this.jk();this.Gp(3,a);vB(this,a)};z.e.execCommand=function(a,b){for(var c=arguments,d,f=this.uk[6],g=0;g<f.length;++g){var h=f[g];if(h.isEnabled(this)&&h.ef(a)){d=h.execCommand.apply(h,c);break}}return d};
z.e.queryCommandValue=function(a){var b=this.Kc()&&this.Qf;if(z.oa(a))return this.kv(a,b);for(var c={},d=0;d<a.length;d++)c[a[d]]=this.kv(a[d],b);return c};z.e.kv=function(a,b){for(var c=this.uk[7],d=0;d<c.length;++d){var f=c[d];if(f.isEnabled(this)&&f.ef(a)&&(b||f.Vr()))return f.queryCommandValue(a)}return b?null:!1};z.e.uH=function(a,b){if(!wB(this,iB)){var c=b.tc;try{if(c.originalTarget.prefix||"scrollbar"==c.originalTarget.nodeName)return}catch(d){return}c.prevValue!=c.newValue&&a.call(this,c)}};
z.e.Iz=function(a){wB(this,iB)||(a=a.bH?a.tc:a,a.target.firebugIgnore||this.Se.start())};z.e.Et=function(){z.C&&this.execCommand("clearlorem",!0);z.B&&this.vy();this.Bf()};z.e.KS=function(){var a=this.uL;this.uL=null;z.DB(this,void 0,a)};z.e.Gi=function(){wB(this,"beforechange")||this.dispatchEvent("beforechange")};z.e.Bf=function(a){GB(this,!0,a)};z.e.jk=function(){wB(this,iB)||(this.Se&&this.Se.stop(),wB(this,z.jB)||this.Rs.start())};z.e.oG=function(){wB(this,z.jB)||(this.Rs.stop(),this.dispatchEvent(z.jB))};
z.e.vy=function(){this.nG();this.pG()};z.e.nG=function(){wB(this,"beforefocus")||(this.execCommand("clearlorem",!0),this.dispatchEvent("beforefocus"))};z.e.pG=function(){if(!wB(this,"focus")){z.WG=this.id;this.Qf=!0;this.dispatchEvent("focus");if(z.B){var a=this.m(),b=z.CB(this);if(b){var c=z.Kt(b);0!=z.Lt(b)||c&&c!=a&&"BODY"!=c.tagName||z.Tu(a)}}!oG&&this.Bc()&&this.qb.eb().parent.getSelection().removeAllRanges()}};z.e.Us=function(){wB(this,"blur")||(z.WG==this.id&&(z.WG=null),this.Qf=!1,this.dispatchEvent("blur"))};
z.e.um=function(a){z.WG=this.id;if(z.C){var b=a.target;b&&"A"==b.tagName&&a.ctrlKey&&this.Ym.eb().open(b.href)}this.mw=!0};z.e.Az=function(){this.mw=!1};z.e.Jt=function(a){if(!this.LM||this.mw)this.mw=!1,this.dispatchEvent("beforeselectionchange"),z.DB(this,a),z.C&&(this.uL=a.target,this.vL.start())};
z.e.mm=function(){if(this.queryCommandValue("usinglorem"))return"聽";if(!this.Kc())return this.Wc.innerHTML;var a=this.m(),b=a.cloneNode(!1),a=a.innerHTML;z.C&&a.match(/^\s*<script/i)&&(a="聽"+a);b.innerHTML=a;this.OT(11,b);return this.pv(10,b.innerHTML)};
z.e.ge=function(a,b,c,d){if(!this.Op()){d&&this.execCommand("clearlorem");b&&a&&(b="\x3cp\x3e"+b+"\x3c/p\x3e");c&&z.EB(this,!1,!0);a=b;if(b=this.m()){if(this.Bc()&&z.D)for(var f=b.ownerDocument.getElementsByTagName("HEAD"),g=f.length-1;1<=g;--g)f[g].parentNode.removeChild(f[g])}else b=this.Wc;b&&uB(this,a,b);d&&this.execCommand("updatelorem");this.Kc()&&(c?(z.B&&vq(this.Se),GB(this)):this.Bf())}};z.e.vD=function(){var a=this.qb.xa();a.designMode="on";z.tG&&a.execCommand("styleWithCSS",!1,!1)};
z.e.tI=function(){this.Ul&&JB(this)&&z.bh(this.Ul,this.m())};z.e.Kc=function(){return 2==this.Om};z.e.Op=function(){return 1==this.Om};z.e.focus=function(){if(!z.fB&&this.Bc())this.qb.eb().focus();else{if(z.Lg)var a=this.Cl.pageXOffset,b=this.Cl.pageYOffset;this.m().focus();z.Lg&&this.Cl.scrollTo(a,b)}};z.e.vg=function(){!z.lG&&z.B||z.IB(this);this.focus()};z.e.Be=function(a){this.Om=1;var b=this.Wc;this.nodeName=b.nodeName;this.cssText=b.style.cssText;z.Ag(b,"editable");this.ZA(a)};
z.e.ZA=function(a){var b=this.Wc;if(b){var b=b.innerHTML,c={},b=this.pv(8,b,c),d=this.Ym.B("IFRAME",this.jH());if(JB(this)){var f=(0,z.t)(this.cI,this,d,b,c);this.gm=z.G(d,"load",f,!0);a&&(d.src=a)}this.UE(d);JB(this)||this.cI(d,b,c)}};
z.e.Ft=function(){z.C&&Eu(this.qb.eb());z.WG!=this.id&&this.execCommand("updatelorem");if((z.Zk||z.ai)&&this.Bc()&&this.GL()){var a=this.qb.eb();this.lo=(0,z.t)(a.focus,a);a.addEventListener("keydown",this.lo,!1);a.addEventListener("touchend",this.lo,!1)}z.Lg&&this.Bc()?(this.Bx=(0,z.t)(this.vy,this),this.Ax=(0,z.t)(this.Us,this),a=this.qb.eb(),a.addEventListener("focus",this.Bx,!1),a.addEventListener("blur",this.Ax,!1)):(vG?(this.addListener("focus",this.pG),this.addListener(z.Ql,this.nG)):this.addListener("focus",
this.vy),this.addListener("blur",this.Us,z.B));z.B?this.KC():(this.addListener(["beforecut","beforepaste","drop","dragend"],this.Gi),this.addListener(["cut","paste"],Uo(this.Bf)),this.addListener("drop",this.Et));this.addListener(z.D?"dragend":"dragdrop",this.Et);this.addListener("keydown",this.Kf);this.addListener("keypress",this.mS);this.addListener("keyup",this.nS);this.vL=new uq(this.KS,250,this);this.ZQ&&this.addListener("click",HB);this.addListener("mousedown",this.um);this.LM?(this.sc.g(this.qb.xa(),
"mouseup",this.Jt),this.addListener("dragstart",this.Az)):this.addListener("mouseup",this.Jt);this.tI();GB(this);this.dispatchEvent("load");for(var b in this.dc)this.dc[b].enable(this)};z.e.UE=function(a){var b=this.Wc;a.className=b.className;a.id=b.id;z.Bo(a,b)};z.e.kz=function(a){var b=Cn(z.Ie(this.Wc));return new cB(this.id,b,!1,!1,a)};
z.e.cN=function(a,b,c){c=this.kz(c);JB(this)?(a=(a.contentDocument||a.contentWindow.document).body,z.fB&&(a.contentEditable=!0),a.className="editable",a.setAttribute("g_editable",!0),a.hideFocus=!0,a.id=c.MG,z.Ig(a,c.Ry),a.innerHTML=b):eB(c,b,new dB(this.m(),this.Ul),a)};z.e.cI=function(a,b,c){this.gm&&(z.nd(this.gm),this.gm=null);a.allowTransparency="true";this.cN(a,b,c);sB(this,(a.contentDocument||a.contentWindow.document).body);!z.fB&&this.Bc()&&this.vD();this.Ft()};
z.e.jH=function(){var a="padding:0;"+this.Wc.style.cssText;z.bp(a,";")||(a+=";");a+="background-color:white;";z.C&&(a+="overflow:visible;");return{frameBorder:0,style:a}};var YG;z.y(z.KB,gB);z.e=z.KB.prototype;z.e.zI=!1;z.e.VT=!1;z.e.Mp=function(){return this.zI};z.e.DH=function(){wB(this,iB)||LB(this)};
z.e.SC=function(){if(this.ar?0:this.ar=!0){var a=!1,b=BB(this);if(b){var c,d=BB(this),f=d.contentDocument.body;c=f.parentNode;0===(0,window.parseInt)(lo(d,"height"),10)&&z.Ig(d,"height","1px");Cn(z.Ie(f))?d=c.offsetHeight:(d=c.scrollHeight,c.clientHeight!=c.offsetHeight&&(d+=YG||(YG=z.kh())));c=d;this.OU&&(c=Math.max(c,this.OU));(0,window.parseInt)(lo(b,"height"),10)!=c&&(b.style.height=c+"px",a=!0)}this.ar=!1;a&&this.dispatchEvent("ifrsz")}};z.e.Vz="";var ZG=!1;z.e=z.KB.prototype;z.e.Bc=function(){return!z.fB};
z.e.KC=function(){z.KB.v.KC.call(this);if(this.Bc()){var a=BB(this).ownerDocument;this.sc.g(a,XG,this.DH,!0);this.sU=z.ld(this.qb.eb(),"load",this.SC,!0,this);this.sc.g(a,"DOMAttrModified",(0,z.t)(this.uH,this,this.DH),!0)}};z.e.jk=function(){wB(this,iB)||(z.KB.v.jk.call(this),this.Bc()&&this.SC())};
z.e.Us=function(){if(!wB(this,"blur")&&(z.KB.v.Us.call(this),!z.fB&&!oG)){var a=this.qb.eb(),b=!1;z.nd(this.dJ);this.dJ=z.ld(a.document.body,"dragover",function(){b=!0});z.u.setTimeout((0,z.t)(function(){if(!b&&this.qb){var a=z.CB(this),d=this.qb.eb();Eu(d);a&&(a.collapse(!0),a.select())}},this),0)}};z.e.vD=function(){z.KB.v.vD.call(this);var a=this.qb.xa();a.execCommand("enableInlineTableEditing",!1,"false");a.execCommand("enableObjectResizing",!1,"false")};
z.e.tI=function(){this.Bc()||ZG||(this.Ul&&z.bh(this.Ul,this.m()),ZG=!0)};z.e.ZA=function(a){if(this.Bc())z.KB.v.ZA.call(this,a);else if(a=this.Wc)sB(this,a),a.contentEditable=!0,uB(this,a.innerHTML,a),this.Ft()};z.e.Ft=function(){if(this.Bc()){var a=this;z.u.setTimeout(function(){MB(a)},0)}z.KB.v.Ft.call(this)};z.e.jH=function(){return{frameBorder:0,style:"padding:0;"}};
z.e.UE=function(a){if(!this.VT){var b=this.Wc;b&&(this.zI="auto"==z.Og(b,"overflowY"))}var b=this.Wc,c=z.Ie(b),d=b.style.width,f=b.style.height;z.Ig(b,"visibility","hidden");var c=c.B("DIV",{style:"height:0;clear:both",innerHTML:"\x26nbsp;"}),g=c.cloneNode(!0);b.insertBefore(c,b.firstChild);b.appendChild(g);g=z.Ke(b);if((c=z.C&&b.currentStyle)&&Cn(z.Ie(g))&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing)g=z.dh(b,c.width,"width","pixelWidth"),c=z.dh(b,c.height,"height","pixelHeight"),g=new z.He(g,
c);else var c=z.Qn(b),g=z.fh(b),h=z.ih(b),g=new z.He(c.width-h.left-g.left-g.right-h.right,c.height-h.top-g.top-g.bottom-h.bottom);c=g.width;g=g.height;h="";this.Mp()&&(h="\x26nbsp;",z.Ig(b,"position","relative"),z.Ig(b,"overflow","visible"),z.Ig(a,"position","absolute"),z.Ig(a,"top","0"),z.Ig(a,"left","0"));z.Wg(b,c,g);Cn(z.Ie(b))&&z.Ig(b,"lineHeight","0");z.Pu(b,h);z.Wg(a,c,g);z.Wg(b,d,f);z.Ig(b,"visibility","");b.appendChild(a);JB(this)||(b=a.contentWindow.document,Cn(z.Ie(a.ownerDocument))&&(b.open(),
a=z.Gd("\x3c!DOCTYPE HTML\x3e\x3chtml\x3e\x3c/html\x3e",null),b.write(z.Fd(a)),b.close()))};z.e.kz=function(a){var b=this.Wc;if(b)return new cB(this.id,Cn(z.Ie(b)),!0,this.Mp(),a);throw Error("no field");};
z.e.cN=function(a,b,c){z.Ig(a,"visibility","hidden");c=this.kz(c);var d=this.Wc,f=this.Ul;if(!this.Vz){var g=this.Wc;if(g){var h=g.ownerDocument,k=z.ta(h);if(!SG[k]){for(var l=z.ta(h),n=[],h=RA(h.styleSheets),q=0,v;v=h[q];q++)if((v=QA(v))&&v.length)for(var F=0,K=v.length;F<K;F++){var O=new SA,ca;ca=O;var Va=v[F],Ta=Va.style;if(Ta){var Ba=void 0,ua="";Ta&&(Ba=Va.selectorText)&&(ua=Ta.cssText)?z.C&&(ua+="/* */"):Va.cssText&&(ua=/([^\{]+)\{/,Ba=ua.exec(Va.cssText)[1],ua=Va.cssText.replace(ua,"").replace(/\}[^\}]*$/g,
""));if(Ba){Va=ca;Va.Yh=[];Ba=Ba.split(/,\s*/gm);for(Ta=0;Ta<Ba.length;Ta++){var Kd=Ba[Ta];0<Kd.length&&Va.Yh.push(new UA(Kd))}ca.Ho=ua;ca=!0}else ca=!1}else ca=!1;ca&&n.push(O)}SG[l]=n}l=SG[k];k=[];for(n=0;n<l.length;n++)k.push(l[n].clone());h=new YA(g);q=new VA("body");for(l=0;l<k.length;l++)for(v=k[l].Yh,n=v.length,F=0;F<n;F++){K=v[F];O=K;ca=h.uid;if(O.hx[ca])ca=O.hx[ca];else{for(var ua=0,Ta=Ba=Va=null,Kd=h.NJ,ui=Kd.length,ze=0;ze<=O.aj.length;ze++){for(Ba=O.aj[ze];ua<ui;){var Vd=Kd[ua];if(Ba&&
XA(Ba,Vd)){Va={yG:ua,wL:ze};ua++;break}else Ta&&XA(Ta,Vd)&&(Va={yG:ua,wL:ze-1});ua++}Ta=Ba}ca=O.hx[ca]=Va}ca&&(O=ca.wL,K=K.aj,ua=K.length-1,ca.yG==h.NJ.length-1||O<ua?(K=K.concat(),K.splice(0,O+1,q),O=new UA,O.aj=K,v.push(O)):0<O&&O==ua&&(O=new UA,O.aj=[q,K[ua]],v.push(O)))}h=new SA;g=g.currentStyle||z.Ke(g).defaultView.getComputedStyle(g,"")||{};l=new UA;l.aj=[new VA("html")];h.Yh=[l];q={};for(l=0;n=TG[l];l++)q[n]=g[z.cb(n)];TA(h,q);k.push(h);h=new SA;q=new UA;q.aj=[new VA("body")];v={position:"relative",
top:"0",left:"0",right:"auto",display:"block",visibility:"visible"};for(l=0;n=UG[l];l++)v[n]=g[z.cb(n)];TA(h,v,!0);h.Yh=[q];k.push(h);g=[];n=k.length;for(l=0;l<n;l++){v=k[l];h=g;F=v.Yh.length;q=!1;for(K=0;K<F;K++){O=v.Yh[K].aj;ca=O.length;for(ua=0;ua<ca;ua++)h.push(O[ua].rI," ");K<F-1&&h.push(",");z.B&&!z.E("1.9a")&&(q=q||QG.test(O[ca-1].rI))}v=v.Ho;q&&(v=v.replace(RG,"$1 color: $2 ! important; "));h.push("{",v,"}\n")}this.Vz=g.join("")}}d=new dB(d,f+this.Vz);c.ps&&(f=z.fh(d.TZ),(f.top||f.left||f.right||
f.bottom)&&z.Ig(a,"margin",-f.top+"px "+-f.right+"px "+-f.bottom+"px "+-f.left+"px"));eB(c,b,d,a);MB(this);z.Ig(a,"visibility","visible")};z.e.Qx=function(){z.nd(this.dJ);z.nd(this.sU);z.KB.v.Qx.call(this)};var lC={};lC._default_={ut:function(a){return window.$.get("/node/CommentV2",{params:{comment_id:a}})},ek:cp,fk:cp,add:function(a){return window.$.post("/node/AnswerCommentAddV2",{method:"add_comment",params:a})},remove:function(a){return window.$.post("/node/CommentV2",{method:"remove_comment",params:{comment_id:a}})},vu:function(a,b){return window.$.post("/node/CommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})}};
lC.answer={ek:function(a,b){return window.$.get("/node/AnswerCommentBoxV2",{params:{answer_id:a,load_all:b}})},fk:function(a){return window.$.get("/node/AnswerCommentListV2",{params:{answer_id:a}})},add:function(a){return window.$.post("/node/AnswerCommentAddV2",{method:"add_comment",params:a})},$O:function(a,b){return window.$.post("/node/AnswerCommentV2",{method:"author_remove_comment",params:{comment_id:a,is_block:b}})}};
lC.question={ek:function(a){return window.$.get("/node/QuestionCommentBoxV2",{params:{question_id:a}})},fk:function(a){return window.$.get("/node/QuestionCommentListV2",{params:{question_id:a}})},add:function(a){return window.$.post("/node/QuestionCommentAddV2",{method:"add_comment",params:a})}};
lC.favlist={ek:function(a){return window.$.get("/node/FavlistCommentBoxV2",{params:{favlist_id:a}})},fk:function(a){return window.$.get("/node/FavlistCommentListV2",{params:{favlist_id:a}})},add:function(a){return window.$.post("/node/FavlistCommentAddV2",{method:"add_comment",params:a})}};
lC.post={ut:function(a){return window.$.get("/node/PostCommentV2",{params:{comment_id:a}})},ek:function(a,b){return window.$.get("/node/PostCommentBoxV2",{params:{post_id:a,load_all:b}})},fk:function(a){return window.$.get("/node/PostCommentListV2",{params:{post_id:a}})},add:function(a){return window.$.post("/node/PostCommentV2",{method:"add_comment",params:a})},vu:function(a,b){return window.$.post("/node/PostCommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})},remove:function(a){return window.$.post("/node/PostCommentV2",
{method:"remove_comment",params:{comment_id:a}})}};
lC.roundtable={ut:function(a){return window.$.get("/roundtable/comments/"+a)},ek:function(a,b){return window.$.get("/node/RoundtableCommentBoxV2",{params:{roundtable_id:a,load_all:b}})},fk:function(a){return window.$.get("/roundtable/comments",{roundtable_id:a})},add:function(a){return window.$.post("/node/RoundtableCommentV2",{method:"add_comment",params:a})},vu:function(a,b){return window.$.post("/node/RoundtableCommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})},remove:function(a){return window.$.post("/node/RoundtableCommentV2",
{method:"remove_comment",params:{comment_id:a}})}};
lC.promotion={ut:function(a){return window.$.get("/node/PromotionCommentV2",{params:{comment_id:a}})},ek:function(a,b){return window.$.get("/node/PromotionCommentBoxV2",{params:{post_id:a,load_all:b}})},fk:function(a){return window.$.get("/node/PromotionCommentListV2",{params:{post_id:a}})},add:function(a){return window.$.post("/node/PromotionCommentV2",{method:"add_comment",params:a})},vu:function(a,b){return window.$.post("/node/PromotionCommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})},
remove:function(a){return window.$.post("/node/PromotionCommentV2",{method:"remove_comment",params:{comment_id:a}})}};z.y(z.NB,z.Lc);OB.prototype.fill=function(a,b){this[a]=this[a].replace("?",b);return this};z.y(PB,z.H);z.e=PB.prototype;z.e.bO={question:"闂",comment:"璇勮",answer:"鍥炵瓟",favlist:"鏀惰棌",member:"鐢ㄦ埛",message:"绉佷俊",image:"鍥剧墖",video:"瑙嗛",post:"鏂囩珷"};z.e.ey="report-dialog";z.e.kJ="loading";z.e.bR='\x3cform\x3e\x3cdiv class\x3d"header"\x3e\x3c% if (headnote) { %\x3e\x3cspan class\x3d"headnote"\x3e\x3c%\x3dheadnote%\x3e\x3c/span\x3e\x3c% } %\x3e\x3cspan class\x3d"error-container"\x3e\x3c/span\x3e\x3c/div\x3e\x3cul class\x3d"options clearfix"\x3e\x3c% each(options, function(option) { %\x3e\x3cli\x3e\x3clabel\x3e\x3cinput value\x3d"\x3c%\x3doption.value%\x3e" name\x3d"reason" type\x3d"radio"\x3e\x3c%\x3doption.label%\x3e\x3c/label\x3e\x3c% if (option.description) { %\x3e\x3cdiv class\x3d"description visible-if-checked"\x3e\x3c%\x3doption.description%\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (option.options) { %\x3e\x3cul class\x3d"group-options clearfix visible-if-checked"\x3e\x3c% each(option.options, function(opt) { %\x3e\x3cli\x3e\x3clabel\x3e\x3cinput required data-description\x3d"\x3c%\x3dopt.description%\x3e" value\x3d"\x3c%\x3dopt.value%\x3e" name\x3d"reason-\x3c%\x3doption.value%\x3e" type\x3d"radio"\x3e\x3c%\x3dopt.label%\x3e\x3c/label\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3cdiv class\x3d"group-description visible-if-checked"\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (option.value \x3d\x3d 0) { %\x3e\x3cp class\x3d"input-container visible-if-checked"\x3e\x3cinput placeholder\x3d"璇峰～鍐欏師鍥�" type\x3d"text" name\x3d"detail" class\x3d"reason-text zg-form-text-input"\x3e\x3c/p\x3e\x3cp class\x3d"error-container visible-if-checked"\x3e\x3c/p\x3e\x3c% } %\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3cp class\x3d"footnote"\x3e\x3c/p\x3e\x3c/form\x3e';
z.e.eH=function(){return this.Vs};z.e.Ex=function(a,b){var c=new z.R;c.Wq(!0);c.ud(!0);z.Rh(c,z.Jh());c.addEventListener(z.Th,this.IR,!1,this);z.Ac(c,this);a&&c.Ea(a);b&&c.X(b);c.F(!0);c.ga();z.S.add(c.m(),this.ey);return this.Vs=c};z.e.IR=function(a){if("ok"===a.key)return this.Mz()};
z.e.open=function(a,b,c){var d=this.Ex(z.Ja("纭畾瑕�%s璇�%s锛�",this.kE[this.km()],this.bO[a]||"鏉＄洰"),this.Fx());z.S.add(d.m(),this.kJ);ID(a,this.km()).then((0,z.t)(function(f){d.X((0,z.Gr)(this.bR,{each:z.A,options:f,headnote:c}));z.S.remove(d.m(),this.kJ);d.ga();z.Zh(d,450);this.LQ={type:a,id:b};this.uf(f)},this))};z.e.Mz=function(){var a=(0,window.$)("form",this.Vs.m()).valid();a&&this.submit();return a};z.e.CH=function(){};
z.e.uf=function(a){var b=this,c=(0,window.$)(this.Vs.m()),d=(0,window.$)("form",c),f=(0,window.$)(".reason-text",c);c.on("change",":radio",function(g){g=(0,window.$)(g.target);c.find("li").removeClass("checked");g.parentsUntil(d,"li").addClass("checked");var h=this.value,k=z.pb(a,function(a){return h===String(a.value)});b.CH(k);k="0"===h;f.toggle(k);k&&f.placeholder();g.closest("li").find("ul, :text").length||d.valid()});c.find("ul ul").on("change",":radio",function(a){(0,window.$)(a.delegateTarget).parent().find(".group-description").text((0,window.$)(this).data("description"))});
d.validate({rules:{reason:"required",detail:{rangelength:[2,100],required:function(){return!!(0,window.$)("input[name\x3dreason]:checked",c).length}}},messages:{reason:"璇烽€夋嫨鐞嗙敱",detail:"鐞嗙敱涓� 2-100 瀛�"},errorLabelContainer:(0,window.$)(".error-container",d)})};z.e.Fx=function(){return'\x3cdiv class\x3d"loading"\x3e鐞嗙敱鍔犺浇涓璡x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'};z.y(z.QB,PB);var ID=function(a){return function(b,c){return a(z.Ja("/manage/%s/options?action\x3d%s",b,c))}}(z.Lj(window.$.getJSON));z.e=z.QB.prototype;z.e.kE={remove:"鍒犻櫎",lock:"閿佸畾",unlock:"瑙ｉ櫎閿佸畾",collapse:"鎶樺彔",uncollapse:"瑙ｉ櫎鎶樺彔",mute:"闅旂",unmute:"瑙ｉ櫎闅旂"};z.e.Ex=function(a,b){var c=z.QB.v.Ex.call(this,a,b);c.Dc.set("ok",this.kE[this.km()]);return c};z.e.km=function(){return this.lv.op.split("-")[0]};z.e.yL=function(a){(0,window.$)(".footnote",this.eH().m()).text(a)};
z.e.CH=function(a){a&&(a.trackable?SB(this,a).then((0,z.t)(this.yL,this)):this.yL(""))};z.e.submit=function(){var a=this.lv.action,b=this.lv.content,c=(0,window.$)((0,window.$)("form",this.Vs.m())[0]).serialize();b&&(c+="\x26"+b);RB(a,c,this.Nl)};z.e.D=function(){this.Nl=this.lv=null;z.QB.v.D.call(this)};z.e.open=function(a,b,c){this.lv=z.lf(a)?(0,window.$)(a).data():a;this.Nl=c||z.je.z0;z.QB.v.open.call(this,b.type,b.id,"")};z.y(TB,z.Q);z.e=TB.prototype;z.e.defaults={trigger:{A:"data-editable"},iO:"hc-actionbar",eU:"checked",yY:100,fT:100};z.e.C=function(){TB.v.C.call(this);this.Hj=z.M("div");window.document.body.appendChild(this.Hj);UB(this,this.h)};z.e.D=function(){z.N(this.Hj);this.Hj=null;TB.v.D.call(this)};z.e.mz=function(){return this.jT};
z.e.rP=function(a,b,c){b=z.M("div",{title:a.na,"data-action":a.name,className:"button "+a.name+(0===b?" first":b===c.length-1?" last":"")},[z.M("i","icon icon-actionbar-"+a.name)]);z.fo(b,!0);this.o().g(b,"click",function(){VB(this,a.name)&&a.xi(this.Pe)});return b};z.e.render=function(){this.Hj.innerHTML="";z.af(this.Hj,z.mb(z.Gb(En(this.Vn)),this.rP,this))};z.y(z.XB,z.Q);z.XB.prototype.defaults={PH:{},XO:!0};z.XB.prototype.C=function(){z.XB.v.C.call(this);var a=this,b=this.h;this.J.XO&&(this.Un=jC(b),z.Ac(this,this.Un));this.o().g(b,"paste",function(){(0,window.setTimeout)(function(){YB(a)})}).g(b,"keydown",this.ZS)};
z.XB.prototype.ZS=function(a){var b=z.Sn(a.keyCode),c=8===a.keyCode;if(!(a.ctrlKey||a.altKey||a.metaKey||!b&&!c)){var b=z.zu(),d=b.aa(),f=b.ka(),g=this.h,h,k=aC(d,g,cC)||f!==d&&(h||(h=aC(f,g,cC)));if(k){var l=z.qf(k),n=b.ya(),q=b.Sa();if(k.getAttribute("data-editable")&&l===k.href||"video-link"===k.className){var v=!1;h=h||aC(f,g,cC)||k;var g=k.contains(d),F=h.contains(f);if(c)g&&(d=k,n=0,v=!0),F&&(f=h,q=z.Nu(h),v=!0),v&&z.ku(d,n,f,q).select();else if(g&&F&&h===k){if(!b.isCollapsed()||0!==n&&l.length!==
n)a.preventDefault(),z.Uu(k)}else g&&(d=k.nextSibling,n=0,v=!0),F&&(f=h.previousSibling,q=z.Nu(f),v=!0),v&&z.ku(d,n,f,q).select()}}}};var iC=/\b(?:(?:https?):\/\/|www\.)(?:\([\-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[\-A-Z0-9+&@#\/%=~_|$?!:,.])*(?:\([\-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[A-Z0-9+&@#\/%=~_|$])/ig,eC=["http:","https:"],fC=z.Lj(function(a){return window.$.post("/scraper",{url:a})});z.y(z.kC,z.Q);z.e=z.kC.prototype;z.e.defaults={vU:!1,autofocus:!0,By:"empty",Rf:"zm-item-comment"};z.e.T=function(a){z.kC.v.T.call(this,a);DC(this);a=window.location.hash.slice(1).split("-");if(a="comment"===a[0]&&a[1])a=wC(this,a),z.fr(a),z.wr(a),a.focus();this.th=!0;z.A(xC(this),this.Ru,this)};z.e.co="zm-comment-bubble";z.e.SE="."+z.kC.prototype.co;z.e.$=function(a){return(0,window.$)(a,this.h)};z.e.B=function(){this.h=z.M("div",{"class":this.xF,style:"display:none"});this.sh()};z.e.yo=function(){return'\x3ci class\x3d"icon icon-spike zm-comment-bubble"\x3e\x3c/i\x3e\x3cdiv class\x3d"zm-comment-spinner"\x3e姝ｅ湪鍔犺浇锛岃绋嶇瓑 \x3ci class\x3d"spinner-lightgray"\x3e\x3c/i\x3e\x3c/div\x3e'};
z.e.D=function(){z.kC.v.D.call(this);this.La=this.FF=this.vo=this.IE=this.yd=this.XB=this.gJ=null};
z.e.DY=mC(function(a){var b=z.L("zm-comment-content-wrap",a),c=z.L("zm-comment-form",a),d=a.getAttribute("data-id"),f=this,g;if(c){g=z.L("zm-comment-editable",c);if(z.ah(c)){if(z.vr(c)){z.P(c,!1);return}}else z.P(c,!0);uC(g)}else{c=vC(b);g=z.L("zm-comment-editable",c);var h=new z.KB(g);h.ge(!1,"");h.Be();z.Bc(this,nC(h.m(),this.type,this.id));uC(g);a=z.L("zm-comment-close",c);b=z.L("zm-comment-submit",c);b.name="";var k=function(){f.sa({action:"click_reply_[type]_comment_submit"});var a=(0,z.ab)(h.mm()),
b=(0,z.ab)(z.qf(g));a&&b?FC(f,{content:a,EX:d},function(a){a.r||(z.P(c,!1),h.ge(!1,""),(a=z.jb(xC(f)))&&z.wr(a,{offsetTop:100,jx:!0}))}):(z.T.message("璇峰～鍐欏唴瀹�"),g.focus())};z.G(a,"click",function(){z.P(c,!1)});z.G(b,"click",k);z.G(g,"keydown",function(a){13===a.keyCode&&(a.ctrlKey||a.metaKey)&&(k(),a.preventDefault())})}z.wr(c,100)});z.e.Kv=function(a){z.S.enable(this.FF,"expanded",a)};
z.e.pj=function(a,b){this.dispatchEvent(new z.NB("click!comment",{category:"?",action:this.type+"_comments",label:"?_"+a,value:z.pa(b)?b:this.lb()}))};z.e.ik=function(){this.th?BC(this):this.ev=!0};z.e.AV=function(a){13===a.keyCode&&(a.ctrlKey||a.metaKey)&&(this.Wr(),(0,window.$)(this.La).blur(),a.preventDefault());27===a.keyCode&&zC(this)};
z.e.Ya=function(a){var b=z.mr(this.h,a.target,"BUTTON")||z.mr(this.h,a.target);if(b&&b.name){var c=z.to(b,this.J.Rf);a.preventDefault();switch(b.name){case "reply_comment":this.sa({action:"click_reply_[type]_comment_start"});this.DY(c);break;case "cancelanon":a=(0,window.$)(this.h).parents(".feed-item-hook").data("qid");z.pp(0,null,a);break;case "delcomment":this.ep(b);break;case "like_comment":this.pS(b);break;case "author_delcomment":IC(this,b);break;case "admin_delcomment":HC(this,b);break;case "closeform":this.sa({action:"click_add_[type]_comment_cancel"});
zC(this);break;case "addnew":this.sa({action:"click_add_[type]_comment_submit"});this.Wr();break;case "load-more":this.pj("comments_all"),this.sa({action:"click_view_all_comment"}),this.gJ(b)}}};
z.e.gJ=function(a){this.Bu&&"pending"===this.Bu.state()||(a&&z.S.add(a,"loading"),this.Bu=this.XB||this.hJ(),this.Bu.done((0,z.t)(function(b){b=(0,window.$)(b).filter(".zm-item-comment").get();if(b.length){var c=xC(this);c.length&&(b=z.lb(b,function(a){return!z.pb(c,function(b){return b.getAttribute("data-id")===a.getAttribute("data-id")})}),b=z.ub(c,b).sort(function(a,b){return a.getAttribute("data-id")-b.getAttribute("data-id")}),z.A(b,this.Ru,this),a&&z.N(a));z.af(this.vo,b)}},this)))};
z.e.pS=mC(function(a){var b=(0,window.$)(a),c=z.to(a,this.J.Rf);a=(0,window.$)(".like-num",c);var d=c.getAttribute("data-id");if(c=!b.hasClass("liked"))this.pj("like_comment"),this.sa({action:"click_like_[type]_comment"});this.sf.vu(d,c);var d=(0,window.$)("em",a),f=+d.text()+(c?1:-1);a.toggleClass("liked",c).toggleClass("nil",0>=f).attr("data-tooltip","s$r$"+f+" 浜鸿寰楄繖涓緢璧�");d.text(f);b.toggleClass("liked",c);Yq(b[0],c?"鍙栨秷璧�":"璧�")});z.e.expand=function(){this.Lc(!0)};z.e.collapse=function(){this.Lc(!1)};
z.e.pd=function(){return this.th};z.e.Lc=function(a){if(a!==this.th){a&&(this.$(this.SE).hide(),this.sh());this.th=a;this.dispatchEvent(a?"beforeexpand":"beforecollapse");z.P(this.h,this.th);var b=(0,z.t)(function(){a&&AC(this);this.dispatchEvent(a?"expand":"collapse");this.Ff&&!a&&(z.iv(this.Ff),z.wr(this.Ff.h))},this),c;a&&this.ev?(c=BC(this))&&c.done(b):(0,window.setTimeout)(b);this.yd&&(a?(this.EW=z.qf(this.yd),Yq(this.yd,"鏀惰捣璇勮")):Yq(this.yd,0>this.Pa?this.EW:this.Pa?this.Pa+" 鏉¤瘎璁�":"娣诲姞璇勮"))}};
z.e.gi=function(){this.Lc(!this.th)};z.e.hJ=function(){return this.sf.fk(this.id)};z.e.mn=function(a){this.Oj=a};z.e.yX=function(a){a=z.Ye((0,z.ab)(a));z.P(a,this.th);z.A((0,window.$)("."+this.J.Rf,a).get(),this.Ru,this);this.ev=!1;this.Cb();z.Bo(a,this.h);this.h=a;DC(this)};z.e.No=function(){this.La.focus()};z.e.cb=function(){var a=(0,z.ab)(this.Vj.mm());return a===this.placeholder?"":a};
z.e.Wr=mC(function(){var a=this.cb(),b=(0,z.ab)(z.qf(this.La));a&&"TEXTAREA"===this.La.tagName&&b||a?FC(this,a):(z.T.message("璇峰～鍐欏唴瀹�"),this.No())});z.e.lb=function(){return this.Pa};z.e.uR=function(a){if(!a)return z.T.message("缃戠粶寮傚父");if(a.r&&1991832!==a.errcode)return z.T.alert(a.msg);this.sf.ut(a.msg).done(window.$.proxy(this.zX,this));this.Vj.ge("");tC(this);this.Kv(!1)};
z.e.Ru=function(a){var b=this;a&&(GC(this,a),this.Ap(a),z.V.Va(a,{module:"CommentItem"},function(){return{card:{card_type:"Content",content:{type:"Comment",id:String(b.data.id)}}}}))};z.e.Ap=function(a){var b=this;(0,window.$)("a[name\x3dreport], button.report",a).on("click",function(){z.V.trackEvent(b,{action:"ReportIntent",element:"Button"});(new z.Az({type:"comment",id:a.getAttribute("data-id"),Ia:a.getAttribute("data-id")})).render()})};
z.e.zX=function(a){this.Bk="";a=z.Ye(a);this.vo.appendChild(a);this.Ru(a);this.Pa+=1;EC(this)};z.e.ep=function(a){var b=z.to(a,this.J.Rf),c=b.getAttribute("data-id");z.T.confirm("鍒犻櫎璇勮","浣犵‘瀹氳鍒犻櫎杩欐潯璇勮鍚楋紵",function(a){a&&KC(this,c,z.Aa(z.N,b))},this)};z.e.sh=function(){(0,window.$)(window).on("beforeunload.CommentForm",(0,z.t)(function(){if(this.Bk)return"浣犵殑璇勮杩樻湭淇濆瓨锛岀‘璁ょ寮€璇ラ〉闈㈠悧锛�"},this))};z.e.Fi=function(){(0,window.$)(window).off("beforeunload.CommentForm")};
z.e.sa=function(a){this.dispatchEvent({type:"trackRequested",category:"comment",action:a.action.replace("[type]",this.type)})};z.p(z.MC,z.Q);z.e=z.MC.prototype;z.e.pd=function(){return this.yk};z.e.Lc=function(a){a!==this.yk&&(this.dispatchEvent(a?"beforeexpand":"beforecollapse"),this.yk=a,z.P(this.h,a),RC(this),this.dispatchEvent(a?"expand":"collapse"),this.im&&!a&&(z.iv(this.im),z.wr(this.im.m())))};z.e.gi=function(){this.Lc(!this.yk)};z.e.pj=function(){};z.e.No=function(){(0,window.$)("[data-input-box]",this.m()).focus()};z.e.reload=function(){SC(this,"reloadComments")};z.e.mn=function(a){this.Oj=a};
z.e.uf=function(){var a=this;RC(this);PC(this);this.o().g(z.rp,"anon_change",function(){a.yk&&a.reload()});(0,window.$)(this.m()).on("click",'button[data-key\x3d"cancel"]',function(b){0===OC(a)&&(b.preventDefault(),a.Lc(!1))})};z.e.B=function(){this.h=z.M("div","comment-app-holder");z.P(this.h,!1)};
z.e.render=function(a,b){b=void 0===b?{}:b;var c=this;z.Q.prototype.render.call(this,a);var d=this.entryType,f=this.Bb,g={},h=Object.assign((g.entry={id:f,type:d},g.useContentEditable=z.Gm,g.createItemActions=function(a){var b=[],d=a.id,f=a.own;!f&&z.Z.vI&&b.push({key:"adminremove",label:"鍒犻櫎",icon:"zg-icon zg-icon-comment-del",onClick:function(){var a={op:"remove-comment",action:"/manage?comment_id\x3d"+d+"\x26action\x3dremove_comment2"},b={id:d,type:"comment"};(new z.QB).open(a,b,function(){SC(c,
"RemoveComment",{id:d})})}});f||b.push({key:"report",label:"涓炬姤",icon:"zg-icon zg-icon-comment-report",onClick:function(b){(new z.Az({type:"comment",id:a.id,Ia:a.id})).render();z.V.trackEvent(b.target,{action:"ReportIntent",element:"Button"})}});return b},g.onEditorCreated=function(a){return nC(a,d,f)},g.onRequestHighlight=function(a){z.fr(a);z.wr(a,{offsetTop:45});a.focus()},g),b),g=z.ha(window.location.hash.match(/#comment-(\d+)/)||[]);g.next();(g=g.next().value)&&(h.query={bycomment:g});var k=Object.assign({},
z.Xw(),{authRequired:function(a,b){return z.Ir(a,b||!0,function(){return c.Oj})}}),l=z.Wh(function(){return c.px&&NC(c)});z.Vw("CommentApp").then(function(b){a.appendChild(c.h);c.es=b.render(c.h,h,k);c.uf();c.es.store.subscribe(function(){(0,window.setTimeout)(function(){RC(c);l()})})});return this};z.$G={JH:function(a){this.aw();var b=this.Ka.pd();(0,window.$)(".zm-meta-panel",this.m()).toggleClass("focusin",b);b&&(a=(0,window.parseInt)(z.qf(a.currentTarget),10)||0,this.Ka.pj("view_comments",a));z.V.trackEvent(this,{action:b?"CommentIntent":"EndCommentIntent",element:"Button"})},Zx:function(){return new (this.st())(this.Bb,this.entryType)},aw:function(){this.DG();this.Ka.gi()},n0:function(){return this.Ka},cS:function(){this.Ka?this.Ka.No():this.aw()},DG:function(){if(!this.Ka){var a=(0,window.$)(".toggle-comment, .js-toggleCommentBox",
this.h)[0];if(this.st()===z.MC)this.Ka=this.Zx(),this.K(this.Ka),this.Ka.render(this.gz(),{embedded:/^\/roundtable/.test(window.location.pathname)}),QC(this.Ka,a);else if(this.Ka=this.Zx(),this.K(this.Ka),z.oC(this.Ka,this.gz(),a),a=this.Ka,!a.Ff&&!z.Z.fb){var b=z.to(a.h,"zm-item-meta");if(b){var c=z.L("zm-meta-panel",b);c&&(a.Ff=new z.mv(null,b),a.Ff.tag="comment",a.Ff.w(c))}}this.hz&&this.Ka.mn(this.hz())}},st:function(){return z.kC}};z.y(TC,z.Q);var UC={ih:"is-sticky",top:null,bottom:null,Ob:null,NO:!1,iK:z.r,Tu:z.r};z.e=TC.prototype;z.e.D=function(){this.stop();TC.v.D.call(this)};z.e.start=function(){this.state.Km||(this.state.Km=!0,(0,window.$)(window).on("scroll resize",this.fM).trigger("scroll"))};z.e.stop=function(){this.state.Km&&(this.state.Km=!1,(0,window.$)(window).off("scroll resize",this.fM),this.restore(),this.state.gu=!1,this.state.iu=!0,(0,window.setTimeout)(function(){(0,window.$)(window).trigger("scroll")}))};
z.e.update=function(){if(this.state.Hp)this.state.QB=!0;else{var a=this.options.top,b=this.options.bottom,c=this.state.gu,d=this.state.iu,f,g,h=(this.xc||this.h).getBoundingClientRect(),k=this.options.Ob.getBoundingClientRect(),l=(0,window.$)(window).height();h.height||(h.height=h.bottom-h.top);null!==a?(f=h.top>a,g=k.bottom>a+h.height):null!==b&&(f=h.bottom>l-b,g=k.top>l-h.height-b);this.state.gu=f;this.state.iu=g;if((c&&!d)===(f&&!g))f&&!g&&this.ga();else{if(d&&!g)return WC(this);if(!d&&g)return YC(this);
this.options.NO?f?WC(this):YC(this):f?VC(this):this.restore()}}};z.e.ga=function(){var a=(this.xc||this.h).getBoundingClientRect().left,b=this.options.top,c=this.options.bottom;(0,window.$)(this.h).css({left:a+"px",top:b?b+"px":"auto",bottom:c?c+"px":"auto"})};z.e.restore=function(){this.xc&&((0,window.$)(this.h).removeClass(this.options.ih).css({left:"",top:"",bottom:""}),(0,window.$)(this.xc).remove(),this.xc=null,this.options.Tu.call(this))};
z.e.onAnimationEnd=function(){this.state.Hp=!1;this.state.QB&&(this.state.QB=!1,this.update())};z.y(z.$C,z.Q);z.Ca(z.$C.prototype,z.$G);var aD={post:"Post",answer:"Answer",question:"Question",roundtable:"Roundtable",column:"Column",promotion:"Ad",live:"Live",favorites:"Collection",ebook:"EBook",pin:"Pin",eventcard:"Event"};z.e=z.$C.prototype;z.e.ft="zm-item-expanded";z.e.jO="zm-item-meta, .js-contentActions";z.e.Wp=null;z.e.qy="z-icon-fold";z.e.aD="sprite-global-icon-fold-white";
z.e.C=function(){z.$C.v.C.call(this);fD(this);this.Kj();this.jg();cD(this);dD(this);if(this.ub)this.Zt();else{var a=this;this.g("expand",function(){return a.Zt()})}};z.e.tz=function(){return Object.assign({},{type:this.OD,id:this.Bb,token:this.Ue},this.So())};z.e.So=function(){return{}};z.e.mH=function(){return hD(this)};z.e.hz=function(){var a=this.entryType+"-"+this.Bb;return(0,window.$)('a[name\x3d"'+a+'"]',this.h).length&&"#"+a};
z.e.Kj=function(a){var b={".js-expand":this.expand,".js-collapse":this.collapse,".js-report":this.IS,".column[data-entry-url]":this.rH};z.Mb(b,a||{});z.Db(b,function(a,b){if(z.qa(a))(0,window.$)(this.h).on("click",b,window.$.proxy(a,this))},this);(0,window.$)(".js-toggleCommentBox",this.h).on("click",this.JH.bind(this))};z.e.Yp=function(){(0,z.NG)(this.entryType,this.Ue,"read")};z.e.pJ=function(){(0,z.NG)(this.entryType,this.Ue,"touch")};
z.e.expand=function(a){this.ub||(this.ub=!0,z.S.add(this.h,this.ft),this.dispatchEvent("expand"),a=a&&z.lf(a.target)&&z.zg(a.target,"js-vote-count"),this.fw(a),z.V.trackEvent(this,{action:"Expand",element:"Card"}))};z.e.collapse=function(){this.ub&&(this.ub=!1,this.ew(),Ar(this.h,(0,z.t)(function(){z.S.remove(this.h,this.ft);this.dispatchEvent("collapse")},this)),z.V.trackEvent(this,{action:"Collapse",element:"Button"}))};z.e.pd=function(){return this.ub};
z.e.gi=function(){this.ub?this.collapse():this.expand()};z.e.FL=function(){return!z.Nm};
z.e.Zt=function(){if(this.ub&&this.FL()&&!this.sQ){this.sQ=!0;var a=(0,window.$)(".js-collapse-body",this.h)[0];if(a){var b=this,c=(0,window.$)(".js-collapse",this.h)[0];if(!c){if("answer"!==this.entryType)return;c=(0,window.$)(".zm-meta-panel",this.h);if(!c.length)return;c=(0,window.$)('\x3cbutton class\x3d"item-collapse js-collapse"\x3e\x3ci class\x3d"sprite-global-icon-fold-white"\x3e\x3c/i\x3e鏀惰捣\x3c/button\x3e').appendTo(c).on("click",(0,z.t)(this.collapse,this)).get(0)}var d=this.WL=new TC(0,
{bottom:12,Ob:a,iK:function(){(0,window.$)("i",this.h).removeClass(b.qy).addClass(b.aD)},Tu:function(){(0,window.$)("i",this.h).removeClass(b.aD).addClass(b.qy)}});z.Ac(this,d);d.w(c);this.g("expand",function(a){a.target===a.currentTarget&&d.start()});this.g("collapse",function(a){a.target===a.currentTarget&&d.stop()});d.start()}}};
z.e.fw=function(a){var b="view_answer",c=hD(this);a=a?"vote_up_count":"expand_answer";var d=(0,window.$)(this.h).index()+1;if("feed"!==c)z.wi(b,"click_expand_answer",c+"_"+a,d);else{var c=gD(this),f=iD(this);-1<c.indexOf("article")?(b="view_article",c="feed_article",a="expand_article"):c="feed_answer";z.wi(b,"click_expand_answer",c+"_"+f+"_"+a,d)}};
z.e.ew=function(){var a="view_answer",b=hD(this),c;if(c=this.WL)c=this.WL,c=c.state.gu&&!c.state.iu;c=c?"blue":"grey";var d="collapse_answer_"+c,f=(0,window.$)(this.h).index()+1;if("feed"!==b)z.wi(a,"click_collapse_answer",b+"_"+d,f);else{var b=gD(this),g=iD(this);-1<b.indexOf("article")?(a="view_article",b="feed_article",d="collapse_article_"+c):b="feed_answer";z.wi(a,"click_collapse_answer",b+"_"+g+"_"+d,f)}};z.e.oW=function(){var a=z.L(this.Wp,this.h);window.open(a?a.href:this.jd.url)};
z.e.mk=function(){var a=this,b=(0,window.$)(this.m());b.slideUp(function(){a.dispose();b.remove()})};z.e.Kb=null;z.e.rH=function(a){var b=(0,window.$)(a.currentTarget).data("entry-url");"column"===this.entryType&&b&&!a.target.href&&window.open(b)};z.e.gz=function(){return jD(this)};z.e.st=function(){return["answer","post","ebook","pin"].includes(this.entryType)?z.MC:z.kC};
z.e.jg=function(){this.mf=z.en.aN(this.h);z.pl(z.pl(z.pl(z.pl(this.mf.register("shift+o",this.oW,this),{group:"鎿嶄綔",name:"鏂扮獥鍙ｆ墦寮€鏉＄洰"}).register("o",this.gi,this),{group:"鎿嶄綔",name:"鏄剧ず鍏ㄩ儴/鏀惰捣"}).register("c",this.aw,this),{group:"鎿嶄綔",name:"鎵撳紑璇勮"}).register("shift+c",this.cS,this),{group:"鎿嶄綔",name:"瀹氫綅鍒拌瘎璁烘"})};
z.e.IS=function(){var a={type:this.entryType,Ia:this.Ue,id:this.Bb};if("post"===a.type){var b=(0,window.$)(this.h),c=Boolean(b.find(".js-followButton").length),b=Boolean(b.find(".js-tipjar").length);Object.assign(a,{PT:c,aU:b})}(new z.Az(a)).render();z.V.trackEvent(this,{action:"ReportIntent",element:"Button"})};z.MD={nJ:function(a){return(0,window.$)('\x3cdiv class\x3d"copyright-notification"\x3e\x3cdiv class\x3d"user-image-container"\x3e\x3cimg class\x3d"user-image" src\x3d"'+(a||"")+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"tooltip right noty-tooltip"\x3e\x3cdiv class\x3d"tooltip-arrow arrow"\x3e \x3c/div\x3e\x3cdiv class\x3d"tooltip-inner inner"\x3e淇濈暀鎵€鏈夋潈鍒╋紝绂佹杞浇\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}};z.MD.uT=z.Wh(function(){var a=z.MD.nJ();(0,window.$)("body").append(a);return a});
z.MD.EY=function(a,b,c,d){var f=-1,g=-1,h=z.MD.uT();a.on("mousedown",function(a){3===a.which&&(f=a.pageX,g=a.pageY)});a.on("copy",function(k){var l=z.zu(),n=Math.floor(22*Math.random()+44);if(l&&l.$d()&&(0,z.ab)(l.$d()).length>n){d&&(k.preventDefault(),k.stopImmediatePropagation());(0,window.$)(".user-image",h).attr("src",b);(0,window.$)(".tooltip-inner",h).text(c);k=l.rz();var l=l.iz(),n=z.In(window).y,q=z.Qe(window).height,v=Ko(n+45+15,Math.min(k.y,l.y)+n,n+q-15),F=Ko(n+45+15,Math.max(k.y,l.y)+
n,n+q-15);z.Z.fb?(q=(z.Qe(window).width-265)/2,k=z.Nl?l.y>k.y?l.y+n+10:k.y+n-10:-1!==g?g+3:v+(F-v)/2-15):(q=-1!==f?f+3:a.offset().left+a.width()/2-15,k=-1!==g?g+3:v+(F-v)/2-15);h.css({position:"absolute",left:q,top:k}).finish().fadeIn(300).delay(2E3).fadeOut(300)}g=f=-1})};
z.MD.AE=function(a,b,c){function d(a,b,c){a=["浣滆€咃細"+b,"閾炬帴锛�"+a,"鏉ユ簮锛氱煡涔�","钁椾綔鏉冨綊浣滆€呮墍鏈夛紝杞浇璇疯仈绯讳綔鑰呰幏寰楁巿鏉冦€�"];b=["",""];return a=c?a.concat(b):b.concat(a)}function f(a,b,c,f){b=d(b,c,f).join("\x3cbr /\x3e");return"\x3cdiv\x3e"+(f?b+a:a+b)+"\x3c/div\x3e"}function g(a,b,c,f){b=d(b,c,f).join("\n");return f?b+a:a+b}function h(){var a="";window.getSelection?a=window.getSelection().toString():window.document.selection&&"Control"!==window.document.selection.type&&(a=window.document.selection.createRange().text);return a}
function k(a){var d=z.zu(),k=d&&(0,z.ab)(d.$d());if(k&&!(128>k.length)){k=512<=k.length;if("object"===typeof a.originalEvent.clipboardData&&(a.originalEvent.clipboardData.setData("text/html",f(d.Ag(),b,c,k)),a.originalEvent.clipboardData.setData("text/plain",g(h(),b,c,k)),0<a.originalEvent.clipboardData.getData("text/plain").length)){a.preventDefault();return}if(window.getSelection){a=d.Ag();var v=(0,window.$)(f(a,b,c,k)).css({position:"fixed",left:"-9999px"}).appendTo("body");window.getSelection().selectAllChildren(v.get(0));
(0,window.setTimeout)(function(){d.select();v.remove()},200)}}}a&&b&&c&&(z.Ia(b,"http")||(b=window.location.protocol+"//"+window.location.host+b),a.on("copy",k))};z.y(mD,z.Q);z.e=mD.prototype;z.e.sa=function(a){this.dispatchEvent({type:"trackRequested",category:"share",action:a.action.replace("[type]","post"!==this.hb?this.hb:"article"),attributes:a.attributes})};z.e.T=function(a){var b=this;mD.v.T.call(this,a);var c=this.wa=(0,window.$)(a);z.lj?c.click(z.Dw):z.Nm?c.click(this.rn.bind(this)):this.Db();c.click(function(){b.sa({action:"click_share_[type]_start"});(!b.cq||b.cq&&b.cq.W())&&z.V.trackEvent(a,{action:"ShareIntent",element:"Button"})})};
z.e.Db=function(){nD(this);this.wa.one("mouseover focus",window.$.proxy(z.Wh(this.VW),this))};z.e.VW=function(){this.qn||(this.qn=z.jt(this.hb,this.GM));if(this.cq){var a=z.zw(this.EL);(0,window.$)(".js-qrcode-image",this.cq.m()).attr("src",a)}};
z.e.tR=function(a){a=a.target.Y();0===a?this.rn():2===a&&(window.open("https://dudu.zhihu.com/post?"+window.$.param({url:this.EL,utm_source:"zhihu-web_share",utm_medium:"button",utm_campaign:"post"}),"_blank"),this.sa({action:"click_share_[type]_to_dudu_start"}),z.V.trackEvent(this.m(),{action:"Share",element:"Menu"},{share:{type:"Dudu"}}))};
z.e.rn=function(){this.qn||(this.qn=z.jt(this.hb,this.GM));this.qn.then(function(a){z.kD(a.msg.sina)});this.sa({action:"click_share_[type]_to_weibo_start"});z.V.trackEvent(this.m(),{action:"Share",element:"Menu"},{share:{type:"Weibo"}})};z.y(oD,BA);oD.prototype.mc=function(a){var b=oD.v.mc.call(this,a);a=(0,window.parseInt)(z.jl[a.keyCode],10);(0,window.isNaN)(a)||this.jb().Hb(a-1);return b};z.y(z.pD,z.Q);var qD={TY:"textarea.content, script.content",sP:".toggle-expand",PY:".summary",JF:null,HF:""};z.e=z.pD.prototype;
z.e.C=function(){z.pD.v.C.call(this);var a=this.h;this.Pr=(0,window.$)(this.options.TY,a);this.content=this.Pr.is(":input")?this.Pr.val():this.Pr.html();this.ul=(0,window.$)(this.options.PY,a);this.Rb=(0,window.$)(this.options.JF,a);this.zd=(0,window.$)(this.options.sP,this.ul);if(!this.ul.length)return this.dispatchEvent("invalid");this.EA=!!this.zd.length;this.zd.on("click",(0,z.t)(this.yR,this));this.ul.on("click",(0,z.t)(this.MS,this))};z.e.yR=function(a){a.preventDefault();rD(this)};
z.e.MS=function(a){var b=z.zu();b&&b.$d()||a.target===this.zd[0]||(b=(0,window.$)(a.target).closest("a").get(0),b&&"javascript:"!==b.protocol||(a.preventDefault(),rD(this)))};z.e.expand=function(){this.Rb.length||(this.Rb=(0,window.$)("\x3cdiv\x3e").html(this.content).addClass(this.options.HF).insertBefore(this.Pr));this.ul.hide();this.Rb.show();this.dispatchEvent("expand")};z.e.collapse=function(){this.ul.show();this.Rb.hide();this.dispatchEvent("collapse")};var zD={Ln:function(a,b){return window.$.post("/node/ColumnPostVoteBarV2",{method:b,params:{post_id:a}})},oH:function(a){return window.$.get("/node/ColumnPostVoteInfoV2",{params:{post_id:a}})}};z.y(uD,z.Q);z.wD={fh:1,xl:-1,Rr:0};uD.prototype.defaults={yZ:"up",yQ:"down",UP:"count",iv:"pressed"};z.Mb(uD.prototype,z.wD);z.e=uD.prototype;z.e.N=z.wD.Rr;
z.e.w=function(a){uD.v.w.call(this,a);var b=this.J;a=this.H=(0,window.$)(a);this.Nw=(0,window.$)("."+b.yZ,a);this.zw=(0,window.$)("."+b.yQ,a);this.Dr=(0,window.$)("."+b.UP,a);b=this.Nw.hasClass(this.J.iv);a=this.zw.hasClass(this.J.iv);b?this.N=z.wD.fh:a&&(this.N=z.wD.xl);xD(this);this.Nw.click(window.$.proxy(this.bw,this));this.zw.click(window.$.proxy(this.kM,this));z.V.Va(this,{module:"VoteBar"})};z.e.getState=function(){return this.N};
z.e.zc=z.Ir(function(a){a!==this.N&&z.Kn(z.wD,a)&&(this.dispatchEvent({type:"action",data:{state:a}}),this.Ei&&"pending"===this.Ei.state()&&this.Ei.abort(),vD(this,this.N,a),this.N=a,xD(this),this.RY().done((0,z.t)(function(a){a.r||this.Vc()},this)))},[!0,{activated:!1}]);z.e.Tq=function(a){this.Dr.text(z.Br((0,window.parseInt)(a)))};z.e.lb=function(){return this.Dr.text()};
z.e.RY=function(){var a={};a[z.wD.fh]="vote_up";a[z.wD.xl]="vote_down";a[z.wD.Rr]="vote_neutral";return this.Ei=(0,{post:zD.Ln,answer:BD.Ln,promotion:sD,pin:tD}[this.entryType])(this.Bb,a[this.N])};z.e.bw=function(){this.zc(this.N===z.wD.xl?z.wD.fh:this.N^z.wD.fh);z.V.trackEvent(this,{action:this.N===z.wD.Rr?"UnUpvote":"Upvote",element:"Button"})};z.e.kM=function(){this.zc(this.N===z.wD.fh?z.wD.xl:this.N^z.wD.xl);z.V.trackEvent(this,{action:this.N===z.wD.Rr?"UnDownvote":"Downvote",element:"Button"})};
z.e.Vc=function(){this.dispatchEvent("change")};z.AD={Ln:function(a,b){var c=void 0;switch(b){case "up":c=window.$.ajax({url:"/publications/"+a+"/upvote",method:"post"});break;case "neutral":c=window.$.ajax({url:"/publications/"+a+"/upvote",method:"delete"})}return c},uP:function(a,b){return window.$.ajax({method:"post",url:"/publications/"+a+"/buy",contentType:"application/json",data:JSON.stringify(b)})}};z.y(z.yD,z.Q);z.e=z.yD.prototype;z.e.lb=function(){return this.tb.data("votecount")};z.e.Tq=function(a){this.tb.data("votecount",a);this.Vc()};z.e.Vc=function(){this.dispatchEvent("change")};z.e.Th=function(a){if(a=(0,z.ab)(a))a=(0,window.$)(a),this.tb.replaceWith(a),this.tb=a,this.jc(),this.Vc()};
z.e.jc=function(){function a(a,d){var f=z.M("div","zm-voters");a.appendChild(f);var g=z.M("div","listview");f.appendChild(g);var h="/"+b.entryType+"/"+b.Bb+"/voters_profile",k=new z.El({use:[],source:function(){return window.$.get(h).then(function(a){var c=a.paging;c&&(c.total&&b.Tq(c.total),h=c.next);return{results:a.payload,next:!!h}})}});k.w(g);k.If().setAttribute("hidden","true");z.Ac(d,k);k.o().ta(k,"next",function(){k.mb().length?(k.If().removeAttribute("hidden"),k.use("autoload",{hs:!1,viewport:f})):
(k.dispose(),f.innerHTML='\x3cdiv class\x3d"empty-results"\x3e杩樻病鏈変汉璧炲悓\x3c/div\x3e')});return k.Gg()}var b=this;(0,window.$)("a.more",this.tb).click(function(){var c=z.T.async({modal:!0,title:b.lb()+" 浜鸿禐鍚�",className:"zm-voters-dialog",Xx:window.$.Deferred(function(b){(0,window.setTimeout)(function(){a(c.S(),c).then(function(){b.resolve(null)})})}).promise()});c.o().g(b,"change",function(){c.Ea(b.lb()+" 浜鸿禐鍚�")})})};z.e.C=function(){this.tb=(0,window.$)(this.h);this.jc();z.V.Va(this,{module:"VoteInfo"})};z.y(DD,z.Q);z.e=DD.prototype;z.e.T=function(a){DD.v.T.call(this,a);this.o().g(a,"click",this.rW)};z.e.pQ=function(){var a=this.lw;z.Bo(a.m(),this.SM);z.Dg(a.m(),[this.RM,this.TM])};z.e.OO='\x3cdiv class\x3d"text zg-clear"\x3e\x3clabel class\x3d"zg-left"\x3e璧炲悓\x3c/label\x3e\x3clabel class\x3d"zg-right"\x3e鍙嶅\x3c/label\x3e\x3c/div\x3e';z.e.TW='\x3cdiv class\x3d"text zg-clear votebar-text-post"\x3e\n  \x3clabel\x3e璧瀄x3c/label\x3e\n\x3c/div\x3e';
z.e.rW=z.Ir(function(){this.Na&&this.Na.dispose();var a=new z.R(null);a.ud(!0);a.kn(!0);a.UG=!0;ED(this);this.o().ta(a,"hide",this.pQ);var b=["post","promotion"].includes(this.lw.entryType)?this.TW:this.OO,c=a.S();c.appendChild(this.lw.m());c.appendChild(z.Ye(b));z.S.add(a.m(),this.uy);a.F(!0);this.Na=a;z.Ac(this,a)},[!0,{activated:!1}]);z.aH={Ep:function(){function a(){var a=c.pd();if(a&&(b(),f)){var d=f,h=d.tb;h.data("async-voters")&&(h.removeData("async-voters"),z.CD(d))}g&&z.hv(g,a)}function b(){if(!g){var a=!z.$h,b=z.L("js-collapse-body",c.m());a&&h&&(0,window.$)(h).is(":visible")&&b&&230<(0,window.$)(b).height()&&(g=c.R0=new z.mv(null,b),c.K(g),g.tag="votebar",g.uK=50,g.w(h))}}var c=this,d=void 0,f=void 0,g=void 0,h=(0,window.$)(".votebar, .zm-votebar",this.m())[0];if(h){d=this.ah=new uD(this.Bb,this.entryType);this.K(d);d.w(h);
var k=(0,window.$)(".js-openVoteDialog",this.m())[0];k&&(new DD(d)).w(k)}if(k=(0,window.$)(".zm-item-vote-info",this.m())[0])f=this.UM=new z.yD(this.Bb,this.entryType),this.K(f),f.w(k);d&&(this.o().g(d,"change",function(){f?z.CD(f):(0,window.$)("[data-bind-votecount]",this.m()).text(d.lb())}),f&&this.o().g(f,"change",function(){(0,window.$)("[data-bind-votecount]",this.m()).text(f.lb());d.Tq(f.lb())}));this.o().g(this,["expand","collapse"],a);(0,window.$)(this.m()).on("contentchange",b);(0,window.setTimeout)(a)}};z.y(z.FD,z.$C);z.e=z.FD.prototype;z.e.So=function(){return{parent_token:(0,window.$)(this.m()).find('link[itemprop\x3d"url"]').attr("href").match(/\/question\/([\d]+)\/answer\/([\d]+)/)[1]}};
z.e.Kj=function(){var a=this;z.FD.v.Kj.call(this,{".js-collect":this.zz,".js-thank":this.HH,".js-noHelp":this.wS,".js-administer":this.HL,".js-orgCollapse":this.AS,".js-expandQuestionDetail":this.zL.bind(this,!0)});this.Ep();this.zp();this.Ui();LD(this);"collect_pop"===window.location.hash.slice(1)&&(window.history.replaceState({},window.document.title,window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search),this.zz());this.Dh();this.hA();this.o().g(this,
"collapse",function(b){b.target===a&&a.zL(!1)});if(this.ub)this.Gm();else{var b=this;this.ta("expand",function(){return b.Gm()})}};
z.e.jg=function(){var a=this;z.FD.v.jg.call(this);z.pl(z.pl(z.pl(z.pl(this.mf.register("v",function(){a.ah&&a.ah.bw()}),{group:"鎿嶄綔",name:"璧炲悓"}).register("d",function(){a.ah&&a.ah.kM()}),{group:"鎿嶄綔",name:"鍙嶅"}).register("t",this.HH,this),{group:"鎿嶄綔",name:"鎰熻阿"}).register("s c",this.zz,this),{group:"鎿嶄綔",name:"鏀惰棌"});if(z.Z.vI&&(0,window.$)(".js-administer",jD(this))[0]){var b=this,c=z.Uc?"鈱�":"ctrl",d=function(){b.HL();b.Yr.Hb(0)};z.pl(z.pl(this.mf.register("meta+.",d),{group:"绠＄悊",name:"灞曞紑鑿滃崟",key:c+"+."}).register("meta+k",
function(){d();var a=b.Yr.Ni(0);a.jb&&a.jb()&&(a.Mv(),a.jb().Hb(0))}),{group:"绠＄悊",name:"灞曞紑鎶樺彔瀛愯彍鍗� (Kill)",key:c+"+k"})}};z.e.Dh=function(){var a=(0,window.$)(".js-share",this.m()).get(0),b=this.jd.url;a&&b&&(a=z.lD(a,"answer",this.Ue,b),z.Ac(this,a),a.xb(this))};
z.e.Ui=function(a){var b=new z.pD(a);this.K(b);b.w(this.h);this.g("expandRequest",(0,z.t)(this.expand,this));this.g("expand",function(a){a.target===a.currentTarget&&b.expand()});this.g("collapse",function(a){a.target===a.currentTarget&&b.collapse()});b.EA&&this.o().ta(b,"expand",this.Yp)};
z.e.zp=function(){var a=(0,window.$)(".phone-actions",this.m());if(a.length){var b=new z.Oz;b.w((0,window.$)(".menu",a)[0]);b=new z.mA("operation",b);b.cj=!0;z.oA(b);nA(b);b.Tb=z.Hl;b.w((0,window.$)(".menubutton",a)[0])}};
z.e.HH=bD(function(a){if(a=a.target){var b="true"===a.getAttribute("data-thanked");b?(Yq(a,"鎰熻阿"),a.setAttribute("data-thanked",!1),window.$.post("/answer/cancel_thanks",{aid:this.Bb})):(Yq(a,"鍙栨秷鎰熻阿"),a.setAttribute("data-thanked",!0),window.$.post("/answer/thanks",{aid:this.Bb}));z.V.trackEvent(a,{action:b?"UnThank":"Thank",element:"Button"})}},{authed:"question_answer_thank"});
z.e.wS=bD(function(a){a=a.target;var b=!!a.m;z.U.Ab({type:"ga_click_answer_not_helpful",target:b?a.m():a});this.ty&&"pending"===this.ty.state()&&this.ty.abort();var c=-1<(b?a.vh():a.innerHTML).indexOf("鎾ら攢"),d=c?"娌℃湁甯姪":"鎾ら攢娌℃湁甯姪";b?a.Rq(d):a.innerHTML=d;d=c?"/answer/helpful":"/answer/not_helpful";b||z.fr(a);this.ty=window.$.post(d,{aid:this.Bb});z.V.trackEvent(this,{action:c?"UnNoHelp":"NoHelp",element:"Button"})},[!0,{activated:!1}]);
z.e.zz=bD(function(){var a=z.Qz.ba();Tz(a,this.Bb);a.show();z.V.trackEvent(this,{action:"CollectIntent",element:"Button"})},{authed:"question_answer_collect"});z.e.hA=function(){var a=(0,window.$)(".js-settings",jD(this))[0];if(a){var b=this;this.PE=new HA(this);this.PE.w(a);this.o().g(this.PE,PA,function(){if(b.Ka){var a=b.Ka.pd();b.removeChild(b.Ka,!0);b.Ka.dispose();b.Ka=null;b.DG();a&&b.Ka.gi()}})}};
z.e.HL=function(){if(this.Yr)return this.Yr.F(!0);var a=GD(this);a&&(z.wA(a,new z.fA(this.uO,1,!0),0,new z.Gg(5,0,5,0)),JD(this,a),this.Yr=a)};z.e.AS=function(){var a=this,b=void 0,c,d;this.Vi?(b="鍙栨秷闅愯棌鍥炵瓟",c="纭鍙栨秷闅愯棌锛�",d="cancel_collapse"):(b="闅愯棌鍥炵瓟",c="闅愯棌鍚庤鍥炵瓟灏嗕笉灞曠ず涔熶笉娴侀€氾紝鏄惁纭闅愯棌锛�",d="collapse");z.T.confirm(b,c,function(b){b&&window.$.post("/answer/"+a.Ue+"/org_"+d).then(function(a){a.r?z.T.message(a.msg):(z.T.message("鎿嶄綔鎴愬姛锛�"),window.location.reload())})})};
z.e.Gm=function(){(0,window.$)("img.lazy:not([data-lazyloaded])",this.m()).attr("data-lazyloaded","").lazyload({load:function(){(0,window.$)(this).trigger("contentchange")},data_attribute:"actualsrc",event:"scroll updatelazy",threshold:400})};z.e.Kb=z.m(48);z.e.zL=function(a){(0,window.$)(".feed-question-detail-item",this.h).toggleClass("question-detail-expanded",a)};z.Ca(z.FD.prototype,z.aH);z.y(z.ND,z.$C);z.e=z.ND.prototype;z.e.Wp="post-link";z.e.C=function(){z.ND.v.C.call(this);this.Ep();this.Ui();this.zp();this.Dh();var a=(0,window.$)(".post-content",this.h),b=a.data("entryUrl"),c=a.data("authorName");z.MD.AE(a,b,c);OD(this)};z.e.mH=function(){return"feed_article_"+iD(this)+(this.pd()?"_expand":"")};z.e.Dh=function(){var a=(0,window.$)("a[name\x3dshare], .js-share",this.h).get(0),b=(0,window.$)(".post-link, .js-title-link",this.h).get(0);a&&b&&z.lD(a,"post",this.Ue,b.href).xb(this)};
z.e.Kb=z.m(47);z.e.Qz=z.m(49);z.e.Gz=z.m(50);z.e.Ui=function(a){var b=new z.pD(a);this.K(b);b.w(this.h);this.fD=b;this.g("expandRequest",(0,z.t)(this.expand,this));this.g("expand",function(a){a.target===a.currentTarget&&b.expand()});this.g("collapse",function(a){a.target===a.currentTarget&&b.collapse()});b.EA&&this.o().ta(b,"expand",this.Yp)};z.e.jg=function(){var a=this;z.ND.v.jg.call(this);z.pl(this.mf.register("v",function(){a.ah&&a.ah.bw()}),{group:"鎿嶄綔",name:"璧炲悓"})};
z.e.zp=function(){var a=(0,window.$)(".phone-actions",this.m());if(a.length){var b=new z.Oz;b.w((0,window.$)(".menu",a)[0]);b=new z.mA("operation",b);b.cj=!0;z.oA(b);nA(b);b.Tb=z.Hl;b.w((0,window.$)(".menubutton",a)[0])}};z.Ca(z.ND.prototype,z.aH);z.p(z.PD,z.$C);z.PD.prototype.Kb=z.m(46);z.p(z.QD,z.$C);z.QD.prototype.Kb=z.m(45);z.p(z.RD,z.$C);z.p(z.SD,z.$C);z.SD.prototype.Kb=z.m(44);z.p(z.TD,z.$C);z.TD.prototype.Kj=function(){z.$C.prototype.Kj.call(this,{"[data-entry-url]":function(a){var b=(0,window.$)(a.currentTarget).data("entry-url");b&&!a.target.href&&window.open(b)}})};z.TD.prototype.Kb=z.m(43);z.TD.prototype.Zx=function(){return new (this.st())(this.Ue,this.entryType)};z.p(UD,z.$C);UD.prototype.C=function(){z.$C.prototype.C.call(this);this.Ep();this.iA();this.zp()};UD.prototype.iA=function(){var a=(0,window.$)(".js-share",this.m()).get(0),b=this.jd["promotion-url"];a&&b&&z.lD(a,this.entryType,this.Ue,b).xb(this)};UD.prototype.jg=function(){var a=this;z.$C.prototype.jg.call(this);z.pl(this.mf.register("v",function(){a.ah&&a.ah.bw()}),{group:"鎿嶄綔",name:"璧炲悓"})};
UD.prototype.zp=function(){var a=(0,window.$)(".phone-actions",this.m());if(a.length){var b=new z.Oz;b.w((0,window.$)(".menu",a)[0]);b=new z.mA("operation",b);b.cj=!0;z.oA(b);nA(b);b.Tb=z.Hl;b.w((0,window.$)(".menubutton",a)[0])}};z.Ca(UD.prototype,z.aH);z.p(z.VD,z.$C);z.VD.prototype.Kb=z.m(42);z.VD.prototype.C=function(){z.$C.prototype.C.call(this);this.Ep();this.Dh();WD(this)};z.VD.prototype.Dh=function(){var a=(0,window.$)("a[name\x3dshare], .js-share",this.h).get(0),b=(0,window.$)(".pin-link, .js-title-link",this.h).get(0);a&&b&&z.lD(a,"pin",this.Ue,b.href).xb(this)};z.Ca(z.VD.prototype,z.aH);z.p(z.XD,z.$C);z.XD.prototype.C=function(){z.$C.prototype.C.call(this);(0,window.$)(this.m()).on("click",".eventcard-body[data-entry-url]",this.gU)};z.XD.prototype.gU=function(a){var b=(0,window.$)(a.currentTarget).data("entry-url");b&&!a.target.href&&window.open(b)};z.y(z.ZD,z.H);z.ZD.prototype.handleEvent=function(a){if("input"==a.type)z.C&&z.E(10)&&0==a.keyCode&&0==a.charCode||($D(this),this.dispatchEvent(aE(a)));else if("keydown"!=a.type||oo(a)){var b="keydown"==a.type?this.h.value:null;z.C&&229==a.keyCode&&(b=null);var c=aE(a);$D(this);this.la=z.vd(function(){this.la=null;this.h.value!=b&&this.dispatchEvent(c)},0,this)}};z.ZD.prototype.D=function(){z.ZD.v.D.call(this);this.U.dispose();$D(this);delete this.h};z.y(bE,z.H);var cE=0;bE.prototype.tB=function(){this.Pl()};bE.prototype.Pl=function(){var a=this.Hi.value.length;if(a>this.Fu){var b=this.Hi.scrollTop,c=this.Hi.scrollLeft;this.Hi.value=this.Hi.value.substring(0,this.Fu);a=this.Fu;this.Hi.scrollTop=b;this.Hi.scrollLeft=c}this.xG&&z.of(this.xG,String(1==this.uQ?a:this.Fu-a))};bE.prototype.D=function(){bE.v.D.call(this);delete this.Hi;this.pA.dispose();this.pA=null};var iE;z.y(z.dE,z.hj);z.e=z.dE.prototype;z.e.init=function(){this.cu||(this.cu=!0,this.B(),this.jc())};z.e.jc=function(){z.C||(new z.at("鎼滅储闂")).w(this.td);this.O=new z.ot("/redirect-question/autocomplete",this.td,null,null,z.J("zh-question-redirect-diag-content"),!1);this.O.fo=!1;this.O.Ug(!0);this.o().g(this.O,"suggestionsupdate",yr);this.o().g(this.O,"select",this.YV).g(this.pP,"click",function(){this.ua.F(!1)})};
z.e.YV=function(){var a=this.O.zg();if("search_link"===a[0])window.open("/search?q\x3d"+(0,window.encodeURIComponent)(a[1])+"\x26type\x3dquestion");else{this.td.value="";var b=a[3],a=a[1];this.ua.F(!1);this.td.value="";this.xhr=new z.dp(!0);this.o().ta(this.xhr,"complete",this.EO);this.xhr.ajax("/question/redirect","qid\x3d"+this.qa+"\x26rqid\x3d"+b);this.yv=b;this.KK=a}};
z.e.EO=function(){var a=z.Dn(this.xhr);a&&(a.r?z.T.message(a.msg):this.Dj?(this.Dj.innerHTML="宸茬粡閲嶅畾鍚�",this.Dj.setAttribute("data-disabled",1)):this.dispatchEvent("change"))};
z.e.B=function(){this.h=z.M("div",{id:"zh-question-redirect-diag"},["灏嗛棶棰樿烦杞嚦",z.M("div",{id:"zh-question-redirect-diag-content"},this.td=z.M("input",{type:"text","class":"zg-form-text-input"})),z.M("div","zm-command",this.pP=z.M("a",{href:"javascript:;","class":"zm-command-cancel",name:"cancel"},"鏀惧純鎿嶄綔"))]);this.ua=new z.R(null);this.ua.Ea("闂閲嶅畾鍚�");z.Rh(this.ua,null);this.ua.S().appendChild(this.h)};z.e.show=function(){this.init();this.ua.F(!0)};var bH={},bH=function(){z.H.call(this)};z.y(bH,z.hj);bH.Qw=[["闇€瑕佽缁嗛槓杩�","绛旀杩囦簬绠€鐭垨琛ㄨ堪涓嶆竻鏅帮紝璇峰畬鍠勭瓟妗堛€�"],["绛旈潪鎵€闂�","娌℃湁姝ｉ潰鎴栫洿鎺ュ洖绛旈棶棰橈紝璇蜂慨鏀圭瓟妗堛€�"],["搴斾綔涓洪棶棰樼殑璇勮","璇ュ唴瀹规槸瀵归棶棰樻湰韬殑璇勮鑰屼笉鏄洖绛旓紝璇锋敼涓哄彂甯冨埌璇勮銆�"],["搴斾綔涓虹瓟妗堢殑璇勮","璇ュ唴瀹规槸瀵瑰彟澶栦竴涓瓟妗堢殑璇勮鎴栧洖搴旓紝鑰屼笉鏄洖绛旈棶棰橈紝璇锋敼涓哄彂甯冨埌璇勮銆�"],["鍐呭閲嶅","涓庡凡鏈夌瓟妗堥噸澶嶏紝璇蜂慨鏀圭瓟妗堛€�"],["鍐呭宸茶繃鏈�","绛旀鐨勬椂鏁堟€у凡杩囷紝璇锋洿鏂扮瓟妗堛€�"],["闇€瑕佹敞鏄庡叧鑱斿埄鐩�","鏈夊箍鍛娿€佹帹閿€瀚岀枒锛岃娉ㄦ槑浣滆€呬笌鍒╃泭鏂圭殑鍏崇郴銆�"]];bH.wk=null;bH.ba=function(){bH.wk||(bH.wk=new bH,bH.wk.init());return bH.wk};z.e=bH.prototype;
z.e.init=function(){if(!this.h){this.B();this.jc();var a=new tx(this.h);ln(a);a.VH=!0;a.kn(!0);a.F(!1);a.WB=0;a.W()&&a.ga();z.ux(a,new z.Gg(13,0,0,-22));this.VB=a}};z.e.jc=function(){this.o().g(this.h,"click",this.VV)};z.e.VV=function(a){"A"===a.target.tagName&&(a=a.target.getAttribute("data-index"),this.$P.k0(a),this.VB.F(!1))};
z.e.B=function(){var a=z.M("div",{id:"zh-answer-flag-popup","class":"zg-r5px zu-hovercard-wrap"},[z.M("div","zg-r5px zu-hovercard-inner",[z.M("div",{id:"zh-answer-flag-popup-header"},[z.M("a",{"class":"zg-right",href:"/question/19867017",target:"_blank"},"杩欐槸浠€涔堬紵"),"閫夋嫨涓€涓悊鐢憋細"]),this.qK=z.M("div",{id:"zh-answer-flog-options-wrap"})]),z.M("div","zu-hovercard-spin-top")]);z.A(bH.Qw,function(a,c){var d=z.M("a",{href:"javascript:;","class":"zm-menu-item-link"},a[0]);d.setAttribute("data-index",c);this.qK.appendChild(d)},
this);window.document.body.appendChild(a);this.h=a};z.e.show=function(a,b){this.VB.setPosition(new z.rx(a,1));eE(this,b.o0());this.VB.F(!0);this.$P=b};var hE;z.y(fE,z.hj);fE.prototype.init=function(){this.B();this.tx()};
fE.prototype.B=function(){this.h=z.M("div",null,[z.M("div","zg-section",[z.M("div",null,"鏍囪锛�"),this.hm=z.M("select")]),z.M("div",null,[z.M("div",null,"鍘熷洜"),this.fC=z.M("textarea",{style:"width:96%;border:solid 1px #666;height:66px;padding:5px"})]),this.uo=z.M("div","zm-command",[z.M("a",{"class":"zg-mr10",href:"javascript:void(0);",name:"cancel"},"鍙栨秷"),z.M("a",{"class":"zg-btn-blue",href:"javascript:void(0);",name:"confirm"},"纭畾")])]);this.hm.appendChild(z.M("option",{value:"no"},"閫夋嫨鏍囪鍘熷洜"));z.A(bH.Qw,
function(a,b){this.hm.appendChild(z.M("option",{value:b},a[0]))},this);this.ua=new z.R(null);this.ua.Ea("鏍囪绛旀");z.Rh(this.ua,null);this.ua.S().appendChild(this.h)};
fE.prototype.tx=function(){this.o().g(this.hm,"change",function(){var a=this.hm.value;this.fC.value="no"===a?"":bH.Qw[+a][1]}).g(this.uo,"click",function(a){"cancel"===a.target.name?this.ua.F(!1):this.fC.value&&"no"!==this.hm.value&&(this.Wy=new z.dp(!0),this.o().g(this.Wy,"complete",function(){var a=z.Dn(this.Wy);a&&!a.r?(this.Dj.innerHTML="宸茬粡鏍囪",this.ua.F(!1)):z.T.message(a.msg)}),a=z.ar(this.fC.value),this.Wy.ajax("/answer/flag","answer_id\x3d"+this.hO+"\x26flag\x3d"+this.hm.value+"\x26reason\x3d"+
(0,window.encodeURIComponent)(a)))})};fE.prototype.show=function(){this.ua.F(!0)};z.y(z.kE,z.Q);z.e=z.kE.prototype;z.e.HD=!z.$h;z.e.ED=!z.$h;z.e.iJ=!1;z.e.lj=function(a){this.Hh=a};z.e.init=function(){this.de=z.J("zh-load-more");this.w(this.Ii)};
z.e.C=function(){z.kE.v.C.call(this);this.ho=1;oE(this);this.rl=(0,window.$)(this.de);this.de&&(mE(this),this.o().g(this.de,"click",function(){this.Jp=!0;this.mi&&"pending"===this.mi.state()&&1===this.ho?(this.mi.done((0,z.t)(this.Ok,this)),this.MC=!0,z.lE(this,!0)):this.HD&&this.hv?(this.Ok(this.hv),this.hv=null):(z.lE(this,!0),this.Kh())}),this.HD&&(this.kD=new z.oi(this.zB,100,this),this.o().g(window,"scroll",function(){this.kD.fire()})));pE(this,this.mb())};z.e.Gg=function(){this.Kh(!0)};
z.e.zB=function(){var a=this.de;a&&z.ah(a)&&1E3>=a.getBoundingClientRect().top-z.Qe().height&&!(this.hv||this.mi&&"pending"===this.mi.state())&&(this.ED&&(3!==this.ho||this.iJ?(this.Jp=!1,this.ho++,this.MC=!0):(this.ho=1,this.MC=!1)),this.Kh())};
z.e.Kh=function(a,b,c){b=b||z.r;if(!this.mi||"pending"!==this.mi.state()){var d=this.YB(window.$.extend(this.params,{offset:this.offset,start:this.Pv}));z.U.Ab({type:"topstory_feed_more"});z.V.trackEvent(this,{action:this.Jp?"LoadMore":"RollForMore",element:"Button"});this.mi=window.$.post(this.url,d).done(b).done(window.$.proxy(function(b){if(c)return c.call(this,b);this.HD&&!a?this.MC?this.Ok(b):(this.hv=b,z.lE(this,!1)):this.Ok(b)},this));1!==this.ho&&z.lE(this,!0);return this.mi}};z.e.YB=function(a){return a};
z.e.Ok=function(a){if(a&&!a.r){var b=a.msg,c=b[0],d=b[1],f;2<b.length&&(f=b[2],this.de.setAttribute("data-next",f));0<c&&(this.fs(d),this.offset=this.nB?this.nB(this.mb()):this.offset+c);b=!0;b=this.Mt?this.Mt(a):!(-1===f||10>c);z.P(this.de,b);z.lE(this,!1);z.nE(this)}};z.e.mb=function(){return z.Co(this.Hh,this.h)};z.e.OB=function(a){return a.id.replace(/^\w+-/,"")};
z.e.fs=function(a,b){var c=z.ma(a)?a.join(""):a,c=z.Ye(c+" "),d=z.Co(this.Hh,c);pE(this,d);"prepend"===b?z.cf(c,this.h.firstChild):this.h.appendChild(c);oE(this)};z.e.Su=z.r;z.y(z.rE,z.Jz);z.rE.prototype.ee=function(){return this.dispatchEvent("action")};z.Ip("goog-option",function(){return new z.rE(null)});z.y(z.sE,Kz);z.ka(z.sE);z.sE.prototype.B=function(a){return a.L().B("DIV",this.wg(a).join(" ")+" goog-inline-block","聽")};z.sE.prototype.w=function(a,b){b=z.sE.v.w.call(this,a,b);z.Ag(b,"goog-inline-block");return b};z.sE.prototype.V=function(){return"goog-toolbar-separator"};z.y(z.tE,Mr);z.ka(z.tE);z.tE.prototype.Ro=function(a){return"HR"==a.tagName?new z.Lz(z.sE.ba()):z.tE.v.Ro.call(this,a)};z.tE.prototype.V=function(){return"goog-toolbar"};z.tE.prototype.dH=function(){return z.dG};z.y(uE,iA);z.ka(uE);uE.prototype.V=function(){return"goog-toolbar-button"};z.y(z.vE,z.Rp);z.Ip("goog-toolbar-button",function(){return new z.vE(null)});z.y(wE,kA);z.ka(wE);wE.prototype.createCaption=function(a,b){return wE.v.createCaption.call(this,xE(a,b),b)};wE.prototype.Fa=function(a,b){a&&yE(this.S(a),b)};wE.prototype.af=function(a){var b=a.m();this.Fa(b,a.Y());z.Ag(b,"goog-color-menu-button");wE.v.af.call(this,a)};z.y(zE,z.Et);zE.prototype.next=function(){do zE.v.next.call(this);while(-1==this.gc);return this.node};z.y(z.AE,Bp);z.ka(z.AE);var EE=0;z.e=z.AE.prototype;z.e.B=function(a){var b=this.wg(a);a=a.L().B("DIV",b?b.join(" "):null,BE(this,a.cb(),a.wh(),a.L()));z.ug(a,"grid");return a};z.e.by=function(a,b){var c=b.B("TABLE",this.V()+"-table",b.B("TBODY",this.V()+"-body",a));c.cellSpacing=0;c.cellPadding=0;return c};z.e.Tb=function(){return!1};z.e.w=function(){return null};
z.e.X=function(a,b){if(a){var c=z.Me("TBODY",this.V()+"-body",a)[0];if(c){var d=0;z.A(c.rows,function(a){z.A(a.cells,function(a){z.bf(a);if(b){var c=b[d++];c&&a.appendChild(c)}})});if(d<b.length){for(var f=[],g=z.Ie(a),h=c.rows[0].cells.length;d<b.length;){var k=b[d++];f.push(CE(this,k,g));f.length==h&&(k=DE(this,f,g),c.appendChild(k),f.length=0)}if(0<f.length){for(;f.length<h;)f.push(CE(this,"",g));k=DE(this,f,g);c.appendChild(k)}}}z.fo(a,!0,z.B)}};z.e.V=function(){return"goog-palette"};z.y(GE,z.H);z.e=GE.prototype;z.e.Xh=null;z.e.Zf=null;z.e.pm=function(){return this.ff.length};z.e.Ni=function(a){return this.ff[a]||null};z.e.Ja=function(a){this.Fj(a,this.pm())};z.e.Fj=function(a,b){a&&(this.jn(a,!1),z.xb(this.ff,b,0,a))};z.e.removeItem=function(a){a&&z.tb(this.ff,a)&&a==this.Xh&&(this.Xh=null,this.dispatchEvent("select"))};z.e.Jf=function(){return this.Xh};z.e.mb=function(){return z.vb(this.ff)};z.e.$f=function(a){a!=this.Xh&&(this.jn(this.Xh,!1),this.Xh=a,this.jn(a,!0));this.dispatchEvent("select")};
z.e.gk=function(){var a=this.Xh;return a?z.kb(this.ff,a):-1};z.e.Yq=function(a){this.$f(this.Ni(a))};z.e.clear=function(){var a=this.ff;if(!z.ma(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0;this.Xh=null};z.e.D=function(){GE.v.D.call(this);delete this.ff;this.Xh=null};z.e.jn=function(a,b){a&&("function"==typeof this.Zf?this.Zf(a,b):"function"==typeof a.JC&&a.JC(b))};z.y(z.IE,Kp);z.e=z.IE.prototype;z.e.Mc=null;z.e.$a=-1;z.e.ma=null;z.e.D=function(){z.IE.v.D.call(this);this.ma&&(this.ma.dispose(),this.ma=null);this.Mc=null;this.Do.dispose()};z.e.ln=function(a){z.IE.v.ln.call(this,a);LE(this);this.ma?(this.ma.clear(),HE(this.ma,a)):(this.ma=new GE(a),a=(0,z.t)(this.jn,this),this.ma.Zf=a,this.o().g(this.ma,"select",this.nk));this.$a=-1};z.e.vh=function(){return""};z.e.Rq=function(){};
z.e.Id=function(a){z.IE.v.Id.call(this,a);var b=FE(this.M,this,a.target);b&&a.relatedTarget&&z.nf(b,a.relatedTarget)||b==ME(this)||(a=this.cb(),this.Hb(a?z.kb(a,b):-1))};z.e.ze=function(a){z.IE.v.ze.call(this,a);if(this.Jc()&&(a=FE(this.M,this,a.target),a!=ME(this))){var b=this.cb();this.Hb(b?z.kb(b,a):-1)}};z.e.ee=function(a){var b=ME(this);return b?(this.$f(b),z.IE.v.ee.call(this,a)):!1};
z.e.mc=function(a){var b=this.cb(),b=b?b.length:0,c=this.Mc.width;if(0==b||!this.isEnabled())return!1;if(13==a.keyCode||32==a.keyCode)return this.ee(a);if(36==a.keyCode)return this.Hb(0),!0;if(35==a.keyCode)return this.Hb(b-1),!0;var d=0>this.$a?this.gk():this.$a;switch(a.keyCode){case 37:if(-1==d||0==d)d=b;this.Hb(d-1);a.preventDefault();return!0;case 39:return d==b-1&&(d=-1),this.Hb(d+1),a.preventDefault(),!0;case 38:-1==d&&(d=b+c-1);if(d>=c)return this.Hb(d-c),a.preventDefault(),!0;break;case 40:if(-1==
d&&(d=-c),d<b-c)return this.Hb(d+c),a.preventDefault(),!0}return!1};z.e.nk=function(){};z.e.wh=function(){return this.Mc};z.e.Hb=function(a){a!=this.$a&&(NE(this,this.$a,!1),this.OA=this.$a,this.$a=a,NE(this,a,!0),this.dispatchEvent("j"))};z.e.gk=function(){return this.ma?this.ma.gk():-1};z.e.Jf=function(){return this.ma?this.ma.Jf():null};z.e.Yq=function(a){this.ma&&this.ma.Yq(a)};z.e.$f=function(a){this.ma&&this.ma.$f(a)};
z.e.Yc=function(a){a&&-1==this.$a?this.Hb(-1<this.OA?this.OA:0):a||this.Hb(-1);z.IE.v.Yc.call(this,a)};z.e.jn=function(a,b){if(this.m()&&a){var c=a.parentNode;z.po(c,this.M.V()+"-cell-selected",b);z.vg(c,"selected",b)}};z.y(JE,Kp);z.y(OE,z.IE);OE.prototype.Nu=null;OE.prototype.mu=null;OE.prototype.qz=function(){var a=this.Jf();return a?(a=lo(a,"background-color"),QE(a)):null};OE.prototype.Xq=function(a){a=QE(a);this.Nu||(this.Nu=z.mb(this.As,function(a){return QE(a)}));this.Yq(a?z.kb(this.Nu,a):-1)};z.y(RE,z.mA);var TE={q_:"#000 #444 #666 #999 #ccc #eee #f3f3f3 #fff".split(" "),K_:"#f00 #f90 #ff0 #0f0 #0ff #00f #90f #f0f".split(" "),H_:"#f4cccc #fce5cd #fff2cc #d9ead3 #d0e0e3 #cfe2f3 #d9d2e9 #ead1dc #ea9999 #f9cb9c #ffe599 #b6d7a8 #a2c4c9 #9fc5e8 #b4a7d6 #d5a6bd #e06666 #f6b26b #ffd966 #93c47d #76a5af #6fa8dc #8e7cc3 #c27ba0 #cc0000 #e69138 #f1c232 #6aa84f #45818e #3d85c6 #674ea7 #a64d79 #990000 #b45f06 #bf9000 #38761d #134f5c #0b5394 #351c75 #741b47 #660000 #783f04 #7f6000 #274e13 #0c343d #073763 #20124d #4c1130".split(" ")};
z.e=RE.prototype;z.e.qz=function(){return this.Y()};z.e.Xq=function(a){this.Fa(a)};z.e.Fa=function(a){for(var b=0,c;c=this.Ni(b);b++)"function"==typeof c.Xq&&c.Xq(a);RE.v.Fa.call(this,a)};z.e.fp=function(a){"function"==typeof a.target.qz?this.Fa(a.target.qz()):"none"==a.target.Y()&&this.Fa(null);RE.v.fp.call(this,a);a.stopPropagation();this.dispatchEvent("action")};z.e.Mb=function(a,b){a&&0==this.pm()&&(this.$h(SE(this.L())),this.Fa(this.Y()));RE.v.Mb.call(this,a,b)};
z.Ip("goog-color-menu-button",function(){return new RE(null)});z.y(UE,kA);z.ka(UE);UE.prototype.V=function(){return"goog-toolbar-menu-button"};z.y(VE,UE);z.ka(VE);VE.prototype.createCaption=function(a,b){return lA(xE(a,b),this.V(),b)};VE.prototype.Fa=function(a,b){a&&yE(this.S(a),b)};VE.prototype.af=function(a){this.Fa(a.m(),a.Y());z.Ag(a.m(),"goog-toolbar-color-menu-button");VE.v.af.call(this,a)};z.y(WE,RE);z.Ip("goog-toolbar-color-menu-button",function(){return new WE(null)});z.y(XE,z.mA);z.Ip("goog-toolbar-menu-button",function(){return new XE(null)});z.y(YE,z.mA);z.e=YE.prototype;z.e.ma=null;z.e.C=function(){YE.v.C.call(this);$E(this);cF(this)};z.e.T=function(a){YE.v.T.call(this,a);(a=this.vh())?ZE(this,a):this.Jf()||this.Yq(0)};z.e.D=function(){YE.v.D.call(this);this.ma&&(this.ma.dispose(),this.ma=null);this.py=null};z.e.fp=function(a){this.$f(a.target);YE.v.fp.call(this,a);a.stopPropagation();this.dispatchEvent("action")};z.e.nk=function(){var a=this.Jf();YE.v.Fa.call(this,a&&a.Y());$E(this)};
z.e.$h=function(a){var b=YE.v.$h.call(this,a);a!=b&&(this.ma&&this.ma.clear(),a&&(this.ma?z.Ch(a,function(a){bF(a);this.ma.Ja(a)},this):aF(this,a)));return b};z.e.Ja=function(a){bF(a);YE.v.Ja.call(this,a);this.ma?this.ma.Ja(a):aF(this,this.jb());dF(this)};z.e.Fj=function(a,b){bF(a);YE.v.Fj.call(this,a,b);this.ma?this.ma.Fj(a,b):aF(this,this.jb())};z.e.removeItem=function(a){YE.v.removeItem.call(this,a);this.ma&&this.ma.removeItem(a)};
z.e.$f=function(a){if(this.ma){var b=this.Jf();this.ma.$f(a);a!=b&&this.dispatchEvent("change")}};z.e.Yq=function(a){this.ma&&this.$f(this.ma.Ni(a))};z.e.Fa=function(a){if(null!=a&&this.ma)for(var b=0,c;c=this.ma.Ni(b);b++)if(c&&"function"==typeof c.Y&&c.Y()==a){this.$f(c);return}this.$f(null)};z.e.Y=function(){var a=this.Jf();return a?a.Y():null};z.e.Jf=function(){return this.ma?this.ma.Jf():null};z.e.gk=function(){return this.ma?this.ma.gk():-1};
z.e.Mb=function(a,b){YE.v.Mb.call(this,a,b);this.Eb()?this.jb().Hb(this.gk()):dF(this)};z.Ip("goog-select",function(){return new YE(null)});z.y(fF,YE);z.Ip("goog-toolbar-select",function(){return new fF(null)});var kF=[10,10,13,16,18,24,32,48];var cH=z.w("Link");z.w("Edit Link");z.w("Text to display:");z.dH=z.w("Link to:");z.w("Web address");z.w("Link to a page or file somewhere else on the web");z.w("Test this link");
z.w("{$startBold}Not sure what to put in the box?{$endBold} First, find the page on the web that you want to link to. (A {$searchEngineLink}search engine{$endLink} might be useful.) Then, copy the web address from the box in your browser's address bar, and paste it into the box above.",{startBold:"\x3cb\x3e",endBold:"\x3c/b\x3e",searchEngineLink:"\x3ca href\x3d'http://www.google.com/' target\x3d'_new'\x3e",endLink:"\x3c/a\x3e"});z.w("To what URL should this link go?");z.w("Email address");z.w("Link to an email address");
z.w("Invalid email address");z.w("To what email address should this link?");z.w("{$preb}Be careful.{$postb} Remember that any time you include an email address on a web page, nasty spammers can find it too.",{preb:"\x3cb\x3e",postb:"\x3c/b\x3e"});z.w("Open this link in a new window");z.w("Image");var eH,fH,uF,tF,gH,hH,iH,jH,jF,kH,lH,mH,nH,mF,oH,pH,qH,rH,sH,tH,uH,vH,wH,xH,yH,zH,AH,BH,CH,DH,EH,FH,GH,HH,IH,JH,KH,LH,MH,NH,OH,PH,QH,RH,TH,UH,VH;
for(eH=z.w("Normal"),fH=z.w("Normal / serif"),uF=[{caption:eH,value:"arial,sans-serif"},{caption:fH,value:"times new roman,serif"},{caption:"Courier New",value:"courier new,monospace"},{caption:"Georgia",value:"georgia,serif"},{caption:"Trebuchet",value:"trebuchet ms,sans-serif"},{caption:"Verdana",value:"verdana,sans-serif"}],tF={ja:[{caption:"锛汲 锛般偞銈枫儍銈�",value:"ms pgothic,sans-serif"},{caption:"锛汲 锛版槑鏈�",value:"ms pmincho,serif"},{caption:"锛汲 銈淬偡銉冦偗",value:"ms gothic,monospace"}],ko:[{caption:"甑措",value:"gulim,sans-serif"},
{caption:"氚旐儠",value:"batang,serif"},{caption:"甑措觳�",value:"gulimche,monospace"}],"zh-tw":[{caption:"鏂扮窗鏄庨珨",value:"pmingliu,serif"},{caption:"绱版槑楂�",value:"mingliu,serif"}],"zh-cn":[{caption:"瀹嬩綋",value:"simsun,serif"},{caption:"榛戜綋",value:"simhei,sans-serif"},{caption:"MS Song",value:"ms song,monospace"}]},gH=z.w("Small"),hH=z.w("Normal"),iH=z.w("Large"),jH=z.w("Huge"),jF=[{caption:gH,value:1},{caption:hH,value:2},{caption:iH,value:4},{caption:jH,value:6}],kH=z.w("Heading"),lH=z.w("Subheading"),mH=z.w("Minor heading"),
nH=z.w("Normal"),mF=[{caption:kH,Ca:"H2"},{caption:lH,Ca:"H3"},{caption:mH,Ca:"H4"},{caption:nH,Ca:"P"}],oH=z.w("Format"),pH=z.w("Format"),qH=z.w("Undo"),rH=z.w("Redo"),sH=z.w("Font"),tH=z.w("Font size"),uH=z.w("Text color"),vH=z.w("Bold"),wH=z.w("Italic"),xH=z.w("Underline"),yH=z.w("Text background color"),zH=z.w("Add or remove link"),AH=z.w("Numbered list"),BH=z.w("Bullet list"),CH=z.w("Decrease indent"),DH=z.w("Increase indent"),EH=z.w("Align left"),FH=z.w("Align center"),GH=z.w("Align right"),
HH=z.w("Justify"),IH=z.w("Remove formatting"),JH=z.w("Insert image"),KH=z.w("Strikethrough"),LH=z.w("Left-to-right"),MH=z.w("Right-to-left"),NH=z.w("Quote"),OH=z.w("Edit HTML source"),PH=z.w("Subscript"),QH=z.w("Superscript"),RH=z.w("Edit HTML"),z.SH={},TH=[{Ca:"+undo",na:qH,Xa:"tr-icon tr-undo",factory:vF,sb:!0},{Ca:"+redo",na:rH,Xa:"tr-icon tr-redo",factory:vF,sb:!0},{Ca:"+fontName",na:sH,Xa:"tr-fontName",factory:function(a,b,c,d,f,g){var h=qF(a,b,c,d,f,g);sF(h);ZE(h,eH);z.Ag(h.jb().S(),"goog-menu-noaccel");
h.sj=function(a){var b=null;a&&0<a.length&&(b=z.yh(h.jb(),gF(a)));b!=h.Jf()&&h.$f(b)};return h},sb:!0},{Ca:"+fontSize",na:tH,Xa:"tr-fontSize",factory:function(a,b,c,d,f,g){var h=qF(a,b,c,d,f,g);iF(h);ZE(h,hH);z.Ag(h.jb().S(),"goog-menu-noaccel");h.sj=function(a){var b;if(b=z.oa(a))b=a.match(PF),b="px"==(b&&b[0]||null);b&&(b=kF,a=Array.prototype.lastIndexOf.call(b,(0,window.parseInt)(a,10),b.length-1));a=0<a?a:null;a!=h.Y()&&h.Fa(a)};return h},sb:!0},{Ca:"+bold",na:vH,Xa:"tr-icon tr-bold",sb:!0},{Ca:"+italic",
na:wH,Xa:"tr-icon tr-italic",sb:!0},{Ca:"+underline",na:xH,Xa:"tr-icon tr-underline",sb:!0},{Ca:"+foreColor",na:uH,Xa:"tr-icon tr-foreColor",factory:function(a,b,c,d,f,g){a=rF(a,b,c,d,f,g);a.Xq("#000");a.sj=z.Aa(wF,a);return a},sb:!0},{Ca:"+backColor",na:yH,Xa:"tr-icon tr-backColor",factory:function(a,b,c,d,f,g){a=rF(a,b,c,d,f,g);a.Xq("#FFF");a.sj=z.Aa(wF,a);return a},sb:!0},{Ca:"+link",na:zH,caption:cH,Xa:"tr-link",sb:!0},{Ca:"+insertOrderedList",na:AH,Xa:"tr-icon tr-insertOrderedList",sb:!0},{Ca:"+insertUnorderedList",
na:BH,Xa:"tr-icon tr-insertUnorderedList",sb:!0},{Ca:"+outdent",na:CH,Xa:"tr-icon tr-outdent",factory:z.nF},{Ca:"+indent",na:DH,Xa:"tr-icon tr-indent",factory:z.nF},{Ca:"+justifyLeft",na:EH,Xa:"tr-icon tr-justifyLeft",sb:!0},{Ca:"+justifyCenter",na:FH,Xa:"tr-icon tr-justifyCenter",sb:!0},{Ca:"+justifyRight",na:GH,Xa:"tr-icon tr-justifyRight",sb:!0},{Ca:"+justifyFull",na:HH,Xa:"tr-icon tr-justifyFull",sb:!0},{Ca:"+removeFormat",na:IH,Xa:"tr-icon tr-removeFormat",factory:z.nF},{Ca:"image",na:JH,Xa:"tr-icon tr-image",
factory:z.nF},{Ca:"+strikeThrough",na:KH,Xa:"tr-icon tr-strikeThrough",sb:!0},{Ca:"+subscript",na:PH,Xa:"tr-icon tr-subscript",sb:!0},{Ca:"+superscript",na:QH,Xa:"tr-icon tr-superscript",sb:!0},{Ca:"ltr",na:LH,Xa:"tr-icon tr-ltr",sb:!0},{Ca:"rtl",na:MH,Xa:"tr-icon tr-rtl",factory:function(a,b,c,d,f,g){var h=z.pF(a,b,c,d,f,g);h.sj=function(a){a=!!a;z.po(h.getParent().m(),"tr-rtl-mode",a);h.yc(a)};return h},sb:!0},{Ca:"+BLOCKQUOTE",na:NH,Xa:"tr-icon tr-BLOCKQUOTE",sb:!0},{Ca:"+formatBlock",na:oH,caption:pH,
Xa:"tr-formatBlock",factory:function(a,b,c,d,f,g){var h=qF(a,b,c,d,f,g);lF(h);ZE(h,nH);z.Ag(h.jb().S(),"goog-menu-noaccel");h.sj=function(a){a=a&&0<a.length?a:null;a!=h.Y()&&h.Fa(a)};return h},sb:!0},{Ca:"editHtml",na:OH,caption:RH,Xa:"tr-editHtml",factory:z.nF}],UH=0,VH;VH=TH[UH];UH++)z.SH[VH.Ca]=VH;TH=null;var WH={};WH.track=qr;z.y(z.xF,z.$A);z.Ca(z.xF.prototype,WH);z.xF.prototype.defaults={il:null,title:"Distraction Free Mode",dP:"back",SX:"publish",Po:"zu-editing-distraction-free",LY:"sticky-goog-scrollfloater",jZ:"zm-editable-toolbar-container"};z.xF.prototype.Hd=z.hb("FullScreenPlugin");z.SH.toggleFullScreen={Ca:"toggleFullScreen",na:"鍐欎綔妯″紡",Xa:"tr-icon tr-max",factory:z.nF};z.e=z.xF.prototype;z.e.ef=z.Aa(z.Kn,{P_:"toggleFullScreen",j_:"enterFullScreen",k_:"exitFullScreen"});
z.e.D=function(){this.ea.dispose();z.N(this.h);this.J=this.pr=this.Fc=this.Nb=this.h=null;z.xF.v.D.call(this)};
z.e.Gx=function(){var a=this.J,b=window.document.createElement("div");b.id="zu-distraction-free-editor";b.innerHTML='\x3cdiv class\x3d"header"\x3e\x3cdiv class\x3d"wrapper"\x3e\x3ch1 class\x3d"title"\x3e'+a.title+'\x3c/h1\x3e\x3ca href\x3d"#" class\x3d"'+a.dP+'" name\x3d"return"\x3e杩斿洖\x3c/a\x3e\x3ca href\x3d"#" class\x3d"'+a.SX+'" name\x3d"save"\x3e鍙戝竷\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"toolbar"\x3e\x3cdiv class\x3d"tools"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"content" class\x3d"grid"\x3e\x3c/div\x3e';window.document.body.appendChild(b);
this.ea.g(z.L("back",b),"click",function(a){a.preventDefault();BF(this)});this.ea.g(z.L("publish",b),"click",function(a){a.preventDefault();this.dispatchEvent("save")&&BF(this)});this.h=b;this.Fc=z.L("content",b);this.pr=z.M("div",{className:"toolbar-info"});this.J.il||(this.J.il=this.G.La)};z.e.Df=function(a){this.h||this.Gx();switch(a){case "enterFullScreen":yF(this);break;case "exitFullScreen":BF(this);break;case "toggleFullScreen":z.S.has(window.document.body,this.J.Po)?BF(this):yF(this)}};
z.e.ZJ=function(){z.S.has(window.document.body,this.J.Po)?BF(this):"writing"===window.location.hash.slice(1)&&yF(this)};z.e.sq=function(a){27===a.keyCode&&this.dispatchEvent("shouldExitFullScreenOnEscape")&&BF(this)};z.e.AL=function(a){z.S[a?"add":"remove"](this.Nb,this.J.LY)};z.x("ZH.m",z.DF);z.y(z.EF,z.H);z.EF.prototype.show=function(){this.Af||(this.Af=this.ay(),this.Af.g("hide",this.vR,!1,this));this.Af.F(!0)};z.EF.prototype.hide=function(){this.Af&&this.Af.F(!1)};z.EF.prototype.Eb=function(){return!!this.Af&&this.Af.W()};z.FF.prototype.Ea=function(a){this.vj.Ea(a);return this};z.FF.prototype.Td=function(a,b,c){c=c||z.Vo();this.qo.set(c,a);this.po[c]=b;return this};z.FF.prototype.pi=function(a){z.Ag(this.vj.We(),a);return this};
z.FF.prototype.X=function(a){this.vj.S().appendChild(a);return this};z.e=z.EF.prototype;z.e.rt=z.m(23);z.e.yS=function(a){return(a=this.Ao(a))?this.dispatchEvent(a):!1};z.e.bp=function(){return this.dispatchEvent("cancel")};z.e.D=function(){this.Af&&(this.hide(),this.Af.dispose(),this.Af=null);z.EF.v.D.call(this)};z.e.vR=function(){this.dispatchEvent("afterhide")};z.y(z.JF,z.$A);z.e=z.JF.prototype;z.e.ef=function(a){return a==this.MP};z.e.execCommand=function(a,b){return this.Df.apply(this,arguments)};z.e.eH=function(){return this.Na};z.e.Df=function(a,b){this.lL||LF(this);this.Na||(this.Na=this.$x(z.Ie(this.G.Cl),b));var c=z.CB(this.G);this.gL=bB(this);this.pL=c&&new z.ev(c);Eu(this.G.qb.eb());z.ld(this.Na,"afterhide",this.ap,!1,this);this.G.Ch=!0;this.Na.show();this.dispatchEvent("dialogOpened");z.DB(this.G);return!0};
z.e.ap=function(){this.G.Ch=!1;z.KF(this);this.gL();this.lL||LF(this);this.dispatchEvent("dialogClosed");z.DB(this.G);this.G.Ps.selectionchange=(0,z.I)()};z.e.D=function(){LF(this);z.JF.v.D.call(this)};z.e.lL=!1;z.e.vA=!1;z.y(MF,z.EF);z.y(NF,z.Lc);z.e=MF.prototype;z.e.template=(0,z.Gr)('\x3cdiv class\x3d"zm-img-uploader"\x3e\x3ciframe src\x3d"about:blank" name\x3d"av_up_frame" style\x3d"position: absolute; height: 0; width: 0; left: -9000px; "\x3e\x3c/iframe\x3e\x3cform class\x3d"zg-clear" target\x3d"av_up_frame" method\x3d"POST" enctype\x3d"multipart/form-data" action\x3d"\x3c%\x3d uploadURL %\x3e"\x3e\x3cdiv class\x3d"tab-content selected \x3c% if (canStylize) { %\x3einline\x3c% } %\x3e"\x3e\x3c% if (canStylize) { %\x3e\x3cinput type\x3d"file" name\x3d"upload_file" style\x3d"opacity:0;height:0;width:0;font-size:0;position:absolute;"\x3e\x3ca href\x3d"javascript:;" class\x3d"browser zg-btn-blue"\x3e閫夋嫨鍥剧墖\x3c/a\x3e\x3c% } else { %\x3e\x3cinput type\x3d"file" name\x3d"upload_file"\x3e\x3c% } %\x3e\x3c/div\x3e\x3cspan style\x3d"display: none; " class\x3d"zm-img-uploader-loading"\x3e姝ｅ湪涓婁紶\x3c/span\x3e\x3cspan style\x3d"display: none; " class\x3d"zm-img-uploader-error"\x3e涓婁紶鍥剧墖澶辫触锛岃绋嶅悗閲嶈瘯\x3c/span\x3e\x3c/form\x3e\x3cdiv class\x3d"zg-gray"\x3e璇蜂笉瑕佷笂浼犱笌鍥炵瓟闂鏃犲叧鐨勫浘鐗囷紝璇︾粏璇风湅 \x3ca href\x3d"/question/20064580" target\x3d"_blank"\x3e鐭ヤ箮鍥剧墖浣跨敤瑙勮寖\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"cancel" href\x3d"javascript:;"\x3e鍙栨秷\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e');
z.e.ay=function(){var a=z.Ye(this.template({uploadURL:this.kl,canStylize:this.vP}));z.Db({form:"form",Lh:".zm-img-uploader-loading",Cf:".zm-img-uploader-error",jt:"input[type\x3dfile]",jF:".browser",Jx:".cancel"},function(b,d){this[d]=(0,window.$)(b,a).get(0)},this);this.U.g(z.U,"iframe_data",this.bx).g(this.jt,"change",this.UW).g(this.Jx,"click",function(){this.bp();this.hide()});this.IF=a;this.jF&&this.U.g(this.jF,"click",function(){this.jt.click()});var b=new z.FF(this);b.Ea("鎻掑叆鍥剧墖").X(this.IF);
b=z.IF(b);z.Rh(b,null);return b};z.e.UW=function(){this.jt.value&&(sr(this.jt.value)?(z.P(this.Lh,!0),z.P(this.Cf,!1),this.form.submit()):(z.P(this.Lh,!1),this.Cf.innerHTML="鍥剧墖涓嶆槸 .jpg 鎴� .png 鏍煎紡鏃犳硶涓婁紶",z.P(this.Cf,!0)))};z.e.bx=function(a){z.P(this.Lh,!1);this.mj(a.Wf)};z.e.mj=function(a){a&&!a.r?(this.dispatchEvent(this.Ao(a.msg)),this.hide()):(a=a.msg,z.P(this.Lh,!1),this.Cf.innerHTML=a,z.P(this.Cf,!0))};z.e.Ao=function(a){return new NF(a)};z.e.D=function(){this.U.dispose();this.U=null;MF.v.D.call(this)};
z.y(z.OF,z.JF);z.e=z.OF.prototype;z.e.Hd=z.hb("ImageDialogPlugin");z.e.Df=function(a,b){var c=this.G;return c.Qf||(c.vg(),c.Qf)?z.OF.v.Df.call(this,a,b):!1};z.e.nk=function(a){if(a&&"mouseup"===a.type){var b=a.target;b&&"IMG"===b.nodeName&&(a=z.Ku(b),a||(a=window.document.createElement("br"),z.df(a,b)),z.Tu(a))}};z.e.ap=function(a){z.OF.v.ap.call(this,a)};z.e.$x=function(a){a=new MF(a);this.U.g(a,"ok",this.gp).g(a,"cancel",this.wz);return a};z.e.D=function(){z.OF.v.D.call(this);this.U.dispose()};
z.e.gp=function(a){z.KF(this);var b=z.aB(this),c;c=a.sK?b.B("IMG",{"class":"origin_image zh-lightbox-thumb","data-original":a.sK,title:"鐐瑰嚮鏌ョ湅鍘熷浘",src:a.Fm}):b.B("IMG",{"class":"content_image",src:a.Fm});a.RK&&c.setAttribute("data-rawwidth",a.RK);a.QK&&c.setAttribute("data-rawheight",a.QK);a=z.CB(this.G);if(z.cv(a))a.ej(c),z.C||(z.Uu(c,!1),b.eb().focus()),z.DB(this.G),this.G.Bf();else return null;this.U.removeAll()};z.e.wz=function(){this.U.removeAll()};}).call(this, __z_z__);
//# sourceURL=/static/revved/-/js/closure/common.5d54dd1d.js